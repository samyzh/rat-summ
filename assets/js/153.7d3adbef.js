(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{1373:function(s,e,v){s.exports=v.p+"assets/img/17-42-54.f95f6bed.jpg"},1374:function(s,e,v){s.exports=v.p+"assets/img/11-25-51.4a348a83.jpg"},2172:function(s,e,v){"use strict";v.r(e);var a=v(14),t=Object(a.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"redisç®€ä»‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redisç®€ä»‹"}},[s._v("#")]),s._v(" Redisç®€ä»‹")]),s._v(" "),a("p",[s._v("Redis å…¨ç§°ä¸ºï¼š"),a("code",[s._v("Remote Dictionary Server")]),s._v("ï¼ˆè¿œç¨‹æ•°æ®æœåŠ¡ï¼‰ï¼Œæ˜¯ä¸€ä¸ªåŸºäº"),a("strong",[s._v("å†…å­˜ä¸”æ”¯æŒæŒä¹…åŒ–çš„é«˜æ€§èƒ½ key-value æ•°æ®åº“")]),s._v("ã€‚æ•´ä¸ªæ•°æ®åº“åŠ è½½åœ¨å†…å­˜å½“ä¸­è¿›è¡Œæ“ä½œï¼Œ å®šæœŸé€šè¿‡å¼‚æ­¥æ“ä½œæŠŠæ•°æ®åº“æ•°æ® flush åˆ°ç¡¬ç›˜ä¸Šè¿›è¡Œä¿å­˜ã€‚\nå…·å¤‡ä¸€ä¸‹å‡ ä¸ªåŸºæœ¬ç‰¹å¾ï¼š")]),s._v(" "),a("ol",[a("li",[s._v("å¤šæ•°æ®ç±»å‹")]),s._v(" "),a("li",[s._v("æŒä¹…åŒ–æœºåˆ¶")]),s._v(" "),a("li",[s._v("ä¸»ä»åŒæ­¥")])]),s._v(" "),a("h3",{attrs:{id:"redis-çš„ç‰¹ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis-çš„ç‰¹ç‚¹"}},[s._v("#")]),s._v(" Redis çš„ç‰¹ç‚¹")]),s._v(" "),a("ol",[a("li",[s._v("Redis æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª key-value ç±»å‹çš„æ•°æ®åº“")]),s._v(" "),a("li",[s._v("æ•´ä¸ªæ•°æ®åº“éƒ½æ˜¯"),a("code",[s._v("åœ¨å†…å­˜ä¸­è¿›è¡Œæ“ä½œï¼Œå¯å®šæœŸåˆ·æ–°åˆ°ç£ç›˜è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨")])]),s._v(" "),a("li",[s._v("ç”±äºæ˜¯åœ¨å†…å­˜æ“ä½œï¼Œè¯»å†™èƒ½åŠ›éå¸¸å¥½ï¼Œ"),a("code",[s._v("æ¯ç§’å¯ä»¥å¤„ç† 10 ä¸‡æ¬¡è¯»å†™æ“ä½œ")])]),s._v(" "),a("li",[s._v("Redis æ”¯æŒå¤šç§æ•°æ®ç»“æ„ï¼Œæä¾›äº†ä¸°å¯Œçš„æ•°æ®ç±»å‹é€‰æ‹©")]),s._v(" "),a("li",[s._v("Redis åŒæ—¶"),a("code",[s._v("æ”¯æŒæ•°æ®å¤‡ä»½ï¼Œä¸»ä»é…ç½®")])]),s._v(" "),a("li",[s._v("Redis çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯"),a("code",[s._v("åŸå­æ€§çš„")])]),s._v(" "),a("li",[s._v("Redis æ”¯æŒæ•°æ®æŒä¹…åŒ–å­˜å‚¨ï¼Œå¯ä»¥å°†æ•°æ®å­˜å‚¨åœ¨ç£ç›˜ä¸­ï¼Œæœºå™¨é‡å¯æ•°æ®å°†ä»ç£ç›˜é‡æ–°åŠ è½½æ•°æ®ï¼›")]),s._v(" "),a("li",[s._v("Redis æ”¯æŒæ•°æ®çš„å¤‡ä»½ï¼Œå³ "),a("code",[s._v("Master-Slave æ¨¡å¼çš„æ•°æ®å¤‡ä»½")]),s._v("ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"redisä¸memcacheçš„åŒºåˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redisä¸memcacheçš„åŒºåˆ«"}},[s._v("#")]),s._v(" Redisä¸Memcacheçš„åŒºåˆ«")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("å­˜å‚¨æ–¹å¼ä¸åŒ")]),s._v("ï¼šMemcache æŠŠæ•°æ®å…¨éƒ¨å­˜åœ¨å†…å­˜ä¹‹ä¸­ï¼Œæ–­ç”µåä¼šä¸¢å¤±ã€‚Redis æ‰€æœ‰æ•°æ®åŠ è½½åœ¨å†…å­˜ï¼Œä½†ä¹Ÿä¼šæŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œä¿è¯æ•°æ®çš„æŒä¹…æ€§ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("æ”¯æŒæ•°æ®ç±»å‹ä¸åŒ")]),s._v("ï¼šMemcache å¯¹æ•°æ®ç±»å‹æ”¯æŒç›¸å¯¹ç®€å•ï¼Œåªæ”¯æŒ key-value ç»“æ„ã€‚Redis æœ‰å¤æ‚çš„æ•°æ®ç±»å‹ã€‚Redisä¸ä»…ä»…æ”¯æŒç®€å•çš„k/vç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜æä¾›listï¼Œsetï¼Œzsetï¼Œhashç­‰æ•°æ®ç»“æ„çš„å­˜å‚¨ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("åº•å±‚æ¨¡å‹ä¸åŒ")]),s._v("ï¼šåº•å±‚å®ç°æ–¹å¼ä»¥åŠå®¢æˆ·ç«¯é€šä¿¡åº”ç”¨åè®®ä¸ä¸€æ ·ã€‚ Redis ç›´æ¥è‡ªå·±æ„å»ºäº† VM æœºåˆ¶ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("è¿è¡Œç¯å¢ƒä¸åŒ")]),s._v("ï¼šRedis ç›®å‰å®˜æ–¹åªæ”¯æŒ Linux ä¸Šè¿è¡Œã€‚")]),s._v(" "),a("li",[s._v("Memcachedæ˜¯å¤šçº¿ç¨‹ï¼Œéé˜»å¡IOå¤ç”¨çš„ç½‘ç»œæ¨¡å‹ï¼›Redisä½¿ç”¨"),a("code",[s._v("å•çº¿ç¨‹çš„å¤šè·¯ IO å¤ç”¨æ¨¡å‹")]),s._v("ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("é›†ç¾¤æ¨¡å¼")]),s._v("ï¼šmemcachedæ²¡æœ‰åŸç”Ÿçš„é›†ç¾¤æ¨¡å¼ï¼Œéœ€è¦ä¾é å®¢æˆ·ç«¯æ¥å®ç°å¾€é›†ç¾¤ä¸­åˆ†ç‰‡å†™å…¥æ•°æ®ï¼›ä½†æ˜¯ redis ç›®å‰æ˜¯"),a("code",[s._v("åŸç”Ÿæ”¯æŒ cluster æ¨¡å¼çš„")]),s._v(".")]),s._v(" "),a("li",[s._v("Redis çš„å‡ºè‰²ä¹‹å¤„ä¸ä»…ä»…æ˜¯æ€§èƒ½ï¼Œ Redis æœ€å¤§çš„é­…åŠ›æ˜¯æ”¯æŒä¿å­˜å¤šç§æ•°æ®ç»“æ„ï¼Œ æ­¤å¤–å•ä¸ªvalue çš„æœ€å¤§é™åˆ¶æ˜¯ 1GBï¼Œ ä¸åƒ memcached åªèƒ½ä¿å­˜ 1MB çš„æ•°æ®ï¼›")])]),s._v(" "),a("p",[s._v("å›¾ç¤ºåŒºåˆ«ï¼š\n"),a("img",{attrs:{src:v(1373),alt:""}}),s._v(" "),a("img",{attrs:{src:v(1374),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"redisç›¸æ¯”-memcached-ä¼˜åŠ¿"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redisç›¸æ¯”-memcached-ä¼˜åŠ¿"}},[s._v("#")]),s._v(" Redisç›¸æ¯” Memcached ä¼˜åŠ¿")]),s._v(" "),a("ul",[a("li",[s._v("Memcached æ‰€æœ‰çš„å€¼å‡æ˜¯ç®€å•çš„å­—ç¬¦ä¸²ï¼ŒRedis ä½œä¸ºå…¶æ›¿ä»£è€…ï¼Œæ”¯æŒæ›´ä¸ºä¸°å¯Œçš„æ•°æ®ç±»å‹")]),s._v(" "),a("li",[s._v("Redis çš„é€Ÿåº¦æ¯” Memcached å¿«å¾ˆå¤š")]),s._v(" "),a("li",[s._v("Redis å¯ä»¥æŒä¹…åŒ–å…¶æ•°æ®")]),s._v(" "),a("li",[s._v("Redis çš„ä¸»è¦ç¼ºç‚¹æ˜¯"),a("em",[s._v("æ•°æ®åº“å®¹é‡å—åˆ°ç‰©ç†å†…å­˜çš„é™åˆ¶")]),s._v("ï¼Œ ä¸èƒ½ç”¨ä½œæµ·é‡æ•°æ®çš„é«˜æ€§èƒ½è¯»å†™ï¼Œ å› æ­¤ Redis é€‚åˆçš„åœºæ™¯ä¸»è¦å±€é™åœ¨è¾ƒå°æ•°æ®é‡çš„é«˜æ€§èƒ½æ“ä½œå’Œè¿ç®—ä¸Š")])]),s._v(" "),a("h3",{attrs:{id:"redisä½œä¸ºç¼“å­˜æ•°æ®åº“å’Œmysqlç»“æ„åŒ–æ•°æ®åº“è¿›è¡Œå¯¹æ¯”"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redisä½œä¸ºç¼“å­˜æ•°æ®åº“å’Œmysqlç»“æ„åŒ–æ•°æ®åº“è¿›è¡Œå¯¹æ¯”"}},[s._v("#")]),s._v(" Redisä½œä¸ºç¼“å­˜æ•°æ®åº“å’ŒMySQLç»“æ„åŒ–æ•°æ®åº“è¿›è¡Œå¯¹æ¯”")]),s._v(" "),a("ul",[a("li",[s._v("ä»æ•°æ®åº“ç±»å‹ä¸Šï¼ŒRedisæ˜¯NoSQLåŠç»“æ„åŒ–ç¼“å­˜æ•°æ®åº“ï¼ŒMySQLæ˜¯ç»“æ„åŒ–å…³ç³»å‹æ•°æ®åº“ï¼›")]),s._v(" "),a("li",[s._v("ä»è¯»å†™æ€§èƒ½ä¸Šï¼ŒMySQLæ˜¯æŒä¹…åŒ–ç¡¬ç›˜å­˜å‚¨ï¼Œè¯»å†™é€Ÿåº¦è¾ƒæ…¢ï¼Œ Redisæ•°æ®å­˜å‚¨è¯»å–éƒ½åœ¨å†…å­˜ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œè¯»å†™é€Ÿåº¦è¾ƒå¿«ï¼›")]),s._v(" "),a("li",[s._v("ä»ä½¿ç”¨åœºæ™¯ä¸Šï¼ŒRedisä¸€èˆ¬ä½œä¸º MySQLæ•°æ®è¯»å–æ€§èƒ½ä¼˜åŒ–çš„æŠ€æœ¯é€‰å‹ï¼Œ"),a("em",[s._v("å½¼æ­¤é…åˆä½¿ç”¨")]),s._v("ã€‚")])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"redisé€šè®¯åè®®åŠç‰¹ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redisé€šè®¯åè®®åŠç‰¹ç‚¹"}},[s._v("#")]),s._v(" Redisé€šè®¯åè®®åŠç‰¹ç‚¹")]),s._v(" "),a("ul",[a("li",[s._v("Redisçš„é€šä¿¡åè®®æ˜¯ Redis Serialization Protocolï¼Œç®€ç§° "),a("strong",[s._v("RESP")]),s._v("ã€‚æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š\n"),a("ul",[a("li",[s._v("æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„")]),s._v(" "),a("li",[a("em",[s._v("åœ¨TCPå±‚")])]),s._v(" "),a("li",[s._v("åŸºäºè¯·æ±‚â€”å“åº”çš„æ¨¡å¼")])])])]),s._v(" "),a("h4",{attrs:{id:"é€šä¿¡åè®®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é€šä¿¡åè®®"}},[s._v("#")]),s._v(" é€šä¿¡åè®®")]),s._v(" "),a("blockquote",[a("p",[s._v("é¦–å…ˆæ˜¯ä»¥è¡Œæ¥åˆ’åˆ†ï¼Œæ¯è¡Œä»¥\\r\\nè¡Œç»“æŸã€‚æ¯ä¸€è¡Œéƒ½æœ‰ä¸€ä¸ªæ¶ˆæ¯å¤´ï¼Œæ¶ˆæ¯å¤´å…±åˆ†ä¸º5ç§åˆ†åˆ«å¦‚ä¸‹:")])]),s._v(" "),a("ul",[a("li",[s._v("(+) è¡¨ç¤ºä¸€ä¸ªæ­£ç¡®çš„çŠ¶æ€ä¿¡æ¯ï¼Œå…·ä½“ä¿¡æ¯æ˜¯å½“å‰è¡Œ+åé¢çš„å­—ç¬¦ã€‚")]),s._v(" "),a("li",[s._v("(-) è¡¨ç¤ºä¸€ä¸ªé”™è¯¯ä¿¡æ¯ï¼Œå…·ä½“ä¿¡æ¯æ˜¯å½“å‰è¡Œï¼åé¢çš„å­—ç¬¦ã€‚")]),s._v(" "),a("li",[s._v("(*) è¡¨ç¤ºæ¶ˆæ¯ä½“æ€»å…±æœ‰å¤šå°‘è¡Œï¼Œä¸åŒ…æ‹¬å½“å‰è¡Œ,*åé¢æ˜¯å…·ä½“çš„è¡Œæ•°ã€‚")]),s._v(" "),a("li",[s._v("()è¡¨ç¤ºä¸‹ä¸€è¡Œæ•°æ®é•¿åº¦ï¼Œä¸åŒ…æ‹¬æ¢è¡Œç¬¦é•¿åº¦\\r\\n,åé¢åˆ™æ˜¯å¯¹åº”çš„é•¿åº¦çš„æ•°æ®ã€‚")]),s._v(" "),a("li",[s._v("(ğŸ˜ƒ è¡¨ç¤ºè¿”å›ä¸€ä¸ªæ•°å€¼ï¼Œï¼šåé¢æ˜¯ç›¸åº”çš„æ•°å­—èŠ‚ç¬¦ã€‚")])]),s._v(" "),a("blockquote",[a("blockquote",[a("p",[s._v("ä¸¾ä¸ªä¾‹å­ï¼šã€ä½¿ç”¨Wireshark è¿½è¸ªRedisé€šä¿¡ã€‘")])])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("```\n*3\\r\\n  #æ¶ˆæ¯ä¸€å…±æœ‰ä¸‰è¡Œ\n$3\\r\\n #ç¬¬ä¸€è¡Œæœ‰é•¿åº¦ä¸º3\nset\\r\\n #ç¬¬ä¸€è¡Œçš„æ¶ˆæ¯\n$4\\r\\n  #ç¬¬äºŒè¡Œé•¿åº¦ä¸º4 \ndemo\\r\\n #ç¬¬äºŒè¡Œçš„æ¶ˆæ¯\n$6\\r\\n #ç¬¬ä¸‰è¡Œé•¿åº¦ä¸º6\n123456\\r\\n #ç¬¬ä¸‰è¡Œçš„æ¶ˆæ¯\n+OK\\r\\n #æ“ä½œæˆåŠŸ\n```\n")])])]),a("blockquote",[a("p",[s._v("ps:")]),s._v(" "),a("blockquote",[a("p",[s._v("æ— è®ºæ˜¯javaçš„å®¢æˆ·ç«¯Jredis è¿˜æ˜¯è¯´ é’ˆå¯¹phpçš„rediså®¢æˆ·ç«¯æ‰©å±•ï¼ŒåŸç†å…¶å®æ˜¯ä¸€æ ·çš„ã€‚è¿™äº›å®¢æˆ·ç«¯åªæ˜¯æŠŠæˆ‘ä»¬çš„"),a("code",[s._v("å‘½ä»¤ç¿»è¯‘æˆä¸ºäº†redisè¯·æ±‚æŠ¥æ–‡æ ¼å¼ï¼Œå‘é€ç»™serverç«¯çš„6379ç«¯å£ï¼Œserverç«¯å“åº”è¯·æ±‚ä¹‹åï¼Œ å®¢æˆ·ç«¯æ‹¿åˆ°ä¿¡æ¯")]),s._v(" ï¼Œè§£ææˆä¸ºjavaå˜é‡æˆ–è€…phpå˜é‡ç­‰ç­‰è€Œå·²ï¼Œ è¿™äº›å·¥å…·åŒ…æ‰€æä¾›çš„åŠŸèƒ½ç»æ­¤è€Œå·²ã€‚")])])]),s._v(" "),a("blockquote",[a("blockquote",[a("p",[s._v("æˆ‘ä»¬è‡ªå·±å®Œå…¨"),a("code",[s._v("å¯ä»¥ä½¿ç”¨socketè¿›è¡Œç¼–ç¨‹ï¼Œ æŒ‰ç…§rediså®¢æˆ·ç«¯è¯·æ±‚æŠ¥æ–‡è§„èŒƒï¼Œä¸€æ ·èƒ½è®¿é—®å’Œæ“ä½œredis")]),s._v("ã€‚åªä¸è¿‡ï¼Œæˆ‘ä»¬çš„ä¸»è¦ç²¾åŠ›åœ¨å·¥ä½œçš„ä¸šåŠ¡ä»£ç é€»è¾‘ä¸Šï¼Œè€Œéæ˜¯åœ¨å¤„ç†redisçš„æ“ä½œä¸Šï¼Œæ‰€ä»¥æ²¡å¿…è¦è‡ªå·±å»æä¸€ä¸ªå·¥å…·åº“ã€‚ä¸è¿‡ï¼Œè¿™æ ·èƒ½å¤Ÿè®©ä½ å¯¹äºç†è§£rediså®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é€šä¿¡è¿‡ç¨‹æ›´åŠ æ·±åˆ»å’Œç†è§£ã€‚ æ¯å½“æ“ä½œredisçš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„è„‘æµ·ä¸­è‡ªç„¶å‡ºç°äº†åº•å±‚å®é™…å‘é€æ•°æ®æµå‘çš„ç”»é¢ï¼Œ è‡ªç„¶ä»¥åæ’æŸ¥é”™è¯¯å°±çŸ¥æ ¹çŸ¥åº•äº†")])])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"åº”ç”¨åœºæ™¯è®¾è®¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åº”ç”¨åœºæ™¯è®¾è®¡"}},[s._v("#")]),s._v(" åº”ç”¨åœºæ™¯è®¾è®¡")]),s._v(" "),a("h4",{attrs:{id:"redis-é€‚ç”¨åœºæ™¯æœ‰å“ªäº›"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis-é€‚ç”¨åœºæ™¯æœ‰å“ªäº›"}},[s._v("#")]),s._v(" Redis é€‚ç”¨åœºæ™¯æœ‰å“ªäº›")]),s._v(" "),a("p",[a("strong",[s._v("é€‚ç”¨åœºæ™¯ï¼š")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("æ•°æ®ï¼ˆçƒ­ç‚¹ï¼‰é«˜å¹¶å‘")]),s._v("çš„è¯»å†™")]),s._v(" "),a("li",[a("code",[s._v("æµ·é‡æ•°æ®")]),s._v("çš„è¯»å†™")]),s._v(" "),a("li",[a("code",[s._v("å¯¹æ‰©å±•æ€§è¦æ±‚é«˜")]),s._v("çš„æ•°æ®")])]),s._v(" "),a("p",[a("strong",[s._v("ä¸é€‚åœºæ™¯ï¼š")])]),s._v(" "),a("ul",[a("li",[s._v("éœ€è¦"),a("code",[s._v("äº‹åŠ¡æ”¯æŒ")]),s._v("ï¼ˆéå…³ç³»å‹æ•°æ®åº“ï¼‰")]),s._v(" "),a("li",[s._v("åŸºäº SQL ç»“æ„åŒ–æŸ¥è¯¢å‚¨å­˜ï¼Œ"),a("code",[s._v("å…³ç³»å¤æ‚")])])]),s._v(" "),a("h4",{attrs:{id:"redis-å¸¸ç”¨çš„ä¸šåŠ¡åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis-å¸¸ç”¨çš„ä¸šåŠ¡åœºæ™¯"}},[s._v("#")]),s._v(" Redis å¸¸ç”¨çš„ä¸šåŠ¡åœºæ™¯")]),s._v(" "),a("ol",[a("li",[s._v("**çƒ­ç‚¹æ•°æ®ç¼“å­˜ï¼š**ç”±äº Redis è®¿é—®é€Ÿåº¦å—ã€æ”¯æŒçš„æ•°æ®ç±»å‹æ¯”è¾ƒä¸°å¯Œï¼Œæ‰€ä»¥ Redis å¾ˆé€‚åˆç”¨æ¥å­˜å‚¨çƒ­ç‚¹æ•°æ®")]),s._v(" "),a("li",[s._v("**é™æ—¶ä¸šåŠ¡å®ç°ï¼š**expire å‘½ä»¤è®¾ç½® key çš„ç”Ÿå­˜æ—¶é—´ï¼Œåˆ°æ—¶é—´åè‡ªåŠ¨åˆ é™¤ keyã€‚æ”¶é›†éªŒè¯ç ã€ä¼˜æƒ æ´»åŠ¨ç­‰ä¸šåŠ¡åœºæ™¯ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("è®¡æ•°å™¨å®ç°ï¼š")]),a("code",[s._v("incrby å‘½ä»¤å¯ä»¥å®ç°åŸå­æ€§çš„é€’å¢")]),s._v("ï¼Œæ‰€ä»¥"),a("code",[s._v("å¯ä»¥è¿ç”¨äºé«˜å¹¶å‘çš„ç§’æ€æ´»åŠ¨ã€åˆ†å¸ƒå¼åºåˆ—å·çš„ç”Ÿæˆ")]),s._v("ã€‚æ¯”å¦‚"),a("code",[s._v("é™åˆ¶ä¸€ä¸ªæ‰‹æœºå·å‘å¤šå°‘æ¡çŸ­ä¿¡ã€ä¸€ä¸ªæ¥å£ä¸€åˆ†é’Ÿé™åˆ¶å¤šå°‘è¯·æ±‚ã€ä¸€ä¸ªæ¥å£ä¸€å¤©é™åˆ¶è°ƒç”¨å¤šå°‘æ¬¡ç­‰ç­‰")]),s._v("ã€‚")]),s._v(" "),a("li",[s._v("**æ’è¡Œæ¦œå®ç°ï¼š**å€ŸåŠ© "),a("code",[s._v("SortedSet è¿›è¡Œçƒ­ç‚¹æ•°æ®çš„æ’åº")]),s._v("ã€‚ä¾‹å¦‚ï¼š"),a("code",[s._v("ä¸‹å•é‡æœ€å¤šçš„ç”¨æˆ·æ’è¡Œæ¦œï¼Œæœ€çƒ­é—¨çš„å¸–å­ï¼ˆå›å¤æœ€å¤šï¼‰")]),s._v("ç­‰ã€‚Redisåœ¨å†…å­˜ä¸­"),a("code",[s._v("å¯¹æ•°å­—è¿›è¡Œé€’å¢æˆ–é€’å‡çš„æ“ä½œå®ç°")]),s._v("çš„éå¸¸å¥½ã€‚")]),s._v(" "),a("li",[s._v("**å¸ƒå¼é”å®ç°ï¼š**åˆ©ç”¨ Redis çš„ setnx å‘½ä»¤è¿›è¡Œã€‚åé¢ä¼šæœ‰è¯¦ç»†çš„å®ç°ä»‹ç»ã€‚")]),s._v(" "),a("li",[s._v("**é˜Ÿåˆ—æœºåˆ¶å®ç°ï¼š**Redis æœ‰ list push å’Œ list pop è¿™æ ·çš„å‘½ä»¤ï¼Œæ‰€ä»¥èƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„æ‰§è¡Œé˜Ÿåˆ—æ“ä½œã€‚Reids åœ¨å†…å­˜å­˜å‚¨å¼•æ“é¢†åŸŸçš„ä¸€å¤§ä¼˜ç‚¹æ˜¯æä¾› list å’Œ set æ“ä½œï¼Œè¿™ä½¿å¾— Redis èƒ½ä½œä¸ºä¸€ä¸ªå¾ˆå¥½çš„æ¶ˆæ¯é˜Ÿåˆ—å¹³å°æ¥ä½¿ç”¨")]),s._v(" "),a("li",[s._v("**ä¼šè¯ç¼“å­˜(Session Cache)ï¼š**æœ€å¸¸ç”¨çš„ä¸€ç§ä½¿ç”¨ Redis çš„æƒ…æ™¯æ˜¯ä¼šè¯ç¼“å­˜ï¼ˆsession cacheï¼‰ã€‚ç”¨ Redis ç¼“å­˜ä¼šè¯æ¯”å…¶ä»–å­˜å‚¨ï¼ˆå¦‚ Memcachedï¼‰ çš„ä¼˜åŠ¿åœ¨äºï¼šRedis æä¾›æŒä¹…åŒ–ã€‚")]),s._v(" "),a("li",[s._v("**å‘å¸ƒ/è®¢é˜…ï¼š**å‘å¸ƒ/è®¢é˜…çš„ä½¿ç”¨åœºæ™¯ç¡®å®éå¸¸å¤šã€‚å·²çœ‹è§äººä»¬åœ¨ç¤¾äº¤ç½‘ç»œè¿æ¥ä¸­ä½¿ç”¨ï¼Œ è¿˜å¯ä½œä¸ºåŸºäºå‘å¸ƒ/è®¢é˜…çš„è„šæœ¬è§¦å‘å™¨ï¼Œ ç”šè‡³ç”¨ Redis çš„å‘å¸ƒ/è®¢é˜…åŠŸèƒ½æ¥å»ºç«‹èŠå¤©ç³»ç»Ÿã€‚")])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"å…¶ä»–ç›¸å…³"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–ç›¸å…³"}},[s._v("#")]),s._v(" å…¶ä»–ç›¸å…³")]),s._v(" "),a("h4",{attrs:{id:"è®¾ç½®-redis-çš„æœ€å¤§è¿æ¥æ•°-æŸ¥çœ‹-redis-çš„æœ€å¤§è¿æ¥æ•°-æŸ¥çœ‹-redis-çš„å½“å‰è¿æ¥æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®¾ç½®-redis-çš„æœ€å¤§è¿æ¥æ•°-æŸ¥çœ‹-redis-çš„æœ€å¤§è¿æ¥æ•°-æŸ¥çœ‹-redis-çš„å½“å‰è¿æ¥æ•°"}},[s._v("#")]),s._v(" è®¾ç½® Redis çš„æœ€å¤§è¿æ¥æ•°, æŸ¥çœ‹ Redis çš„æœ€å¤§è¿æ¥æ•°, æŸ¥çœ‹ Redis çš„å½“å‰è¿æ¥æ•°")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("è®¾ç½® Redis çš„æœ€å¤§è¿æ¥æ•°ä½¿ç”¨å‘½ä»¤ï¼š")]),a("code",[s._v("redis-server -maxclients 50000")])]),s._v(" "),a("li",[a("strong",[s._v("æŸ¥çœ‹ Redis æœ€å¤§è¿æ¥æ•°ä½¿ç”¨å‘½ä»¤ï¼š")]),a("code",[s._v("config get maxclients]")])]),s._v(" "),a("li",[s._v("**æŸ¥çœ‹ Redis è¿æ¥æ•°ï¼š**ä½¿ç”¨ info å‘½ä»¤ï¼›åœ¨ redis-cli ç«¯è¾“å…¥ info å‘½ä»¤å³å¯æŸ¥çœ‹")])]),s._v(" "),a("h4",{attrs:{id:"ä»‹ç»ä¸€äº›-redis-å¸¸ç”¨çš„å®‰å…¨è®¾ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»‹ç»ä¸€äº›-redis-å¸¸ç”¨çš„å®‰å…¨è®¾ç½®"}},[s._v("#")]),s._v(" ä»‹ç»ä¸€äº› Redis å¸¸ç”¨çš„å®‰å…¨è®¾ç½®")]),s._v(" "),a("p",[a("strong",[s._v("1. ç½‘ç»œå®‰å…¨")])]),s._v(" "),a("p",[s._v("é™¤äº†"),a("strong",[s._v("ä¿¡ä»»çš„å®¢æˆ·ç«¯å‘å‡ºçš„è¯·æ±‚")]),s._v("ä»¥å¤–ï¼Œå…¶ä»–æ‰€æœ‰è¯·æ±‚éƒ½æ‹’ç»ã€‚"),a("code",[s._v("å¯¹äºæš´éœ²åˆ°å¤–ç½‘çš„æœåŠ¡ï¼Œä½¿ç”¨é˜²ç«å¢™é˜»æ­¢å¤–éƒ¨è®¿é—® Redis ç«¯å£ã€‚")])]),s._v(" "),a("p",[a("strong",[s._v("2. èº«ä»½éªŒè¯")])]),s._v(" "),a("p",[s._v("Redis æä¾›äº†ç®€å•çš„èº«ä»½éªŒè¯åŠŸèƒ½ï¼Œåœ¨ redis.conf æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ç”Ÿæ•ˆã€‚"),a("code",[s._v("å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡å‘é€ï¼ˆAUTH å¯†ç ï¼‰å‘½ä»¤è¿›è¡Œèº«ä»½è®¤è¯ã€‚")])]),s._v(" "),a("p",[a("strong",[s._v("3. ç¦ç”¨ç‰¹å®šçš„å‘½ä»¤é›†")])]),s._v(" "),a("p",[s._v("Redis å¯ä»¥é€‰æ‹©ç¦æ­¢ä½¿ç”¨æŸäº›å‘½ä»¤ï¼Œè¿™æ ·å³ä½¿æ˜¯æ­£å¸¸çš„å®¢æˆ·ç«¯ä¹Ÿæ— æ³•ä½¿ç”¨è¿™äº›å‘½ä»¤é›†åˆã€‚")]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"å®‰è£…é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…é…ç½®"}},[s._v("#")]),s._v(" å®‰è£…é…ç½®")]),s._v(" "),a("h4",{attrs:{id:"å®‰è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…"}},[s._v("#")]),s._v(" å®‰è£…")]),s._v(" "),a("p",[a("strong",[a("code",[s._v("Dockeræ–¹å¼å¯åŠ¨:")])])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("docker create volum db_redis\ndocker volum inspect db_redis\ndocker run -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v(":6379 -v "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v("/data:/data  -d redis:3.2 redis-server --appendonly "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p ~/redis ~/redis/data //ç«¯å£æ˜ å°„ï¼Œdataç›®å½•æ˜ å°„ï¼Œé…ç½®æ–‡ä»¶æ˜ å°„ï¼ˆåœ¨å½“å‰ç›®å½•ä¸‹è¿›è¡Œå¯åŠ¨ï¼‰ã€‚\ndocker run -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v(":6379 --name myredis "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("n\n   -v "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v("/conf/redis.conf:/etc/redis/redis.conf -v "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v("/data:/data -d redis:3.2 redis-server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("n\n   /etc/redis/redis.conf --appendonly "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("strong",[a("code",[s._v("docker-composeæ–¹å¼å¯åŠ¨å®‰è£…ï¼šã€æ¨èã€‘-ç”¨alpineæ–¹å¼ï¼›")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker-compose -f docker-compose.dev.yml up -d\ndocker-compose -f docker-compose.dev.yml down \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-dockerfile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[s._v("version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3'")]),s._v("\nservices"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  redis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    image"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" redis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("3.2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("alpine\n    command"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" redis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("appendonly yes "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --requirepass password")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# volumes:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   - ./data:/data")]),s._v("\n    ports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 6379"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("6379\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h4",{attrs:{id:"é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®"}},[s._v("#")]),s._v(" é…ç½®")]),s._v(" "),a("p",[s._v("é…ç½®å¯ä»¥å¤–éƒ¨è®¿é—®,å’ŒDocker bull-uiç‰ˆæœ¬é…åˆä½¿ç”¨**ï¼šdaemonize yes **")]),s._v(" "),a("ul",[a("li",[s._v("æ–¹å¼ä¸€:"),a("strong",[s._v("[æ¨è]")]),s._v(",å®‰å…¨èµ·è§,å»ºè®®ä¿®æ”¹redisçš„ç«¯å£;æˆ–è€…åšå¯†ç éªŒè¯;\nâ€‹\tbind 127.0.0.1 æœåŠ¡å™¨çš„å†…ç½‘IP æœåŠ¡å™¨çš„IP #æ³¨æ„ç©ºæ ¼")]),s._v(" "),a("li",[s._v("æ–¹å¼äºŒ: bind 0.0.0.0  protected-mode no")])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("ps aux | grep redis")]),s._v(" //æŸ¥çœ‹redisçš„ç«¯å£å·\n"),a("code",[s._v("service redis-server restart")]),s._v(" //é‡å¯\n"),a("code",[s._v("redis-cli -h 192.168.11.17 (-p 6379) (-a 123456)")]),s._v("//å¤–éƒ¨å®¢æˆ·ç«¯æµ‹è¯•å¤–éƒ¨è¿æ¥")])]),s._v(" "),a("h4",{attrs:{id:"å¯åŠ¨è®¾ç½®å¸¸ç”¨å‘½ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯åŠ¨è®¾ç½®å¸¸ç”¨å‘½ä»¤"}},[s._v("#")]),s._v(" å¯åŠ¨è®¾ç½®å¸¸ç”¨å‘½ä»¤ï¼š")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("service redis-server restart (ubuntu)\nredis-server /etc/redis/6379.conf\nredis-cli shutdown\nredis-cli -h 192.168.1.22 -p 6379 -a 123456\n//è¿œç¨‹è®¿é—®æ–¹å¼ï¼š\nredis-cli -h 129.204.51.145 -p 6379 -a 123456\nps axu|grep redis\nredis-cli shutdown\nredis-server& //å¯åŠ¨ä¸é˜»å¡ï¼›\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h4",{attrs:{id:"ä¿®æ”¹é…ç½®ä¸é‡å¯-redis-ä¼šå®æ—¶ç”Ÿæ•ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®æ”¹é…ç½®ä¸é‡å¯-redis-ä¼šå®æ—¶ç”Ÿæ•ˆ"}},[s._v("#")]),s._v(" ä¿®æ”¹é…ç½®ä¸é‡å¯ Redis ä¼šå®æ—¶ç”Ÿæ•ˆ?")]),s._v(" "),a("p",[s._v("é’ˆå¯¹è¿è¡Œå®ä¾‹ï¼Œ æœ‰è®¸å¤šé…ç½®é€‰é¡¹"),a("strong",[s._v("å¯ä»¥é€šè¿‡ CONFIG SET å‘½ä»¤è¿›è¡Œä¿®æ”¹")]),s._v("ï¼Œ è€Œæ— éœ€æ‰§è¡Œä»»ä½•å½¢å¼çš„é‡å¯ã€‚ä» Redis 2.2 å¼€å§‹ï¼Œ å¯ä»¥ä» AOF åˆ‡æ¢åˆ° RDB çš„å¿«ç…§æŒä¹…æ€§æˆ–å…¶ä»–æ–¹å¼è€Œä¸éœ€è¦é‡å¯ Redisã€‚\n*"),a("em",[s._v("æ£€ç´¢ â€˜CONFIG GET "),a("em",[s._v("â€™ å‘½ä»¤è·å–æ›´å¤šä¿¡æ¯")])]),s._v("ã€‚\nä½†å¶å°”é‡æ–°å¯åŠ¨æ˜¯å¿…é¡»çš„ï¼Œ å¦‚ä¸ºå‡çº§ Redis ç¨‹åºåˆ°æ–°çš„ç‰ˆæœ¬ï¼Œ æˆ–è€…å½“ä½ éœ€è¦ä¿®æ”¹æŸäº›ç›®å‰CONFIG å‘½ä»¤è¿˜ä¸æ”¯æŒçš„é…ç½®å‚æ•°çš„æ—¶å€™")]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜"}},[s._v("#")]),s._v(" é—®é¢˜")]),s._v(" "),a("p",[a("strong",[s._v("Redisæ˜¯å•çº¿ç¨‹çš„å—ï¼Ÿ")])]),s._v(" "),a("blockquote",[a("p",[s._v("Redisæ˜¯å•çº¿ç¨‹å¤„ç†ç½‘ç»œæŒ‡ä»¤è¯·æ±‚ï¼Œæ‰€ä»¥"),a("em",[s._v("ä¸éœ€è¦è€ƒè™‘å¹¶å‘å®‰å…¨é—®é¢˜")]),s._v("ã€‚æ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚éƒ½æ˜¯"),a("em",[s._v("ä¸€ä¸ªçº¿ç¨‹å¤„ç†")]),s._v("ã€‚"),a("strong",[s._v("ä½†ä¸ä»£è¡¨æ‰€æœ‰æ¨¡å—éƒ½æ˜¯å•çº¿ç¨‹ã€‚")])])]),s._v(" "),a("p",[a("strong",[s._v("Redisæ˜¯å•çº¿ç¨‹çš„ï¼Œ å¦‚ä½•æé«˜å¤šæ ¸ CPU çš„åˆ©ç”¨ç‡ï¼Ÿ")])]),s._v(" "),a("p",[s._v("å¯ä»¥åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨éƒ¨ç½²"),a("strong",[s._v("å¤šä¸ª Redis çš„å®ä¾‹")]),s._v("ï¼Œ å¹¶æŠŠä»–ä»¬å½“ä½œä¸åŒçš„æœåŠ¡å™¨æ¥ä½¿ç”¨ï¼Œ åœ¨æŸäº›æ—¶å€™ï¼Œ æ— è®ºå¦‚ä½•ä¸€ä¸ªæœåŠ¡å™¨æ˜¯ä¸å¤Ÿçš„ï¼Œæ‰€ä»¥ï¼Œ å¦‚æœä½ æƒ³ä½¿ç”¨å¤šä¸ª CPUï¼Œ ä½ å¯ä»¥"),a("strong",[s._v("è€ƒè™‘ä¸€ä¸‹åˆ†ç‰‡ï¼ˆshardï¼‰")]),s._v("ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("å•çº¿ç¨‹çš„redisä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«")]),s._v("ï¼Ÿï¼ˆå…¶å®å°±æ˜¯å†å²é—ç•™é—®é¢˜ï¼Œéè¦å¹çš„è¿™ä¹ˆå¥½ï¼‰")]),s._v(" "),a("p",[s._v("(ä¸€)"),a("strong",[s._v("çº¯å†…å­˜æ“ä½œ")]),s._v("\n(äºŒ)"),a("strong",[s._v("å•çº¿ç¨‹æ“ä½œ")]),s._v("ï¼Œé¿å…äº†é¢‘ç¹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢\n(ä¸‰)é‡‡ç”¨äº†"),a("strong",[s._v("éé˜»å¡I/Oå¤šè·¯å¤ç”¨æœºåˆ¶")])]),s._v(" "),a("p",[a("strong",[s._v("ä¸ºä»€ä¹ˆ Redis éœ€è¦æŠŠæ‰€æœ‰æ•°æ®æ”¾åˆ°å†…å­˜ä¸­ï¼Ÿ")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("è¿½æ±‚æœ€å¿«çš„æ•°æ®è¯»å–é€Ÿåº¦ï¼Œå¦‚æœç›´æ¥ç£ç›˜è¯»å–ä¼šéå¸¸æ…¢ï¼›")])]),s._v(" "),a("li",[a("p",[s._v("ä¸ºäº†ä¿è¯æ•°æ®å®‰å…¨ï¼Œä¹Ÿä¼šå¼‚æ­¥æ–¹å¼å°†æ•°æ®å†™å…¥ç£ç›˜ï¼›")])]),s._v(" "),a("li",[a("p",[s._v("å¯ä»¥è®¾ç½® Redis æœ€å¤§ä½¿ç”¨çš„å†…å­˜ï¼Œè‹¥è¾¾åˆ°å†…å­˜é™å€¼åå°†ä¸èƒ½ç»§ç»­å­˜å…¥æ•°æ®ã€‚")])]),s._v(" "),a("li",[a("p",[s._v("Redis ä¸ºäº†è¾¾åˆ°"),a("code",[s._v("æœ€å¿«çš„è¯»å†™é€Ÿåº¦å°†æ•°æ®éƒ½è¯»åˆ°å†…å­˜ä¸­ï¼Œ å¹¶é€šè¿‡å¼‚æ­¥çš„æ–¹å¼å°†æ•°æ®å†™å…¥ç£ç›˜")]),s._v("ã€‚")]),s._v(" "),a("p",[s._v("æ‰€ä»¥ Redis å…·æœ‰å¿«é€Ÿå’Œæ•°æ®æŒä¹…åŒ–çš„ç‰¹å¾ã€‚å¦‚æœä¸å°†æ•°æ®æ”¾åœ¨å†…å­˜ä¸­ï¼Œ ç£ç›˜ I/O é€Ÿåº¦ä¸ºä¸¥é‡å½±å“ Redis çš„æ€§èƒ½ã€‚åœ¨å†…å­˜è¶Šæ¥è¶Šä¾¿å®œçš„ä»Šå¤©ï¼Œ Redis å°†ä¼šè¶Šæ¥è¶Šå—æ¬¢è¿ã€‚")])])]),s._v(" "),a("p",[a("strong",[s._v("ä¸ºä»€ä¹ˆRedisçš„æ“ä½œæ˜¯åŸå­æ€§çš„ï¼Œæ€ä¹ˆä¿è¯åŸå­æ€§çš„ï¼Ÿ")])]),s._v(" "),a("p",[s._v("å¯¹äºRedisè€Œè¨€ï¼Œå‘½ä»¤çš„åŸå­æ€§æŒ‡çš„æ˜¯ï¼šä¸€ä¸ªæ“ä½œçš„ä¸å¯ä»¥å†åˆ†ï¼Œæ“ä½œè¦ä¹ˆæ‰§è¡Œï¼Œè¦ä¹ˆä¸æ‰§è¡Œã€‚\n"),a("strong",[s._v("Redisçš„æ“ä½œä¹‹æ‰€ä»¥æ˜¯åŸå­æ€§çš„ï¼Œæ˜¯å› ä¸ºRedisæ˜¯å•çº¿ç¨‹çš„ã€‚")]),s._v("\nRedisæœ¬èº«æä¾›çš„"),a("strong",[s._v("æ‰€æœ‰APIéƒ½æ˜¯åŸå­æ“ä½œ")]),s._v("ï¼ŒRedisä¸­çš„äº‹åŠ¡å…¶å®æ˜¯è¦ä¿è¯æ‰¹é‡æ“ä½œçš„åŸå­æ€§ã€‚\nå¤šä¸ªå‘½ä»¤åœ¨å¹¶å‘ä¸­ä¹Ÿæ˜¯åŸå­æ€§çš„å—ï¼Ÿä¸ä¸€å®šï¼Œ å°†getå’Œsetæ”¹æˆå•å‘½ä»¤æ“ä½œï¼Œincr ã€‚"),a("strong",[s._v("ä½¿ç”¨Redisçš„äº‹åŠ¡ï¼Œæˆ–è€…ä½¿ç”¨Redis+Luaç­‰ç­‰çš„æ–¹å¼å®ç°")]),s._v(".")]),s._v(" "),a("p",[a("strong",[s._v("å¦‚ä½•å®ç°æœ¬åœ°ç¼“å­˜ï¼Ÿè¯·æè¿°ä¸€ä¸‹ä½ çŸ¥é“çš„æ–¹å¼ï¼Ÿ")])]),s._v(" "),a("blockquote",[a("p",[s._v("ç¨‹åºä¸­å®šä¹‰å†…å­˜æ•°æ®ç»“æ„æ¥å®ç°ï¼Œ æ¯”å¦‚è¯´:")])]),s._v(" "),a("ul",[a("li",[s._v("å®šä¹‰ä¸€ä¸ªæˆå‘˜å˜é‡Map æˆ–è€… List å‡å¯ä»¥å®ç°")]),s._v(" "),a("li",[s._v("ä½¿ç”¨å¼€æºçš„ç¼“å­˜æ¡†æ¶ Ehcacheï¼ŒEhcache å°è£…äº†å¯¹äºå†…å­˜æ“ä½œçš„åŠŸèƒ½")]),s._v(" "),a("li",[s._v("Guava Cache æ˜¯ Google å¼€æºçš„å·¥å…·é›†ï¼Œ æä¾›äº†ç¼“å­˜çš„è¾¹ç•Œæ“ä½œå·¥å…·")])]),s._v(" "),a("p",[a("strong",[s._v("ä»‹ç»ä¸€ä¸‹HyperLogLogï¼Ÿ")])]),s._v(" "),a("p",[a("code",[s._v("HyperLogLog æ˜¯ä¸€ç§æ¦‚ç‡æ•°æ®ç»“æ„ï¼Œç”¨æ¥ä¼°ç®—æ•°æ®çš„åŸºæ•°")]),s._v("ã€‚æ•°æ®é›†å¯ä»¥æ˜¯ç½‘ç«™è®¿å®¢çš„ IP åœ°å€ï¼ŒE-mail é‚®ç®±æˆ–è€…ç”¨æˆ· IDã€‚\nåŸºæ•°å°±æ˜¯æŒ‡ä¸€ä¸ªé›†åˆä¸­ä¸åŒå€¼çš„æ•°ç›®ï¼Œæ¯”å¦‚ a, b, c, d çš„åŸºæ•°å°±æ˜¯ 4ï¼Œa, b, c, d, a çš„åŸºæ•°è¿˜æ˜¯ 4ã€‚è™½ç„¶ a å‡ºç°ä¸¤æ¬¡ï¼Œåªä¼šè¢«è®¡ç®—ä¸€æ¬¡ã€‚\nä½¿ç”¨ Redis ç»Ÿè®¡é›†åˆçš„åŸºæ•°ä¸€èˆ¬æœ‰ä¸‰ç§æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ä½¿ç”¨ Redis çš„ HashMapï¼ŒBitMap å’Œ HyperLogLogã€‚å‰ä¸¤ä¸ªæ•°æ®ç»“æ„åœ¨é›†åˆçš„æ•°é‡çº§å¢é•¿æ—¶ï¼Œæ‰€æ¶ˆè€—çš„å†…å­˜ä¼šå¤§å¤§å¢åŠ ï¼Œä½†æ˜¯ HyperLogLog åˆ™ä¸ä¼šã€‚\nRedis çš„ HyperLogLog é€šè¿‡ç‰ºç‰²å‡†ç¡®ç‡æ¥å‡å°‘å†…å­˜ç©ºé—´çš„æ¶ˆè€—ï¼Œåªéœ€è¦12Kå†…å­˜ï¼Œåœ¨æ ‡å‡†è¯¯å·®0.81%çš„å‰æä¸‹ï¼Œèƒ½å¤Ÿç»Ÿè®¡2^64ä¸ªæ•°æ®ã€‚æ‰€ä»¥ HyperLogLog æ˜¯å¦é€‚åˆåœ¨æ¯”å¦‚ç»Ÿè®¡æ—¥æ´»æœˆæ´»æ­¤ç±»çš„å¯¹ç²¾åº¦è¦ä¸ä¸é«˜çš„åœºæ™¯ã€‚\nè¿™æ˜¯ä¸€ä¸ªå¾ˆæƒŠäººçš„ç»“æœï¼Œ"),a("code",[s._v("ä»¥å¦‚æ­¤å°çš„å†…å­˜æ¥è®°å½•å¦‚æ­¤å¤§æ•°é‡çº§çš„æ•°æ®åŸºæ•°")]),s._v("ã€‚")])])}),[],!1,null,null,null);e.default=t.exports}}]);