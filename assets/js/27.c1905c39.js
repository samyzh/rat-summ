(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1925:function(s,t,a){"use strict";a.r(t);var n=a(14),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),n("p",[s._v("最近在学习 "),n("a",{attrs:{href:"https://github.com/vuejs/vue-cli",target:"_blank",rel:"noopener noreferrer"}},[s._v("vue-cli"),n("OutboundLink")],1),s._v(" 的源码，获益良多。为了让自己理解得更加深刻，决定模仿它造一个轮子，争取尽可能多的实现原有的功能。")]),s._v(" "),n("p",[s._v("将这个轮子分成三个版本：")]),s._v(" "),n("ol",[n("li",[s._v("尽可能用最少的代码实现一个最简版本的脚手架。")]),s._v(" "),n("li",[s._v("在 1 的基础上添加一些辅助功能，例如选择包管理器、npm 源等等。")]),s._v(" "),n("li",[s._v("实现插件化，可以自由的进行扩展。在不影响内部源码的情况下，添加功能。")])]),s._v(" "),n("p",[s._v("有人可能不懂脚手架是什么。按我的理解，脚手架就是帮助你把项目的基础架子搭好。例如项目依赖、模板、构建工具等等。让你不用从零开始配置一个项目，尽可能快的进行业务开发。")]),s._v(" "),n("p",[s._v("建议在阅读本文时，能够结合项目源码一起配合使用，效果更好。这是项目地址 "),n("a",{attrs:{href:"https://github.com/woai3c/mini-cli",target:"_blank",rel:"noopener noreferrer"}},[s._v("mini-cli"),n("OutboundLink")],1),s._v("。项目中的每一个分支都对应一个版本，例如第一个版本对应的 git 分支为 v1。所以在阅读源码时，记得要切换到对应的分支。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(757),alt:"img"}})]),s._v(" "),n("h2",{attrs:{id:"第一个版本-v1"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第一个版本-v1"}},[s._v("#")]),s._v(" 第一个版本 v1")]),s._v(" "),n("p",[s._v("第一个版本的功能比较简单，大致为：")]),s._v(" "),n("ol",[n("li",[s._v("用户输入命令，准备创建项目。")]),s._v(" "),n("li",[s._v("脚手架解析用户命令，并弹出交互语句，询问用户创建项目需要哪些功能。")]),s._v(" "),n("li",[s._v("用户选择自己需要的功能。")]),s._v(" "),n("li",[s._v("脚手架根据用户的选择创建 "),n("code",[s._v("package.json")]),s._v(" 文件，并添加对应的依赖项。")]),s._v(" "),n("li",[s._v("脚手架根据用户的选择渲染项目模板，生成文件（例如 "),n("code",[s._v("index.html")]),s._v("、"),n("code",[s._v("main.js")]),s._v("、"),n("code",[s._v("App.vue")]),s._v(" 等文件）。")]),s._v(" "),n("li",[s._v("执行 "),n("code",[s._v("npm install")]),s._v(" 命令安装依赖。")])]),s._v(" "),n("p",[s._v("项目目录树：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("├─.vscode\n├─bin \n│  ├─mvc.js "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mvc 全局命令")]),s._v("\n├─lib\n│  ├─generator "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 各个功能的模板")]),s._v("\n│  │  ├─babel "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# babel 模板")]),s._v("\n│  │  ├─linter "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# eslint 模板")]),s._v("\n│  │  ├─router "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vue-router 模板")]),s._v("\n│  │  ├─vue "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vue 模板")]),s._v("\n│  │  ├─vuex "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vuex 模板")]),s._v("\n│  │  └─webpack "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# webpack 模板")]),s._v("\n│  ├─promptModules "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 各个模块的交互提示语")]),s._v("\n│  └─utils "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一系列工具函数")]),s._v("\n│  ├─create.js "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# create 命令处理函数")]),s._v("\n│  ├─Creator.js "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 处理交互提示")]),s._v("\n│  ├─Generator.js "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 渲染模板")]),s._v("\n│  ├─PromptModuleAPI.js "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将各个功能的提示语注入 Creator")]),s._v("\n└─scripts "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# commit message 验证脚本 和项目无关 不需关注")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h3",{attrs:{id:"处理用户命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#处理用户命令"}},[s._v("#")]),s._v(" 处理用户命令")]),s._v(" "),n("p",[s._v("脚手架第一个功能就是处理用户的命令，这需要使用 "),n("a",{attrs:{href:"https://github.com/tj/commander.js/blob/master/Readme_zh-CN.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("commander.js"),n("OutboundLink")],1),s._v("。这个库的功能就是解析用户的命令，提取出用户的输入交给脚手架。例如这段代码：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("#"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("env node\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" program "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'commander'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" create "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../lib/create'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nprogram\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0.1.0'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'create <name>'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("description")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'create a new project'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("action")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("name")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nprogram"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("它使用 commander 注册了一个 "),n("code",[s._v("create")]),s._v(" 命令，并设置了脚手架的版本和描述。我将这段代码保存在项目下的 "),n("code",[s._v("bin")]),s._v(" 目录，并命名为 "),n("code",[s._v("mvc.js")]),s._v("。然后在 "),n("code",[s._v("package.json")]),s._v(" 文件添加这段代码：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bin"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mvc"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./bin/mvc.js"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("再执行 "),n("a",{attrs:{href:"https://docs.npmjs.com/cli/v7/commands/npm-link",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm link"),n("OutboundLink")],1),s._v("，就可以将 "),n("code",[s._v("mvc")]),s._v(" 注册成全局命令。这样在电脑上的任何地方都能使用 "),n("code",[s._v("mvc")]),s._v(" 命令了。实际上，就是用 "),n("code",[s._v("mvc")]),s._v(" 命令来代替执行 "),n("code",[s._v("node ./bin/mvc.js")]),s._v("。")]),s._v(" "),n("p",[s._v("假设用户在命令行上输入 "),n("code",[s._v("mvc create demo")]),s._v("（实际上执行的是 "),n("code",[s._v("node ./bin/mvc.js create demo")]),s._v("），"),n("code",[s._v("commander")]),s._v(" 解析到命令 "),n("code",[s._v("create")]),s._v(" 和参数 "),n("code",[s._v("demo")]),s._v("。然后脚手架可以在 "),n("code",[s._v("action")]),s._v(" 回调里取到参数 "),n("code",[s._v("name")]),s._v("（值为 demo）。")]),s._v(" "),n("h3",{attrs:{id:"和用户交互"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#和用户交互"}},[s._v("#")]),s._v(" 和用户交互")]),s._v(" "),n("p",[s._v("取到用户要创建的项目名称 "),n("code",[s._v("demo")]),s._v(" 之后，就可以弹出交互选项，询问用户要创建的项目需要哪些功能。这需要用到 "),n("a",{attrs:{href:"https://github.com/SBoudrias/Inquirer.js/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Inquirer.js"),n("OutboundLink")],1),s._v("。"),n("code",[s._v("Inquirer.js")]),s._v(" 的功能就是弹出一个问题和一些选项，让用户选择。并且选项可以指定是多选、单选等等。")]),s._v(" "),n("p",[s._v("例如下面的代码：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" prompts "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"features"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 选项名称")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"message"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Check the features needed for your project:"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 选项提示语")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pageSize"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"checkbox"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 选项类型 另外还有 confirm list 等")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"choices"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 具体的选项")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Babel"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"value"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"short"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Babel"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"description"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Transpile modern JavaScript to older versions (for compatibility)"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"link"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://babeljs.io/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"checked"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Router"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"value"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"router"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"description"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Structure the app with dynamic pages"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"link"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://router.vuejs.org/"')]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\ninquirer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("prompt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prompts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("p",[s._v("弹出的问题和选项如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(758),alt:"img"}})]),s._v(" "),n("p",[s._v("问题的类型 "),n("code",[s._v('"type": "checkbox"')]),s._v(" 是 "),n("code",[s._v("checkbox")]),s._v(" 说明是多选。如果两个选项都进行选中的话，返回来的值为：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" features"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'router'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("其中 "),n("code",[s._v("features")]),s._v(" 是上面问题中的 "),n("code",[s._v("name")]),s._v(" 属性。"),n("code",[s._v("features")]),s._v(" 数组中的值则是每个选项中的 "),n("code",[s._v("value")]),s._v("。")]),s._v(" "),n("p",[n("code",[s._v("Inquirer.js")]),s._v(" 还可以提供具有相关性的问题，也就是上一个问题选择了指定的选项，下一个问题才会显示出来。例如下面的代码：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Router'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'router'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    description"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Structure the app with dynamic pages'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    link"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://router.vuejs.org/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'historyMode'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("when")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("answers")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" answers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("features"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("includes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'router'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'confirm'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    message"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("Use history mode for router? ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("chalk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yellow")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("(Requires proper server setup for index fallback in production)")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    description"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("By using the HTML5 History API, the URLs don't need the '#' character anymore.")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    link"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://router.vuejs.org/guide/essentials/history-mode.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("第二个问题中有一个属性 "),n("code",[s._v("when")]),s._v("，它的值是一个函数 "),n("code",[s._v("answers => answers.features.includes('router')")]),s._v("。当函数的执行结果为 "),n("code",[s._v("true")]),s._v("，第二个问题才会显示出来。如果你在上一个问题中选择了 "),n("code",[s._v("router")]),s._v("，它的结果就会变为 "),n("code",[s._v("true")]),s._v("。弹出第二个问题：问你路由模式是否选择 "),n("code",[s._v("history")]),s._v(" 模式。")]),s._v(" "),n("p",[s._v("大致了解 "),n("code",[s._v("Inquirer.js")]),s._v(" 后，就可以明白这一步我们要做什么了。主要就是将脚手架支持的功能配合对应的问题、可选值在控制台上展示出来，供用户选择。获取到用户具体的选项值后，再渲染模板和依赖。")]),s._v(" "),n("h4",{attrs:{id:"有哪些功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#有哪些功能"}},[s._v("#")]),s._v(" 有哪些功能")]),s._v(" "),n("p",[s._v("先来看一下第一个版本支持哪些功能：")]),s._v(" "),n("ul",[n("li",[s._v("vue")]),s._v(" "),n("li",[s._v("vue-router")]),s._v(" "),n("li",[s._v("vuex")]),s._v(" "),n("li",[s._v("babel")]),s._v(" "),n("li",[s._v("webpack")]),s._v(" "),n("li",[s._v("linter(eslint)")])]),s._v(" "),n("p",[s._v("由于这是一个 vue 相关的脚手架，所以 vue 是默认提供的，不需要用户选择。另外构建工具 webpack 提供了开发环境和打包的功能，也是必需的，不用用户进行选择。所以可供用户选择的功能只有 4 个：")]),s._v(" "),n("ul",[n("li",[s._v("vue-router")]),s._v(" "),n("li",[s._v("vuex")]),s._v(" "),n("li",[s._v("babel")]),s._v(" "),n("li",[s._v("linter")])]),s._v(" "),n("p",[s._v("现在我们先来看一下这 4 个功能对应的交互提示语相关的文件。它们全部放在 "),n("code",[s._v("lib/promptModules")]),s._v(" 目录下：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("babel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("linter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("router"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vuex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("每个文件包含了和它相关的所有交互式问题。例如刚才的示例，说明 "),n("code",[s._v("router")]),s._v(" 相关的问题有两个。下面再看一下 "),n("code",[s._v("babel.js")]),s._v(" 的代码：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("exports")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("api")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    api"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("injectFeature")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Babel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        short"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Babel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        description"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Transpile modern JavaScript to older versions (for compatibility)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        link"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://babeljs.io/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        checked"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("只有一个问题，就是问下用户需不需要 "),n("code",[s._v("babel")]),s._v(" 功能，默认为 "),n("code",[s._v("checked: true")]),s._v("，也就是需要。")]),s._v(" "),n("h4",{attrs:{id:"注入问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注入问题"}},[s._v("#")]),s._v(" 注入问题")]),s._v(" "),n("p",[s._v("用户使用 "),n("code",[s._v("create")]),s._v(" 命令后，脚手架需要将所有功能的交互提示语句聚合在一起：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// craete.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" creator "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Creator")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 获取各个模块的交互提示语")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" promptModules "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getPromptModules")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" promptAPI "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PromptModuleAPI")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("creator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\npromptModules"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("m")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("m")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("promptAPI"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 清空控制台")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("clearConsole")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 弹出交互提示语并获取用户的选择")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" answers "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" inquirer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("prompt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("creator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getFinalPrompts")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getPromptModules")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'router'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vuex'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'linter'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("./promptModules/")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("file"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Creator.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Creator")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("featurePrompt "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'features'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            message"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Check the features needed for your project:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            pageSize"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'checkbox'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            choices"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("injectedPrompts "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getFinalPrompts")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("injectedPrompts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("prompt")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" originalWhen "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" prompt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("when "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            prompt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("answers")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("originalWhen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("answers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" prompts "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("featurePrompt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("injectedPrompts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    \n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" prompts\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Creator\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// PromptModuleAPI.js")]),s._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PromptModuleAPI")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("creator")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("creator "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" creator\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("injectFeature")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("feature")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("creator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("featurePrompt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("choices"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("feature"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("injectPrompt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("prompt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("creator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("injectedPrompts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prompt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br")])]),n("p",[s._v("以上代码的逻辑如下：")]),s._v(" "),n("ol",[n("li",[s._v("创建 "),n("code",[s._v("creator")]),s._v(" 对象")]),s._v(" "),n("li",[s._v("调用 "),n("code",[s._v("getPromptModules()")]),s._v(" 获取所有功能的交互提示语")]),s._v(" "),n("li",[s._v("再调用 "),n("code",[s._v("PromptModuleAPI")]),s._v(" 将所有交互提示语注入到 "),n("code",[s._v("creator")]),s._v(" 对象")]),s._v(" "),n("li",[s._v("通过 "),n("code",[s._v("const answers = await inquirer.prompt(creator.getFinalPrompts())")]),s._v(" 在控制台弹出交互语句，并将用户选择结果赋值给 "),n("code",[s._v("answers")]),s._v(" 变量。")])]),s._v(" "),n("p",[s._v("如果所有功能都选上，"),n("code",[s._v("answers")]),s._v(" 的值为：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  features"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'router'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vuex'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'linter'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 项目具有的功能")]),s._v("\n  historyMode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 路由是否使用 history 模式")]),s._v("\n  eslintConfig"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'airbnb'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// esilnt 校验代码的默认规则，可被覆盖")]),s._v("\n  lintOn"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'save'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 保存代码时进行校验")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"项目模板"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#项目模板"}},[s._v("#")]),s._v(" 项目模板")]),s._v(" "),n("p",[s._v("获取用户的选项后就该开始渲染模板和生成 "),n("code",[s._v("package.json")]),s._v(" 文件了。先来看一下如何生成 "),n("code",[s._v("package.json")]),s._v(" 文件：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// package.json 文件内容")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" pkg "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    version"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0.1.0'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    dependencies"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    devDependencies"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("先定义一个 "),n("code",[s._v("pkg")]),s._v(" 变量来表示 "),n("code",[s._v("package.json")]),s._v(" 文件，并设定一些默认值。")]),s._v(" "),n("p",[s._v("所有的项目模板都放在 "),n("code",[s._v("lib/generator")]),s._v(" 目录下：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("├─lib\n│  ├─generator "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 各个功能的模板")]),s._v("\n│  │  ├─babel "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# babel 模板")]),s._v("\n│  │  ├─linter "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# eslint 模板")]),s._v("\n│  │  ├─router "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vue-router 模板")]),s._v("\n│  │  ├─vue "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vue 模板")]),s._v("\n│  │  ├─vuex "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vuex 模板")]),s._v("\n│  │  └─webpack "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# webpack 模板")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("每个模板的功能都差不多：")]),s._v(" "),n("ol",[n("li",[s._v("向 "),n("code",[s._v("pkg")]),s._v(" 变量注入依赖项")]),s._v(" "),n("li",[s._v("提供模板文件")])]),s._v(" "),n("h4",{attrs:{id:"注入依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注入依赖"}},[s._v("#")]),s._v(" 注入依赖")]),s._v(" "),n("p",[s._v("下面是 "),n("code",[s._v("babel")]),s._v(" 相关的代码：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("exports")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("generator")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("extendPackage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        babel"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            presets"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@babel/preset-env'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        dependencies"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'core-js'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^3.8.3'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        devDependencies"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@babel/core'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^7.12.13'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@babel/preset-env'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^7.12.13'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel-loader'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^8.2.2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("可以看到，模板调用 "),n("code",[s._v("generator")]),s._v(" 对象的 "),n("code",[s._v("extendPackage()")]),s._v(" 方法向 "),n("code",[s._v("pkg")]),s._v(" 变量注入了 "),n("code",[s._v("babel")]),s._v(" 相关的所有依赖。")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("extendPackage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("fields")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" pkg "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("pkg\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" key "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" fields"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" value "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fields"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" existing "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pkg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dependencies'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" key "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'devDependencies'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" key "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'scripts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            pkg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("assign")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("existing "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            pkg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" value\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("注入依赖的过程就是遍历所有用户已选择的模板，并调用 "),n("code",[s._v("extendPackage()")]),s._v(" 注入依赖。")]),s._v(" "),n("h4",{attrs:{id:"渲染模板"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#渲染模板"}},[s._v("#")]),s._v(" 渲染模板")]),s._v(" "),n("p",[s._v("脚手架是怎么渲染模板的呢？用 "),n("code",[s._v("vuex")]),s._v(" 举例，先看一下它的代码：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("exports")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("generator")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 向入口文件 `src/main.js` 注入代码 import store from './store'")]),s._v("\n    generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("injectImports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("entryFile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("import store from './store'")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 向入口文件 `src/main.js` 的 new Vue() 注入选项 store")]),s._v("\n    generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("injectRootOptions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("entryFile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("store")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 注入依赖")]),s._v("\n    generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("extendPackage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        dependencies"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            vuex"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^3.6.2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 渲染模板")]),s._v("\n    generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./template'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[s._v("可以看到渲染的代码为 "),n("code",[s._v("generator.render('./template', {})")]),s._v("。"),n("code",[s._v("./template")]),s._v(" 是模板目录的路径：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(759),alt:"img"}})]),s._v(" "),n("p",[s._v("所有的模板代码都放在 "),n("code",[s._v("template")]),s._v(" 目录下，"),n("code",[s._v("vuex")]),s._v(" 将会在用户创建的目录下的 "),n("code",[s._v("src")]),s._v(" 目录生成 "),n("code",[s._v("store")]),s._v(" 文件夹，里面有一个 "),n("code",[s._v("index.js")]),s._v(" 文件。它的内容为：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Vue "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Vuex "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vuex'")]),s._v("\n\nVue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Vuex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vuex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Store")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    state"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    mutations"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    actions"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    modules"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("这里简单描述一下 "),n("code",[s._v("generator.render()")]),s._v(" 的渲染过程。")]),s._v(" "),n("p",[n("strong",[s._v("第一步")]),s._v("， 使用 "),n("a",{attrs:{href:"https://github.com/sindresorhus/globby",target:"_blank",rel:"noopener noreferrer"}},[s._v("globby"),n("OutboundLink")],1),s._v(" 读取模板目录下的所有文件：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" _files "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("globby")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'**/*'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" cwd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" source"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" dot"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("strong",[s._v("第二步")]),s._v("，遍历所有读取的文件。如果文件是二进制文件，则不作处理，渲染时直接生成文件。否则读取文件内容，再调用 "),n("a",{attrs:{href:"https://github.com/mde/ejs",target:"_blank",rel:"noopener noreferrer"}},[s._v("ejs"),n("OutboundLink")],1),s._v(" 进行渲染：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 返回文件内容")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" template "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("readFileSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf-8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" ejs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("template"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ejsOptions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("使用 "),n("code",[s._v("ejs")]),s._v(" 的好处，就是可以结合变量来决定是否渲染某些代码。例如 "),n("code",[s._v("webpack")]),s._v(" 的模板中有这样一段代码：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("module"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      rules"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("_ "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hasBabel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" _"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.js$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              exclude"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("node_modules")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("_ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" _"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[n("code",[s._v("ejs")]),s._v(" 可以根据用户是否选择了 "),n("code",[s._v("babel")]),s._v(" 来决定是否渲染这段代码。如果 "),n("code",[s._v("hasBabel")]),s._v(" 为 "),n("code",[s._v("false")]),s._v("，则这段代码：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.js$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    exclude"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("node_modules")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("将不会被渲染出来。"),n("code",[s._v("hasBabel")]),s._v(" 的值是调用 "),n("code",[s._v("render()")]),s._v(" 时用参数传过去的：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./template'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    hasBabel"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("features"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("includes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    lintOnSave"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lintOn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("includes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'save'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[n("strong",[s._v("第三步")]),s._v("，注入特定代码。回想一下刚才 "),n("code",[s._v("vuex")]),s._v(" 中的：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 向入口文件 `src/main.js` 注入代码 import store from './store'")]),s._v("\ngenerator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("injectImports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("entryFile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("import store from './store'")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 向入口文件 `src/main.js` 的 new Vue() 注入选项 store")]),s._v("\ngenerator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("injectRootOptions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("entryFile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("store")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("这两行代码的作用是：在项目入口文件 "),n("code",[s._v("src/main.js")]),s._v(" 中注入特定的代码。")]),s._v(" "),n("p",[n("code",[s._v("vuex")]),s._v(" 是 "),n("code",[s._v("vue")]),s._v(" 的一个状态管理库，属于 "),n("code",[s._v("vue")]),s._v(" 全家桶中的一员。如果创建的项目没有选择 "),n("code",[s._v("vuex")]),s._v(" 和 "),n("code",[s._v("vue-router")]),s._v("。则 "),n("code",[s._v("src/main.js")]),s._v(" 的代码为：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Vue "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" App "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./App.vue'")]),s._v("\n\nVue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("productionTip "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("render")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("h")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("h")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("App"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$mount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#app'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("如果选择了 "),n("code",[s._v("vuex")]),s._v("，它会注入上面所说的两行代码，现在 "),n("code",[s._v("src/main.js")]),s._v(" 代码变为：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Vue "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" store "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./store'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 注入的代码")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" App "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./App.vue'")]),s._v("\n\nVue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("productionTip "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  store"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 注入的代码")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("render")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("h")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("h")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("App"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$mount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#app'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("这里简单描述一下代码的注入过程：")]),s._v(" "),n("ol",[n("li",[s._v("使用 "),n("a",{attrs:{href:"https://github.com/vuejs/vue-codemod",target:"_blank",rel:"noopener noreferrer"}},[s._v("vue-codemod"),n("OutboundLink")],1),s._v(" 将代码解析成语法抽象树 AST。")]),s._v(" "),n("li",[s._v("然后将要插入的代码变成 AST 节点插入到上面所说的 AST 中。")]),s._v(" "),n("li",[s._v("最后将新的 AST 重新渲染成代码。")])]),s._v(" "),n("h3",{attrs:{id:"提取-package-json-的部分选项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#提取-package-json-的部分选项"}},[s._v("#")]),s._v(" 提取 "),n("code",[s._v("package.json")]),s._v(" 的部分选项")]),s._v(" "),n("p",[s._v("一些第三方库的配置项可以放在 "),n("code",[s._v("package.json")]),s._v(" 文件，也可以自己独立生成一份文件。例如 "),n("code",[s._v("babel")]),s._v(" 在 "),n("code",[s._v("package.json")]),s._v(" 中注入的配置为：")]),s._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[s._v("babel"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    presets"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("'@babel/preset-env'"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("我们可以调用 "),n("code",[s._v("generator.extractConfigFiles()")]),s._v(" 将内容提取出来并生成 "),n("code",[s._v("babel.config.js")]),s._v(" 文件：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    presets"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@babel/preset-env'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"生成文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#生成文件"}},[s._v("#")]),s._v(" 生成文件")]),s._v(" "),n("p",[s._v("渲染好的模板文件和 "),n("code",[s._v("package.json")]),s._v(" 文件目前还是在内存中，并没有真正的在硬盘上创建。这时可以调用 "),n("code",[s._v("writeFileTree()")]),s._v(" 将文件生成：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" fs "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fs-extra'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("exports")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("writeFileTree")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" files")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("keys")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("files"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" filePath "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ensureDirSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dirname")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("filePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("writeFileSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("filePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" files"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("这段代码的逻辑如下：")]),s._v(" "),n("ol",[n("li",[s._v("遍历所有渲染好的文件，逐一生成。")]),s._v(" "),n("li",[s._v("在生成一个文件时，确认它的父目录在不在，如果不在，就先生成父目录。")]),s._v(" "),n("li",[s._v("写入文件。")])]),s._v(" "),n("p",[s._v("例如现在一个文件路径为 "),n("code",[s._v("src/test.js")]),s._v("，第一次写入时，由于还没有 "),n("code",[s._v("src")]),s._v(" 目录。所以会先生成 "),n("code",[s._v("src")]),s._v(" 目录，再生成 "),n("code",[s._v("test.js")]),s._v(" 文件。")]),s._v(" "),n("h3",{attrs:{id:"webpack"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack"}},[s._v("#")]),s._v(" webpack")]),s._v(" "),n("p",[s._v("webpack 需要提供开发环境下的热加载、编译等服务，还需要提供打包服务。目前 webpack 的代码比较少，功能比较简单。而且生成的项目中，webpack 配置代码是暴露出来的。这留待 v3 版本再改进。")]),s._v(" "),n("h3",{attrs:{id:"添加新功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#添加新功能"}},[s._v("#")]),s._v(" 添加新功能")]),s._v(" "),n("p",[s._v("添加一个新功能，需要在两个地方添加代码：分别是 "),n("code",[s._v("lib/promptModules")]),s._v(" 和 "),n("code",[s._v("lib/generator")]),s._v("。在 "),n("code",[s._v("lib/promptModules")]),s._v(" 中添加的是这个功能相关的交互提示语。在 "),n("code",[s._v("lib/generator")]),s._v(" 中添加的是这个功能相关的依赖和模板代码。")]),s._v(" "),n("p",[s._v("不过不是所有的功能都需要添加模板代码的，例如 "),n("code",[s._v("babel")]),s._v(" 就不需要。在添加新功能时，有可能会对已有的模板代码造成影响。例如我现在需要项目支持 "),n("code",[s._v("ts")]),s._v("。除了添加 "),n("code",[s._v("ts")]),s._v(" 相关的依赖，还得在 "),n("code",[s._v("webpack")]),s._v(" "),n("code",[s._v("vue")]),s._v(" "),n("code",[s._v("vue-router")]),s._v(" "),n("code",[s._v("vuex")]),s._v(" "),n("code",[s._v("linter")]),s._v(" 等功能中修改原有的模板代码。")]),s._v(" "),n("p",[s._v("举个例子，在 "),n("code",[s._v("vue-router")]),s._v(" 中，如果支持 "),n("code",[s._v("ts")]),s._v("，则这段代码：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" routes "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ... ]")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("需要修改为：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("_ "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hasTypeScript"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" _"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" routes"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Array"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("RouteConfig"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ... ]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("_ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" _"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" routes "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ... ]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("_ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" _"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("因为 "),n("code",[s._v("ts")]),s._v(" 的值有类型。")]),s._v(" "),n("p",[s._v("总之，添加的新功能越多，各个功能的模板代码也会越来越多。并且还需要考虑到各个功能之间的影响。")]),s._v(" "),n("h3",{attrs:{id:"下载依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#下载依赖"}},[s._v("#")]),s._v(" 下载依赖")]),s._v(" "),n("p",[s._v("下载依赖需要使用 "),n("a",{attrs:{href:"https://github.com/sindresorhus/execa",target:"_blank",rel:"noopener noreferrer"}},[s._v("execa"),n("OutboundLink")],1),s._v("，它可以调用子进程执行命令。")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" execa "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'execa'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("exports")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("executeCommand")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" cwd")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Promise")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("resolve"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" reject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" child "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("execa")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            cwd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            stdio"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'inherit'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'pipe'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'inherit'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        child"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stdout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'data'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("buffer")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stdout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        child"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'close'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("code")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("code "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("reject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("command failed: ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// create.js 文件")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\n正在下载依赖...\\n'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 下载依赖")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("executeCommand")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'npm install'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cwd")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\n依赖下载完成! 执行下列命令开始开发：\\n'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("cd ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("npm run dev")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n复制代码\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br")])]),n("p",[s._v("调用 "),n("code",[s._v("executeCommand()")]),s._v(" 开始下载依赖，参数为 "),n("code",[s._v("npm install")]),s._v(" 和用户创建的项目路径。为了能让用户看到下载依赖的过程，我们需要使用下面的代码将子进程的输出传给主进程，也就是输出到控制台：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("child"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stdout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'data'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("buffer")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stdout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("下面我用动图演示一下 v1 版本的创建过程：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(760),alt:"img"}})]),s._v(" "),n("p",[s._v("创建成功的项目截图：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(761),alt:"img"}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(762),alt:"img"}})]),s._v(" "),n("h2",{attrs:{id:"第二个版本-v2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第二个版本-v2"}},[s._v("#")]),s._v(" 第二个版本 v2")]),s._v(" "),n("p",[s._v("第二个版本在 v1 的基础上添加了一些辅助功能：")]),s._v(" "),n("ol",[n("li",[s._v("创建项目时判断该项目是否已存在，支持覆盖和合并创建。")]),s._v(" "),n("li",[s._v("选择功能时提供默认配置和手动选择两种模式。")]),s._v(" "),n("li",[s._v("如果用户的环境同时存在 yarn 和 npm，则会提示用户要使用哪个包管理器。")]),s._v(" "),n("li",[s._v("如果 npm 的默认源速度比较慢，则提示用户是否要切换到淘宝源。")]),s._v(" "),n("li",[s._v("如果用户是手动选择功能，在结束后会询问用户是否要将这次的选择保存为默认配置。")])]),s._v(" "),n("h3",{attrs:{id:"覆盖和合并"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#覆盖和合并"}},[s._v("#")]),s._v(" 覆盖和合并")]),s._v(" "),n("p",[s._v("创建项目时，先提前判断一下该项目是否存在：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" targetDir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cwd")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果目标目录已存在，询问是覆盖还是合并")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("existsSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("targetDir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 清空控制台")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("clearConsole")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" action "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" inquirer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("prompt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'action'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'list'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            message"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("Target directory ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("chalk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cyan")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("targetDir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v(" already exists. Pick an action:")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            choices"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Overwrite'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'overwrite'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Merge'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'merge'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("action "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'overwrite'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\\nRemoving ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("chalk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cyan")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("targetDir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("...")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("remove")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("targetDir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("p",[n("img",{attrs:{src:a(763),alt:"img"}})]),s._v(" "),n("p",[s._v("如果选择 "),n("code",[s._v("overwrite")]),s._v("，则进行移除 "),n("code",[s._v("fs.remove(targetDir)")]),s._v("。")]),s._v(" "),n("h3",{attrs:{id:"默认配置和手动模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#默认配置和手动模式"}},[s._v("#")]),s._v(" 默认配置和手动模式")]),s._v(" "),n("p",[s._v("先在代码中提前把默认配置的代码写好：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("exports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("defaultPreset "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    features"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'linter'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    historyMode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    eslintConfig"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'airbnb'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    lintOn"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'save'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("这个配置默认使用 "),n("code",[s._v("babel")]),s._v(" 和 "),n("code",[s._v("eslint")]),s._v("。")]),s._v(" "),n("p",[s._v("然后生成交互提示语时，先调用 "),n("code",[s._v("getDefaultPrompts()")]),s._v(" 方法获取默认配置。")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getDefaultPrompts")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" presets "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getPresets")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" presetChoices "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("entries")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("presets"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" preset"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" displayName "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" name\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("displayName"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v(" (")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("preset"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("features"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" presetPrompt "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'preset'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'list'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        message"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("Please pick a preset:")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        choices"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 默认配置")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("presetChoices"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这是手动模式提示语")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Manually select features'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'__manual__'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" featurePrompt "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'features'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        when"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" isManualMode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'checkbox'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        message"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Check the features needed for your project:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        choices"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        pageSize"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        presetPrompt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        featurePrompt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br")])]),n("p",[s._v("这样配置后，在用户选择功能前会先弹出这样的提示语：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(764),alt:"img"}})]),s._v(" "),n("h3",{attrs:{id:"包管理器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#包管理器"}},[s._v("#")]),s._v(" 包管理器")]),s._v(" "),n("p",[s._v("在 "),n("code",[s._v("vue-cli")]),s._v(" 创建项目时，会生成一个 "),n("code",[s._v(".vuerc")]),s._v(" 文件，里面会记录一些关于项目的配置信息。例如使用哪个包管理器、npm 源是否使用淘宝源等等。为了避免和 "),n("code",[s._v("vue-cli")]),s._v(" 冲突，本脚手架生成的配置文件为 "),n("code",[s._v(".mvcrc")]),s._v("。")]),s._v(" "),n("p",[s._v("这个 "),n("code",[s._v(".mvcrc")]),s._v(" 文件保存在用户的 "),n("code",[s._v("home")]),s._v(" 目录下（不同操作系统目录不同）。我的是 win10 操作系统，保存目录为 "),n("code",[s._v("C:\\Users\\bin")]),s._v("。获取用户的 "),n("code",[s._v("home")]),s._v(" 目录可以通过以下代码获取：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" os "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'os'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nos"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("homedir")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("code",[s._v(".mvcrc")]),s._v(" 文件还会保存用户创建项目的配置，这样当用户重新创建项目时，就可以直接选择以前创建过的配置，不用再一步步的选择项目功能。")]),s._v(" "),n("p",[s._v("在第一次创建项目时，"),n("code",[s._v(".mvcrc")]),s._v(" 文件是不存在的。如果这时用户还安装了 yarn，脚手架就会提示用户要使用哪个包管理器：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 读取 `.mvcrc` 文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" savedOptions "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadOptions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果没有指定包管理器并且存在 yarn")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("savedOptions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("packageManager "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" hasYarn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" packageManagerChoices "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("hasYarn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        packageManagerChoices"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Use Yarn'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'yarn'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            short"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Yarn'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    packageManagerChoices"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Use NPM'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'npm'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        short"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NPM'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    otherPrompts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'packageManager'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'list'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        message"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Pick the package manager to use when installing dependencies:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        choices"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" packageManagerChoices"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("p",[n("img",{attrs:{src:a(765),alt:"img"}})]),s._v(" "),n("p",[s._v("当用户选择 yarn 后，下载依赖的命令就会变为 "),n("code",[s._v("yarn")]),s._v("；如果选择了 npm，下载命令则为 "),n("code",[s._v("npm install")]),s._v("：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PACKAGE_MANAGER_CONFIG")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    npm"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        install"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'install'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    yarn"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        install"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("executeCommand")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 'yarn' or 'npm'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PACKAGE_MANAGER_CONFIG")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("args "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h3",{attrs:{id:"切换-npm-源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#切换-npm-源"}},[s._v("#")]),s._v(" 切换 npm 源")]),s._v(" "),n("p",[s._v("当用户选择了项目功能后，会先调用 "),n("code",[s._v("shouldUseTaobao()")]),s._v(" 方法判断是否需要切换淘宝源：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" execa "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'execa'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" chalk "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'chalk'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" request "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./request'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" hasYarn "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./env'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" inquirer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'inquirer'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" registries "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./registries'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" loadOptions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" saveOptions "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./options'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("registry")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("registry"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("/vue-cli-version-marker/latest")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" registry\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("removeSlash")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("replace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\/$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" checked\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" result\n  \nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("exports")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("shouldUseTaobao")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        command "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("hasYarn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'yarn'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'npm'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ensure this only gets called once.")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("checked"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" result\n    checked "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// previously saved preference")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" saved "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadOptions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("useTaobaoRegistry\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("typeof")]),s._v(" saved "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'boolean'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("result "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" saved"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("save")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("val")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        result "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" val\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("saveOptions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" useTaobaoRegistry"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" val "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" val\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" userCurrent\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        userCurrent "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("execa")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'config'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'get'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'registry'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stdout\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("registryError"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Yarn 2 uses `npmRegistryServer` instead of `registry`")]),s._v("\n            userCurrent "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("execa")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'config'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'get'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'npmRegistryServer'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stdout\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("npmRegistryServerError"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("save")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" defaultRegistry "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" registries"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("removeSlash")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userCurrent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("removeSlash")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("defaultRegistry"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// user has configured custom registry, respect that")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("save")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" faster\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        faster "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" Promise"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("race")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("defaultRegistry"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("registries"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("taobao"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("save")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("faster "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!==")]),s._v(" registries"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("taobao"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// default is already faster")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("save")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("VUE_CLI_API_MODE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("save")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ask and save preference")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" useTaobaoRegistry "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" inquirer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("prompt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'useTaobaoRegistry'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'confirm'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            message"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" chalk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yellow")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v(" Your connection to the default ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v(" registry seems to be slow.\\n")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("   Use ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("chalk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cyan")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("registries"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("taobao"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v(" for faster installation?")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 注册淘宝源")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("useTaobaoRegistry"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("execa")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'config'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'set'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'registry'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" registries"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("taobao"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("save")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("useTaobaoRegistry"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br")])]),n("p",[s._v("上面代码的逻辑为：")]),s._v(" "),n("ol",[n("li",[s._v("先判断默认配置文件 "),n("code",[s._v(".mvcrc")]),s._v(" 是否有 "),n("code",[s._v("useTaobaoRegistry")]),s._v(" 选项。如果有，直接将结果返回，无需判断。")]),s._v(" "),n("li",[s._v("向 npm 默认源和淘宝源各发一个 "),n("code",[s._v("get")]),s._v(" 请求，通过 "),n("code",[s._v("Promise.race()")]),s._v(" 来调用。这样更快的那个请求会先返回，从而知道是默认源还是淘宝源速度更快。")]),s._v(" "),n("li",[s._v("如果淘宝源速度更快，向用户提示是否切换到淘宝源。")]),s._v(" "),n("li",[s._v("如果用户选择淘宝源，则调用 "),n("code",[s._v("await execa(command, ['config', 'set', 'registry', registries.taobao])")]),s._v(" 将当前 npm 的源改为淘宝源，即 "),n("code",[s._v("npm config set registry https://registry.npm.taobao.org")]),s._v("。如果是 yarn，则命令为 "),n("code",[s._v("yarn config set registry https://registry.npm.taobao.org")]),s._v("。")])]),s._v(" "),n("h4",{attrs:{id:"一点疑问"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一点疑问"}},[s._v("#")]),s._v(" 一点疑问")]),s._v(" "),n("p",[s._v("其实 "),n("code",[s._v("vue-cli")]),s._v(" 是没有这段代码的：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 注册淘宝源")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("useTaobaoRegistry"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("execa")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'config'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'set'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'registry'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" registries"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("taobao"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("这是我自己加的。主要是我没有在 "),n("code",[s._v("vue-cli")]),s._v(" 中找到显式注册淘宝源的代码，它只是从配置文件读取出是否使用淘宝源，或者将是否使用淘宝源这个选项写入配置文件。另外 npm 的配置文件 "),n("code",[s._v(".npmrc")]),s._v(" 是可以更改默认源的，如果在 "),n("code",[s._v(".npmrc")]),s._v(" 文件直接写入淘宝的镜像地址，那 npm 就会使用淘宝源下载依赖。但 npm 肯定不会去读取 "),n("code",[s._v(".vuerc")]),s._v(" 的配置来决定是否使用淘宝源。")]),s._v(" "),n("p",[s._v("对于这一点我没搞明白，所以在用户选择了淘宝源之后，手动调用命令注册一遍。")]),s._v(" "),n("h3",{attrs:{id:"将项目功能保存为默认配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#将项目功能保存为默认配置"}},[s._v("#")]),s._v(" 将项目功能保存为默认配置")]),s._v(" "),n("p",[s._v("如果用户创建项目时选择手动模式，在选择完一系列功能后，会弹出下面的提示语：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(766),alt:"img"}}),s._v("询问用户是否将这次的项目选择保存为默认配置，如果用户选择是，则弹出下一个提示语：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(767),alt:"img"}})]),s._v(" "),n("p",[s._v("让用户输入保存配置的名称。")]),s._v(" "),n("p",[s._v("这两句提示语相关的代码为：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" otherPrompts "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'save'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        when"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" isManualMode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'confirm'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        message"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Save this as a preset for future projects?'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'saveName'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("when")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("answers")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" answers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("save"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'input'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        message"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Save preset as:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("保存配置的代码为：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("exports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("saveOptions")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("toSave")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" options "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("assign")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cloneDeep")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("exports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadOptions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" toSave"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" key "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" exports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("defaults"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    cachedOptions "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" options\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("writeFileSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rcPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("Error saving preferences: ")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("make sure you have write access to ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("rcPath"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v(".\\n")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("message"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nexports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("savePreset")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" preset")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" presets "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cloneDeep")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("exports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadOptions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("presets "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    presets"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" preset\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" exports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("saveOptions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" presets "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br")])]),n("p",[s._v("以上代码直接将用户的配置保存到 "),n("code",[s._v(".mvcrc")]),s._v(" 文件中。下面是我电脑上的 "),n("code",[s._v(".mvcrc")]),s._v(" 的内容：")]),s._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"packageManager"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"presets"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"test"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"features"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"linter"')]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"eslintConfig"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"airbnb"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lintOn"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"save"')]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"demo"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"features"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"linter"')]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"eslintConfig"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"airbnb"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lintOn"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"save"')]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"useTaobaoRegistry"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br")])]),n("p",[s._v("下次再创建项目时，脚手架就会先读取这个配置文件的内容，让用户决定是否使用已有的配置来创建项目。")]),s._v(" "),n("p",[s._v("至此，v2 版本的内容就介绍完了。")]),s._v(" "),n("h2",{attrs:{id:"小结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[s._v("#")]),s._v(" 小结")]),s._v(" "),n("p",[s._v("由于 "),n("code",[s._v("vue-cli")]),s._v(" 关于插件的源码我还没有看完，所以这篇文章只讲解前两个版本的源码。v3 版本等我看完 "),n("code",[s._v("vue-cli")]),s._v(" 的源码再回来填坑，预计在 3 月初就可以完成。")]),s._v(" "),n("h2",{attrs:{id:"参考链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[s._v("#")]),s._v(" 参考链接")]),s._v(" "),n("p",[s._v("https://github.com/woai3c/mini-cli")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/woai3c/Front-end-articles/issues/22",target:"_blank",rel:"noopener noreferrer"}},[s._v("手把手教你写一个脚手架 · Issue #22 · woai3c/Front-end-articles (github.com)"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/woai3c/Front-end-articles/issues/23",target:"_blank",rel:"noopener noreferrer"}},[s._v("手把手教你写一个脚手架（二） · Issue #23 · woai3c/Front-end-articles (github.com)"),n("OutboundLink")],1)]),s._v(" "),n("h2",{attrs:{id:"参考链接-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考链接-2"}},[s._v("#")]),s._v(" 参考链接")]),s._v(" "),n("p",[s._v("https://github.com/woai3c/mini-cli")])])}),[],!1,null,null,null);t.default=e.exports},757:function(s,t,a){s.exports=a.p+"assets/img/21528a60b4b9470a9cf583bcc9edcbd2~tplv-k3u1fbpfcp-watermark.120772f5.png"},758:function(s,t){s.exports="data:image/png;base64,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"},759:function(s,t){s.exports="data:image/png;base64,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"},760:function(s,t,a){s.exports=a.p+"assets/img/65b515014470417084aaf7bbd2f1c695~tplv-k3u1fbpfcp-watermark.e1b7a36f.png"},761:function(s,t,a){s.exports=a.p+"assets/img/9059e85152b343b0b6430a760df3bd14~tplv-k3u1fbpfcp-watermark.5b8498e0.png"},762:function(s,t){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYUAAADTCAIAAADh4ZhBAAAYB0lEQVR4nO3dX2xbVZ4H8N9d0mmBsG0pIUl3maXFiZiqSmm9gwa7q11gqGq3Ql0JdXlaD1JlP0Ad70rMVgLtw6oV2a1WY1toV4m6UjNPKDuaiTTFbiNEYUmc/iFJY0qaiU3Y0Gls919AhKZ/sjn74Ovra/tc+zj+d+J8P0Kj9Pr880N+c++J/T0KY4wAVp/Z2dnNmzfXehWQ4U9qvQAAABXqEQDIAvUIAGSBegQAslCwnw0AksD9EQDIAvUIAGSBegQAskA9AgBZoB4BgCxQjwBAFqhHACCLBu2n78OvMsaIESMiRurnklI/MEYPPbxl/fb3a7ROAKh/6XrEGPvTP/s7Ika0RIwRLRExYun/vTXz+xouFADqnu55LXlfZFCMiJYIH+QGgEpK1yNGlLcYLRmUo6jPqriCYrNFfVbF6osSUdDF7RR0qa8DwOqTfl4jRnmKUXInqXbrBKiWcK/7xAgREW3e/86RPc1ZV3UX+S3VF2KZl4iIEgNdx2J2v6PDsGPBNtpV8yG/o8P4DWizJwa6jp2a1b+c05M7pshE5Zexf5SvGNFSGcqRqXOIdZY8CkDlhHsDre/4/c1EFO51H+tt8Ts6KDHQdSK2/x3/nmbdRaOWx07Nms1mztCJ8VHa/4ZBR5E2iYGusZ1+vyNZLXp35hQKzuzNe4749+hfj+3syOqSO2bBiSol6+/9hsUIN0ewOnQ4tHuRjp1misUTRInx0VmzPXm5Y+/+zSNjYYOW1LzniN/vd+zkjBw+fYp27Wg26CjSpnnPEbUwZPdT5ZldHb31UFZp4Y5ZcKJKydzPzleM8pekoEtRqdtC+m0l7Wf+XlO6r2LvKeebAyhFeGyEWluaiRKxWbN2V9Hc0przG6q1zD/a5l07mnMu6juKtDFuWOjt9J6I7d+bfBuJgS5310DOm+BOXvREJch6XjMsRmzpAWPEFueVhsbcUXrs/QHGuoko6FLsrgOs2ya6gKBLsVOAMVvqH5dLf1MAJUsMdJ0YMR/ydxAl4jEio3uOjJZ5hMdGzHZ/xi92TsfCbVK7QeZD/iPFPUIlBgI5g+cZc/kTlaQh419Gd0bEvouPP9Sw7rvJf9mw/d9yR3EGUgXI9rbX0tYf7La1ic0f7O+xeCOp6mU74CTUI6i1xEDXsVOU3C8i9Y5IqGWeEQMjZrsjb0eRNqndoHCv2x3I3TDPs4Dx0VmzXass+l0l7pjLnqg0ur/3pz9/lF2MiC3dvzu3oXXX/e/CVVkVQM2Ee93HYna/P/NXMP2ElojH1McnfkuexPio7omP31GkjabDccg8OzouvK8TPn2KUs9qRrhjFjtRifT7R4bFiIgxxh5qWGsUbtvTr+0UOTwh5wH1fufyVJSIKPphX8hoftsBZ8hzXOt9FPtHUFOJgcCIOXvPt2Pvfjp1Ovn/xdpvNrelwaAZpYbfUaBNYqCrN5x+vYh9nZxdIG3/iDvm8icqlW7/iMioGBFbUne7DXa0ndSvKPbkj4Hk5pGps9fb19ameIgsTqfFcAG27oBTsSs9REQWr9dJfWV7bwBFS8RmaeSEe0S7YD7kd3Q073ljf9cxt1u9kPxgD7cld0z1b/j5pmgWaNOx543WLrf7ROqC+MNaPEatO7mtm3ljci9WRTrP/9Z5+6a/2Gv0Ee349KctW/86Pv1py1+dqdbaAOpBuNcdaC2wAyPSZjUQ/74I4StsAMUT+Yt5lf+qLq/0/dHNczb1R5bKGtHHjxBTSFEaHm22/LZWawWA+obz1wBAFsiHBABZoB4BgCxQjwBAFqhHACAL5PkDgCyQ5w8AskCePwDIovQ8/xLUJL2/wKQGBw0AQOUhzx8gE/L8RScqv+rm+QPIDnn+yPMHkAXy/EUmqpTS8/yDLsXq86mR/LqdGV1Kf8aOjFF6f/q6wfZO0KVYfUGfVRsxWNqk3BMHsmfMXlJUnT9rfKhHyPOvevKAPq9WKM+fN0jIM3GAMcYiXvI4UsfP2i97IywpQHb1tzeV3p+87NRGCLqUo9vU5pGDfW0Gv+shz1HqZYwFnD12RenXJj2uDV7MpPnxlhT1OTzbUyOJn1kAK5AapO9I5fkLtcwjPDaSusUy7Fi4TWKgy+12u91jOwVScrNWGcgZPM+Yy5+oJGXJ87d437YREZn2HbT0EaVS+jtN6utayD8ZpPcH+3soRG2KRxtxKko2E2WzeHs7Tame29RJ27dT31SUbJEiJ82Pv6T27eSxK5e9kaHO3NVBvUCef93n+Vu25T9xxKLd2DDGWJl+3QtNWqB37pJs3Ywx1ksO48dKWOGQ51/KRCUqT55/NtsBZ0h9ciMiCh730MF9JuP0/ozrFHQta2um2EmJ8p04wF1S1OcLEpGpcyjitYQmIstYJcgNef51kOefw9bNAi5Fe9pxBljyhscovd/WHfFa2xQl1bp7Oe+lyEkLnDjAW5Kps/247uACbCDVH+T5G12sCuT5A1QW8vzFIc8foKKQ518EafP8g67MjyelznUDgLqFPH8AkAXyIQFAFqhHACAL1CMAkAXqEQDIAnn+ACAL5PkDgCyQ5w8Asqhynj8/9yydoh/1WfG9eYDVCnn+AJmQ5y86UQVo+T5zI/vY9f9i10+wRA9LdLP4f7L4f7D4+yzmZzEfi/3qemgvK1XEayFnIPd6wMm9DFBt4yffOxNP/Xj48MlxxhiLn3nvsHo5fdGw5eHDJ0+ePKy9qImfee+9M3GDjiJt4mfeUxvn9NN6G86eej2rG3fMghNVCvL8AfSQ5y8yUaWUnuef3BJKR9+r20P50vJzGmcNltMMW0pQA8jzr3ryQNb5a4Xz/JWGxtxReuz9Aca6Kfm1fNeBvF/FF2ucCudHTjXUhBqk70/l+Rvdc2S0zCM8NmK2+3lZ/f4O8Tap3SDzIf+R4jZ1kuncfk5l4Y65/IlKUpY8f3IGUjVFS9E3Dq7mNM4tSFknAgBUEfL86z7PH2BlQJ5/KROVqDx5/j392k6RwxNyHlDvd/hp+QaNM2XE6Qd92D+C6kCefx3k+TupXxdz322jfGn5nMYc+jj95Qb8AxQLef5GF6ui9Dz/qM/aNvEuwmQB+JDnLw55/gAVhTz/Iui/L8JufH0m+QM3zz/+1WdKw6M1WSXAitXhKPBJAME2qwLy/AFAFsiHBABZoB4BgCxQjwBAFqhHACAL5PkDgCyQ5w8AskCePwDIosp5/gAAhpDnD5AJef6iE1WAlqRdlTx/AMkhz19kokpBnj+AHvL8RSaqlNLz/Cnqs2bG8+sS/tUgfiTzwwqEPP+Vl+cf9Tk82wNsKCv+KB3aj2R+WImQ578i8/xN7dvJY1cueyND+oKTDu1HMj+sNMjzX7l5/rZuxhjrJQeexqAeIM+/lIlKVHKef9TnCxKRqXMo4rWEJiI5MyCZH1YQ5Pmv7Dx/U2f7cV08PydFG8n8sHIgz9/oYlWUnucPAPkgz18c8vwBKgp5/kVI3x/dPGdTf2SMm+evkKI0PNps+W2t1goA9Q15/gAgC+RDAoAsUI8AQBaoRwAgC9QjAJAF6hEAyCL9+exwOMwYMbbE1DNF1ISk69dv/PSnf9nU1FTDVQLAapCRN7J9+/alJe3v/4wYkaKExy/dunWLMfbkk0/WZo0AsDpkPK9xP4l07dq1mZmZj89+WqYZg65kbFvUZy17HkAlxgSAasm4P1rKOENEIYWIyGbfR0QXL16s8soAagN5/qITVYCWpD06Onrv/gOj/z4bHCpTYnfASc5A4WYRr0WoHUBZIc9fZKJK0eexqTdHc3OXrkx0LSzER0c9Fy4cisVO618FqGvI8xeZqFKy8iFVC3fjN28OEtHzz59oatotPBontz8n7T8lmfqv9rL6fC5dx6BLafOEqMee/LfwAQHpMY3nBRCEPP9a5vlnbmc3Ne2+cX0wNPT6T7Yd2bjxuaXC90dBl3J0W4QxExFFfdY2VzvrbuOn/ecIeSbeZayboj5rm8O3b6ibRbZZ2ybeZd02IopSsQcEGJwyACAKef41zvNPVZy7d+NE9NBDjbvM3sjU+3+8+puNG58rfP5asL+HQtSmeFIXLFNRsvHT/nNYvG/biIhM+w5a+rgtijsgwOCUAQARyPOXJM+fpqbe/3r65FNPvXbz5mBo6PUbNwa3bP0FCe4fWbwR3dbUUKepdmn/OGUAlgl5/qVMVKLs/ez29rcs1g+amna3tu61WD+wWD9obDRRztNcmvaRn4zcfgq61A8ZFUj7X4bcAwJyP3ZUiXlhNUCevzR5/vnugATuj/S5/ang/sJp/0ZM+w5aPHalx+KNDO0znsgZYN2Ue/uz/HlhdUOev9HFqkjnQ547f37XLrNRu88GB19+8W+qtKhli/rSm+AAckCev7iM/ewLFy4wpoZmp/eBiBhjMzMztVukqOiHfSHLwbZaLwNAJzw2snnXOwKfBSjQZlWol/zsoEux9yQf33BzBLBC1Us9AoCVD3lsACAL1CMAkAXqEQDIAvUIAGSBegQAskCePwDIAnn+ACCLyuf5czP2EbwPADmQ5w+QCXn+ohNVgPY1NS3P//yl8D//u++T4QtvH/3XLyanypfnj4h+kB/y/EUmqpTs/KOp6a/DX07+cTb+69/87tbct+NXJi9NXCHk+cNqgTx/kYkqJTsf8te/+d3w6Nj+l188+st/eMn6wseDw4GPzgqPpsXsW30+l7pBpGbsZ0b064L3+b04If9ZjfVB/cKB/wDikOdf9Tx/XT0iRkT7Xn6RiH5mfm7Txo0vWV/Qrojl+dtJfRzrpb6ezFdt3drzWkakdZ5eIc/EAcYYi3jJ4/BFKZ3knxQgu+7skB57/wGWHDx1sgBjjEUO9rXhgBEomhqk70jl+Qu1zCM8NpK6xTLsWLhNYqDL7Xa73WM7BVJys1YZyBk8z5jLn6gkur+vMUZEZ4eGiejc6KVbc3MfDw0T0X9/GNRezSfY35NK5Scydb7rFJo/Xy99yH+6ca9WzWxvey09/alakxH4TyFPW/L2qM0TostTuEWCIiQGutzHRne9o27kNre0CrbMM2JgRBeOze0o0ib5QOb37xxz59zf5F9AZjp3854jWp3hjrnsiUqj//saEdG+n7946cvJUx+dPfXRWSL6mfm5/S+/RPLuH1m2cePXLDhYBJYp3Os+QYf8WccXxeIJ6mgm0oe/8lvyZJ3uwe0o0kbT4ThkdgfGE3sE713Cp0/R/ncK5/nnjFnsRCXK3s/ese0nL5if27Rxw9+/9rd/3tqyY9tPNm3cQEXn+Ud9R3v47bMU1ct2wBlSn9yIiILHPXRwX27V4Z4sACACef6y5fm3b91y9Jf/SEQvmNP79AL3R/qYfYvX66Tsg9R0Ef294r0yp2ABl6Kd8eYM8M+E5J0sACACef5GF6uiYnn+yT3lYh+altcLQGLI8xdXxjz/qM96vH0ouakcdNl7LN6IQFlZXi+AlQJ5/kUoa3521Gdt84SIqKgN5eX1AoC6gzx/AJAF8tgAQBaoRwAgC9QjAJAF6hEAyAL1CABkgTx/AJAF8vwBQBal5/lnRKsVUlTjoEu8raioz6ooiuLyCR8ogKMHAKpldeX5R30Oz/YAG7JR1Gf11Ho1ICfk+YtOVAHa19S0PH/uf8Z5/kWl9BfVOOAsd/x/wEkWLV4SgAN5/iITVUp2/hERzc1dujLRtbAQHx31XLhwKBY7TfLmsQGUF/L8RSaqlOw8/6SFu/GbNweJ6PnnTzQ17RYYJ52fn97yUfdqMi8aNRZN4M9txk345xwHEHQpdjXI1hUsfKCA/l2oLQ3fENQl5PnXPM9f09S0mxiFhl7//vsoFcrzV7P0GWMBZ489+bsa9R2n3uyLRo0FE/gz8vyHOk15E/6zjwOwdWvPa6mk7dSYxscQ6KibT0n6EaAeIc+/Fnn+6f2jixcvJreK/nfm98Pn3pz/Ye7e/QeXL//q88//6d79B598+j8GT3xZW0IZ/4x4Lal5ktcMGgeyw/8t3ghn/yh3+yf7ija+/oWI16L+nL7KbcidIr3k5CqxAVX/4mfeO6zfgRk/qd9DGdftzmS35LVJtcveJ8ruKNJGN77BK7zZeYMLjpl/orLLfl6bmnr/6+mTTz312s2bg6Gh12/cGNyy9Re0jP2jqM+qKI7kHZKuLBnK/DUvIQXJIOG/DGzdjDHWSw6c6lbPwr3uYzG7P+u2IP2ElojH1McnfkuerNM9uB1F2mg6HIfMs6Pjwvs6Wup3Htwxi52oRNn72e3tb1msHzQ17W5t3WuxfmCxftDYaKI8ef5ERKSdOhT1OTwh5wEbUWQilDqbKPphXyh/4/wJ/PwjA4I+X1Q04T8PowMFcj92FPX5gkRk6hyKeC2hiUgxs8BKgTx/2fL8ufLfHzmpX1HsyR8Dyb0V29veo23J5H2L02nJ31g0gV/fLNnKJJbwn4fwgQKmzvbjuoVjA6kuIc/f6GJVVCzPf4XKPVAg6rO2TbyLDWxYLuT5iytjnv8KVeBAgeiHfSHLwUptSUH9Q55/EZCfbXygQPIDS+mHSgCoLNQjAJAF8tgAQBaoRwAgC9QjAJAF6hEAyAL1CABkgTx/AJAF8vwBQBal5/mXqKiE/+UNj+/iA6wMqyvPH6Aw5PmLTlQB2tfUtDz/m7euxBMX791/EE9c/Pa7q4Xy/EtUVMI/QKUhz19kokrh5PlHpt5fs6aRiNasabxypSvrVYC6hjx/kYkqhZ/nv25tCxGtW9ciMEJyA0g8z984tz/ZPpW+nbdvVvB+/jHzpPGLngUAqxHy/Gue5//999HFxfmGNY1E1NDQuLg4f/dunMqW558byJ8SdCltfQfVrH3DvrzgfbGzADhp/EWcBQCrDvL8JcnzHx5+84cf5u7df/DDnbnhc28mL5Ynz59zHmPEayGn00k5m0gF+mr/5J8FkLucnDT+Is8CgNUDef6CE5Ud53mtYU3jwt04ES0sxPVlq7g6V0yef8/lyxa6PKXdhlTkLACRNP7KnQUAKwby/EuZqESc/ez29rf+b3GeiBYX57dtO6K+WpY8/9xAfiIicr47NBQ52NeWel4q3FcXvM89C0Akjb/0swCg/iDPX7Y8/3XrWpI72Rs3Ppd+tTx5/rmB/KlyYOocYu0uRVHIGWAF++qD98XOAuCk8dtKPgsA6g7y/I0uVof2mDN87lxyq4j730cfnzV44qvRB4g4W1E8+HgT1BpnN2dZbVaDFZTnXyB4n98HafxQY8jzL0Lp+dlVPA/IKHifC2n8ACsN8vwBQBbIYwMAWaAeAYAsUI8AQBaoRwAgC9QjAJAF8vwBQBbI8wcAWdR7nr8q6Cp6krwLwzEBABWAPH+ATMjzF52oArSvqdV1nn/AWfQk+Cbu6oQ8f5GJKgV5/gB6yPMXmahS6j3Pn4Ob4S+8MP2bNnyXOCagLiDPH3n+lcrzTzfmZvgLLiwHjgmoV8jzR55/9gt5+hbI89euao24C0ittpiFZb5LHBNQh5DnLzhR2dVrnn8yvZ8ZpvvrOufJ8M9eGAeOCag3yPMvZaIS1WmevxGjDH/BheGYgLqHPH/k+RNVPs9fG4Sf4S+2sMi27PFwTECdQZ6/0cXq0B5z6jPPv0Lw4SQQhjx/cXWe51+ppeCYABCFPP8i1G+ef4XgmACAikGePwDIAnlsACAL1CMAkAXqEQDIAvUIAGSBegQAsmgo3AQAIMft27e//fbba9eudXR0rFmz5ptvvnn22WeJKBqNNjU1TU5OmkymTZs2xePx+/fvt7S03Lp16+GHHyaiDRs2fPbZZ9PT0+vXr9+xY8eWLVu0MVGPAEDUvXv3RkZGFhcXn3nmmXA4/Pjjj4+NjW3evPnu3btTU1Pnz5+32WxffPHFj370o5mZmU2bNl2/fn1wcHB+fv7VV1+dn5+PxWKxWMxqtc7MzOzevXt4eHjt2rX68fG8BgCivvrqq8cee2xmZubq1atr1qxZt27dE0888cgjjzQ2Ns7Pzzc1NT3++OPz8/Nbt2597LHHnnzyyatXr96+ffuVV15pbW1dWFhYXFx85JFHWltbf/zjH09OTra0tKxfv14/PuoRAIhSFOWTTz65du3a2rVr4/H49PT0559/fufOndOnT09PT09OTt6+ffvBgwdffvnl2rVr79y5s7Cw8PTTTzPGZmdnl5aWZmZm5ubmotHogwcP/vCHP0xMTIRCoYzx8flsAJAE7o8AQBaoRwAgC9QjAJDF/wMxYQwc5Zp1nAAAAABJRU5ErkJggg=="},763:function(s,t){s.exports="data:image/png;base64,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"},764:function(s,t){s.exports="data:image/png;base64,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"},765:function(s,t){s.exports="data:image/png;base64,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"},766:function(s,t){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAb8AAAAUCAIAAACS3aS8AAAFXklEQVR4nO2av0/jSBTHnx2jIH6KIyzSiYISCSGEhAQVSigo+AMWJDqquxLR3HURfwZIlFQ0lCCIQrMIxAkJKXeBioSQgjiKEnIbzoDnCm/MrO2ZzNgmdnbnIxT5x8ybN+/NfD1jA+V/X9Xm39f/3tZ+/wMEAoFA0ApFkqRvhwhAopYVCAQCQRPl5Q0BSAghAIhGhHwKBAIBE8pDDQEghEAC+HUgaHcEAoGgQ1DKX3VDOhGgX3oiQfsjEAgEnYGi6wAAOiAAQOblJFYkCS0xNv4G7y9SA8J0huSJUSBwP39sWmYh5PbDSZuHrut5nU6nASAej7to1FIXP/Vi9iOQvzszYpVs/iaxUzJmRo344hFvA/bmfqrp1Da40opP8o8YDy7st3lYhhb2OLie1641zqhIAdfQMCADADIWnmZwkkzrzTDgbkqYA0LAiGvp+ehQM9r/YaTTYzy54uCuLb+kkySRoRJQ2SqdOEnslw1LxBGG5aL9mFSehMWIYxVG+1zttsEOpTDY+oufeuyv43WWODNCsk/y34Vxx2NH/+nHXPGk++M9X6RbpPKkwo5xaNkvxPy6gCSd6XTa1Dv8mF4x/AIqg2fpNBf29tBLTYDhuWcmibG8mU68FYtBiylSMa52Sf3yyw6lsNkpvAqpRyR/eK+3jLNj6+AkDXT7dgtc9knw+s8bT7od7/nCnbfX8p5Hervs0ukaynI1DBJJQfZlT0MJPeMQt1TxwSfmlFtGNkstx375Zcc15tPC3gS7n979scxS9oqO/vtonxfGePpr34URij/sTwuucesjJOkMz6chCu9fjawZSLLu2c380Z+BjEgY7LU8YjTHODEo/fLLjjsMOxaDjvGk+BlI/M2mIYgJTII9nj7ad2HEuz8txwOjHd49Nf0lKel6eL68f1NPh7me/KhvR6bIUjYF7VyxktQ/KDsfAR4fFj9J8fRx5RUIfvkftjjw5ot9PPD21FFAzYu8/37k+Aq1Za22oYApnchJQxmwPLXwjRWeGOPYfN7apZNkh7Fpszwl2fgtfOnH1S6pX37ZodfCeyHZFvss8eS9bneV0T1Gf0jlvdh3HG8W/0nlef1nd9hdvkhh9yuPrvtFIh6PG0KJaxxFVdnhkk76RydfUMwjh507M6SIWzLXsoqLzDmOKkYfXLdLsumXHfZa9Iq8/XVhyrsRL0Gj3OIdb7iauGiagvd88Zb3MQXuukz5BGTeYtyw2yU4PCjmwvP9VxBKeNdogmDxK1++rw3bDL4GDJv8eURB6LsNrdDP0NJx0+Ynx8d8dXTqg1XMvr4+TdN0XR8cHJRlWdO0zc3N3d3d5eXl2dnZVCp1dHS0sbFRrVYXFxdPT0/39vaGhoZWVlYikcjFxUUmk1ldXT04OEgkEtvb21tbW41GQ1VVANjZ2ZERQnrzD3/ECQQCQecSj8f39/cPDw+Pj4/X19evrq6ur68fHh7u7+9jsVgikeju7p6fn+/p6Xl5eRkdHc3n8wMDA5qmra2tTU1NaZp2c3MDAJOTk3NzczMzM9FoNJ/PVyqViYmJk5MTAFAQ0nUdIQAESIcIQnrQvRYIBAIfmJ6eVhSlv7+/q6sLABqNRiwWGx4eLhaLvb29tVqtXC5Xq9V6vV4oFJaWlrLZbL1eNxT26elpfHy8VCrFYrFarZbL5RRFGRkZkWVZVdWFhYW7u7vI59/+1BF60990hD71RU5Sqb//+hJ0rwUCgcArqqoihFKp1D9NXl9fz87OJEkaGxvLZDLRaPT29rbRaFSr1cvLy0KhUK/Xn5+fVVU9Pz8vlUrFYjGfzyuKAgCPj4+1Wk2SpGw2W6lUcrnc//pl6fw0FBH+AAAAAElFTkSuQmCC"},767:function(s,t){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMUAAAAgCAIAAAAt0yuWAAAEGElEQVR4nO2cvW7jRhCAZ3ZHlO4VrnFpwHDqII2hKp1bd34TCxCQMg8Q4IB0QXzdBUnhOJUqN4YbF7ZrN64dILEoaWZSUF6vSYpcUrIl5fYrCHJ2Z3ZIDfefwp9+v0I0gAgA3+19PDk5+ePXTwAAQ3g51qGq7hwRi3JEzM5dau6y2k5I0TnLTuIX5Nsv5gkvd9F9rcpObf5A52t/l0A5lD3nUigdPyEgGARAns2EeZ4yrNDKs6gMX57LU6oSGEPVKhUFhfjZtNAQ+03thGtVKza93xamctAkTdGY7EKEmWchapH3x9UQqtrixXsfaDabZsGngMIsIut2KVLOxsaQD4kwAGgWUqoa4ymyBKSqoACoIjg/j0TaQgAIWT2KMZQiy0LGEoCCgoIgPsdWJNIKok4HREUFwCDifKw39LIMSxVf0WLeKLJyRqNRdtLv99flg0mShJJOp5MQJcYYg+ZlJtOdVOIm4hbNGf4v2cDbXGMYOaiT9IRZRAEUjTXWNJrJ/Dp5h2AKnI/eNChJeiysIqJqrDWGXhKH3jGMkPn+4gJFcamkaKqI0y1dYPGTau03kvvzio1cDS+3Ka6lq5C72quYuTSpXW1nkt6HbreXdHtJt2stWbLzlKF3rMT9iqWrY+HtYNN202XLqRR/mEy+yH5TubPv312tq+H2mxrPgqDf7+ciICfPhVEm9JOq8wdClCTCVlVU1VprLdUrFfBDatH7F8gKm5LMmZzB0qB3ni+KxeU9KQqry10V7cKiNdRJEhFREVCw1hr7un4KwH/P/JCqXthfxAqfbGYqfB26tHpb3p+K51BR7qr6T+/cSSeijqqqKKiiscY0bu+a4sLOXRbzhGzeWIbSPlzufQjxZxk/Q8pdFa4teyP7DmMsZc2cJTLGmOe9BuHk+k9+9wJeN4KlXZBaO7XkVIr95XA/Q+RQWa8UWfQcqu83vP/kujuj0cjv+vhyKAumnKQ2fwj42/XfKpDd4zcfu4PB4POnH1sYWgtvXY1FmkLKCgAKmzc9V4dfD8WQ2hCIeeYiSVRUt2a/SoyhDYSmkzR7u1VBOcm2Q0Ui7aDxeJwNqwGU+QPP4n7fSHsoHf+DOB/TMU+ZY/0UaQ+Nn/5FRAAEAJ4xz6brdimyxVD69ITP2+iYp/H7lsgy0CQde/HEwlszvotsIMTTCczjCZUlju8iy0DM7JZNBWSFy/uRrxBSlWyyQAFBFeIHU5ElIDQGAXT+1dR8oBeJOI6OjtI0PT4+Pj093d3dvbi4ODw8PDs729/fv7293dnZubu7Ozg4OD8/v7y8NNZYtGSstca+6cauyJayt7dHRNfX15PJxFqbpunV1dXj4+PNzc39/X32BwUPDw/T6RQA8Ief/3Sa33+7OxgM/vryy9p8j2w5/wHSlMPXfw4u4QAAAABJRU5ErkJggg=="}}]);