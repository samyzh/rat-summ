(window.webpackJsonp=window.webpackJsonp||[]).push([[328],{1850:function(s,t,a){"use strict";a.r(t);var e=a(14),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"为-npm-设置代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为-npm-设置代理"}},[s._v("#")]),s._v(" 为 NPM 设置代理")]),s._v(" "),a("blockquote",[a("h3",{attrs:{id:"npm获取配置有6种方式-优先级由高到底"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm获取配置有6种方式-优先级由高到底"}},[s._v("#")]),s._v(" npm获取配置有6种方式，优先级由高到底")])]),s._v(" "),a("ol",[a("li",[s._v("命令行参数。 "),a("code",[s._v("--proxy http://server:port")]),s._v("即将proxy的值设为"),a("code",[s._v("http://server:port")]),s._v("。")]),s._v(" "),a("li",[s._v("环境变量。 以"),a("code",[s._v("npm_config_")]),s._v("为前缀的环境变量将会被认为是npm的配置属性。如设置proxy可以加入这样的环境变量"),a("code",[s._v("npm_config_proxy=http://server:port")]),s._v("。")]),s._v(" "),a("li",[s._v("用户配置文件。可以通过"),a("code",[s._v("npm config get userconfig")]),s._v("查看文件路径。如果是mac系统的话默认路径就是"),a("code",[s._v("$HOME/.npmrc")]),s._v("。")]),s._v(" "),a("li",[s._v("全局配置文件。可以通过"),a("code",[s._v("npm config get globalconfig")]),s._v("查看文件路径。mac系统的默认路径是"),a("code",[s._v("/usr/local/etc/npmrc")]),s._v("。")]),s._v(" "),a("li",[s._v("内置配置文件。安装npm的目录下的npmrc文件。")]),s._v(" "),a("li",[s._v("默认配置。 npm本身有默认配置参数，如果以上5条都没设置，则npm会使用默认配置参数。")])]),s._v(" "),a("blockquote",[a("h3",{attrs:{id:"设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置"}},[s._v("#")]),s._v(" 设置")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" proxy http://10.24.48.6:808\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" https-proxy http://10.24.48.6:808\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("注意不要遗漏 “http://“ ，否则可能安装某些 package 时可能会报："),a("code",[s._v("ERR! Error: Invalid protocol")])]),s._v(" "),a("p",[s._v("如果代理需要认证的话可以这样来设置：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" proxy http://username:password@server:port\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" https-proxy http://username:pawword@server:port\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("code",[s._v(".npmrc")]),s._v("全局设置：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("proxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" http://proxy.example.com/\nhttps-proxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" http://proxy.example.com/\nregistry "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" http://registry.example.com/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"为-git-设置代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为-git-设置代理"}},[s._v("#")]),s._v(" 为 Git 设置代理")]),s._v(" "),a("p",[s._v("下载 git，并在系统 path 环境变量中配置。")]),s._v(" "),a("p",[s._v("git 的代理设置有两种办法，一是直接在命令行设置：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global http.proxy http://10.24.48.6:808\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global https.proxy http://10.24.48.6:808\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#git config --global http.sslverify false")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("由于代理上网，git 协议不能用，所以需要设置来用 https 协议替代：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global url."),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://"')]),s._v(".insteadOf git://\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果执行")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("报以下错误")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("error: server certificate verification failed. CAfile: /etc/ssl/certs/ca-certificates.crt\nCRLfile: none\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("说明证书校验有问题，可以设置：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global http.sslverify "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("方法二是直接修改 git 的配置文件 "),a("code",[s._v(".gitconfig")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    proxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" http://10.24.48.191:808\n    sslverify "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    proxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" http://10.24.48.191:808\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("url "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    insteadOf "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" git://\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"为-bower-设置代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为-bower-设置代理"}},[s._v("#")]),s._v(" 为 Bower 设置代理")]),s._v(" "),a("p",[s._v("bower 的安装和使用依赖于 npm 和 git，在完成前两者的代理设置后，有两种方法为 bower 设置代理。")]),s._v(" "),a("p",[s._v("方法一，直接修改 bower 的配置文件 "),a("code",[s._v(".bowerrc")]),s._v("，如果没有可先添加")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"proxy"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://10.24.48.6:808"')]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https-proxy"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://10.24.48.6:808"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("方法二，在系统变量里添加 "),a("code",[s._v("HTTP_PROXY")]),s._v(" 和 "),a("code",[s._v("HTTPS_PROXY")]),s._v("。")])])}),[],!1,null,null,null);t.default=n.exports}}]);