(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{1791:function(s,t,a){"use strict";a.r(t);var n=a(14),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),n("blockquote",[n("p",[s._v("CSS和JS动画比较")])]),s._v(" "),n("h3",{attrs:{id:"比较"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#比较"}},[s._v("#")]),s._v(" 比较")]),s._v(" "),n("p",[s._v("创建 Web 动画的两种主要方法是使用JavaScript和 CSS。选择哪种没有对或错，这完全取决于你想要达到的效果。")]),s._v(" "),n("h3",{attrs:{id:"抉择"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#抉择"}},[s._v("#")]),s._v(" 抉择")]),s._v(" "),n("ul",[n("li",[s._v("根据 Google Developer，渲染线程分为 "),n("strong",[s._v("主线程 (main thread)")]),s._v(" 和 "),n("strong",[s._v("合成线程 (compositor thread)")]),s._v("。如果 CSS 动画只是改变 "),n("code",[s._v("transforms")]),s._v(" 和 "),n("code",[s._v("opacity")]),s._v("，这时整个 "),n("strong",[s._v("CSS")]),s._v(" 动画得以在 "),n("strong",[s._v("合成线程")]),s._v(" 完成（而JS动画则会在 "),n("strong",[s._v("主线程")]),s._v(" 执行，然后触发合成线程进行下一步操作），在 JS 执行一些昂贵的任务时，主线程繁忙，CSS 动画由于使用了合成线程可以保持流畅;")]),s._v(" "),n("li",[s._v("在许多情况下，也可以由合成线程来处理 "),n("code",[s._v("transforms")]),s._v(" 和 "),n("code",[s._v("opacity")]),s._v(" 属性值的更改。")]),s._v(" "),n("li",[s._v("对于帧速表现不好的低版本浏览器，CSS3可以做到自然降级，而JS则需要撰写额外代码。")]),s._v(" "),n("li",[s._v("CSS动画有天然事件支持（TransitionEnd、AnimationEnd，但是它们都需要针对浏览器加前缀），JS则需要自己写事件。")]),s._v(" "),n("li",[s._v("如果有任何动画触发绘画，布局或两者，则需要 "),n("strong",[s._v("“主线程”")]),s._v(" 才能完成工作。 这对于基于 CSS 和 JavaScript 的动画都是如此，布局或绘制的开销可能会使与 CSS 或 JavaScript 执行相关的任何工作相形见绌，这使得问题没有实际意义。")]),s._v(" "),n("li",[s._v("CSS3有兼容性问题，而JS大多时候没有兼容性问题。")])]),s._v(" "),n("h2",{attrs:{id:"css-动画"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css-动画"}},[s._v("#")]),s._v(" CSS 动画")]),s._v(" "),n("p",[s._v("用CSS制作动画是让元素在屏幕上移动的最简单方法。")]),s._v(" "),n("p",[s._v("这里将从如何让元素在 X 和 Y 轴上移动 50px 简单示例开始，通过持续 1 秒的 CSS 过渡来移动元素。")]),s._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".box")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("-webkit-transform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("translate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("-webkit-transition")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" -webkit-transform 1000ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("transform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("translate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("transition")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" transform 1000ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".box.move")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("-webkit-transform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("translate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("50px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 50px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("transform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("translate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("50px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 50px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("当元素加上 "),n("code",[s._v("move")]),s._v(" 类时，改变 "),n("code",[s._v("transform")]),s._v(" 的值然后开发发生过渡效果。")]),s._v(" "),n("p",[s._v("除了转换持续时间外，还有 "),n("code",[s._v("easing")]),s._v(" 属性，这实际上就是动画的运动速度方式，该参数会在之后详细介绍。")]),s._v(" "),n("p",[s._v("如果像上面的代码片段一样，创建单独的 CSS 类来实现动画，当然也可以使用 JavaScript 来切换每个动画。")]),s._v(" "),n("p",[s._v("如下元素：")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  Sample content.\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("然后，使用 JavaScript 来切换每个动画。")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" boxElements "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getElementsByClassName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'box'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    boxElementsLength "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" boxElements"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" boxElementsLength"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  boxElements"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'move'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("上面的代码片段是为所有包含 "),n("code",[s._v("box")]),s._v(" 类的元素为其添加 "),n("code",[s._v("move")]),s._v(" 类以触发动画。")]),s._v(" "),n("p",[s._v("这样做可以为你的应用提供良好的平衡。 你可以专注于使用 JavaScript 管理状态，只需在目标元素上设置适当的类，让浏览器处理动画。 如果沿着这条路线前进，你可以在元素上监听 "),n("code",[s._v("transitionend")]),s._v(" 事件，但前提是放弃旧版 Internet Explorer 的支持：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(443),alt:"图片描述"}})]),s._v(" "),n("p",[s._v("监听 "),n("code",[s._v("transitionend")]),s._v(" 触发的事件如下所示:")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" boxElement "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("querySelector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.box'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nboxElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'transitionend'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" onTransitionEnd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("onTransitionEnd")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Handle the transition finishing.")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("除了使用 CSS 过渡之外，你还可以使用 CSS 动画，CSS 动画可以让你更好地控制单独的动画关键帧，持续时间以及循环次数。")]),s._v(" "),n("p",[s._v("关键帧用于指示浏览器 CSS 属性在给定时间点上应有的 CSS 属性，然后填充空白。")]),s._v(" "),n("p",[s._v("来个简单的例子：")]),s._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".box")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 动画的名字 */")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("animation-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" movingBox"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 动画的持续时间 */")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("animation-duration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 2300ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 动画的运行次数 */")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("animation-iteration-count")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" infinite"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 设置对象动画在循环中是否反向运动的方法 */")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("animation-direction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" alternate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token atrule"}},[n("span",{pre:!0,attrs:{class:"token rule"}},[s._v("@keyframes")]),s._v(" movingBox")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token selector"}},[s._v("0%")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("transform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("translate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("opacity")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0.4"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token selector"}},[s._v("25%")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("opacity")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0.9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token selector"}},[s._v("50%")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("transform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("translate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("150px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 200px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("opacity")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token selector"}},[s._v("100%")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("transform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("translate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("40px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 30px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("opacity")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0.8"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br")])]),n("p",[s._v("效果示例: "),n("a",{attrs:{href:"https://sessionstack.github.io/blog/demos/keyframes/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://sessionstack.github.i..."),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("使用CSS动画，你可以独立于目标元素定义动画本身，并使用 animation-name 属性来选择所需的动画。")]),s._v(" "),n("p",[s._v("CSS 动画在某种程度仍然需要加浏览器前缀的，在 Safari、Safari Mobile 和 Android 中都使用了 -webkit。 Chrome、 Opera、Internet Explorer 和 Firefox 都不需要添加前缀。许多工具可以帮助你创建所需 CSS 的前缀，这样就不需要在源文件中带样式前缀。")]),s._v(" "),n("h2",{attrs:{id:"js动画"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#js动画"}},[s._v("#")]),s._v(" JS动画")]),s._v(" "),n("p",[s._v("和 CSS 过渡或者 CSS 动画相比，使用 JavaScript 创建动画更加复杂，但它通常为开发人员提供了更强大的功能。")]),s._v(" "),n("p",[s._v("JavaScript 动画是作为代码的一部分内联编写的。你还可以将它们封装在其他对象中。以下为用 JavaScript 来实现最开始的 CSS 过渡的代码：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" boxElement "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("querySelector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.box'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" animation "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" boxElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("animate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("transform"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'translate(0)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("transform"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'translate(150px, 200px)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nanimation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'finish'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  boxElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("transform "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'translate(150px, 200px)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("默认情况下，Web 动画仅修改元素的展示效果。 如果要将对象停留在移动后的位置，则应在动画完成时修改其基础样式。 这就是为什么在上面的例子中监听 "),n("code",[s._v("finish")]),s._v(" 事件，并将 "),n("code",[s._v("box.style.transform")]),s._v(" 属性设置为 "),n("code",[s._v("translate(150px, 200px)")]),s._v("，该属性值和 CSS 动画执行的第二个样式转换是一样的。")]),s._v(" "),n("p",[s._v("使用 JavaScript 动画，你可以在每一步完全控制元素的样式。 这意味着你可以放慢动画速度，暂停动画，停止它们，翻转它们，并根据需要操纵元素。 如果你正在构建复杂的面向对象的应用程序，这尤其有用，因为你可以正确地封装你想要的动画行为。")]),s._v(" "),n("h2",{attrs:{id:"easing-定义"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#easing-定义"}},[s._v("#")]),s._v(" Easing 定义")]),s._v(" "),n("p",[s._v("自然过渡效果会让你的用户对你的 Web 应用程序感觉更舒服，从而带来更好的用户体验。")]),s._v(" "),n("p",[s._v("当然，没有任何东西从一个点到另一个点线性移动。 实际上，当事物在我们周围的物理世界中移动时，事物往往会加速或减速，因为我们不是在真空中，并且有不同的因素会影响这一点。 人类的大脑会期望感受这样的移动，所以当为网络应用制作动画的时候，利用此类知识会对自己会有好处。")]),s._v(" "),n("p",[s._v("以下是一些术语需要了解一下:")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("ease in")]),s._v(" —  相对于匀速，开始的时候慢，之后快")]),s._v(" "),n("li",[n("strong",[s._v("ease out")]),s._v(" — 相对于匀速，开始时快，结束时候间慢")]),s._v(" "),n("li",[n("strong",[s._v("ease-in-out")]),s._v(" — 相对于匀速，开始和结束都慢）两头慢")])]),s._v(" "),n("h2",{attrs:{id:"easing-关键字"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#easing-关键字"}},[s._v("#")]),s._v(" Easing 关键字")]),s._v(" "),n("p",[s._v("CSS 过渡和动画允许你选择要使用的 "),n("code",[s._v("easing")]),s._v(" 类型。 不同的关键字会影响动画的 "),n("code",[s._v("easing")]),s._v("，你也可以完全自定义 "),n("code",[s._v("easing")]),s._v(" 方法。")]),s._v(" "),n("p",[s._v("以下为可以选择用来控制 "),n("code",[s._v("easing")]),s._v(" 的 CSS 关键字：")]),s._v(" "),n("ul",[n("li",[s._v("linear")]),s._v(" "),n("li",[s._v("ease-in")]),s._v(" "),n("li",[s._v("ease-out")]),s._v(" "),n("li",[s._v("ease-in-out")])]),s._v(" "),n("p",[s._v("让我们深入来了解一下这几个兄弟，并看它们各自展示的效果是怎么样。")]),s._v(" "),n("h2",{attrs:{id:"linear-动画"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#linear-动画"}},[s._v("#")]),s._v(" Linear 动画")]),s._v(" "),n("p",[n("code",[s._v("easing")]),s._v(" 方法的的默认为 "),n("strong",[s._v("linear")]),s._v("，以下为 linear 过渡效果的图示：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(444),alt:"图片描述"}})]),s._v(" "),n("p",[s._v("随着时间增加，值等比增加，使用 "),n("strong",[s._v("linear")]),s._v(" 动效，会让动画不自然，一般来说，避免使用 "),n("strong",[s._v("linear")]),s._v(" 动效。")]),s._v(" "),n("p",[s._v("以下是如何实现简单的线性动画：")]),s._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[s._v("transition")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" transform 500ms linear"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"ease-out-动画"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ease-out-动画"}},[s._v("#")]),s._v(" Ease-out 动画")]),s._v(" "),n("p",[s._v("如前所述，与线性动画相比，"),n("code",[s._v("easing out")]),s._v(" 动画开始时快，结束时候间慢，过渡效果的图示如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(445),alt:"图片描述"}})]),s._v(" "),n("p",[s._v("一般来说，"),n("code",[s._v("easing out")]),s._v("过渡效果是最适合做界面体验的，因为快速地启动会给人以快速响应的动画的感觉，而结束时让人感觉很平滑这得归功于不一致的移动速度。")]),s._v(" "),n("p",[s._v("有很多方法可以实现 "),n("strong",[s._v("ease-out")]),s._v(" 效果，但最简单的是 CSS 中的 "),n("code",[s._v("ease-out")]),s._v(" 关键字：")]),s._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[s._v("transition")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" transform 500ms ease-out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"ease-in-动画"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ease-in-动画"}},[s._v("#")]),s._v(" Ease-in 动画")]),s._v(" "),n("p",[s._v("和 "),n("code",[s._v("ease-out")]),s._v(" 动画相反－开始时快，结束时候间慢，过渡效果图如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(446),alt:"图片描述"}})]),s._v(" "),n("p",[s._v("与 "),n("code",[s._v("ease-out")]),s._v(" 动画相比， "),n("code",[s._v("ease-in")]),s._v(" 可能会让人感到不寻常，由于启动缓慢给人以反应卡顿的感觉，因此会产生一种无反应的感觉。 动画结束很快也会产生一种奇怪的感觉，因为整个动画正在加速，而现实世界中的物体在突然停止时往往会减速。")]),s._v(" "),n("p",[s._v("和 "),n("code",[s._v("ease-out")]),s._v(" 和 "),n("code",[s._v("linear")]),s._v(" 动画类似，使用 CSS 关键字来实现 ease-in 动画：")]),s._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[s._v("transition")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" transform 500ms ease-in"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"ease-in-out-动画"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ease-in-out-动画"}},[s._v("#")]),s._v(" Ease-in-out 动画")]),s._v(" "),n("p",[s._v("该动画为 ease-in 和 ease-out 的合集，过渡效果图如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(447),alt:"图片描述"}})]),s._v(" "),n("p",[s._v("不要使用太长的动画持续时间，因为它们会让你的 UI 感觉没有响应。")]),s._v(" "),n("p",[s._v("用 "),n("code",[s._v("ease-in-out")]),s._v(" CSS 关键字来实现 "),n("code",[s._v("ease-in-out")]),s._v(" 动画：")]),s._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[s._v("transition")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" transform 500ms ease-in-out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"自定义-easing"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#自定义-easing"}},[s._v("#")]),s._v(" 自定义 easing")]),s._v(" "),n("p",[s._v("你也可以定义自己的 "),n("code",[s._v("easing")]),s._v(" 曲线，这可以更好地创建自己想要的动画效果。")]),s._v(" "),n("p",[s._v("实际上， "),n("code",[s._v("ease-in")]),s._v("，"),n("code",[s._v("linear")]),s._v(" 及 "),n("code",[s._v("ease")]),s._v(" 关键字映射到预定义 "),n("a",{attrs:{href:"https://en.wikipedia.org/wiki/B%C3%A9zier_curve",target:"_blank",rel:"noopener noreferrer"}},[s._v("贝塞尔曲线"),n("OutboundLink")],1),s._v(" ，可以在 CS"),n("a",{attrs:{href:"https://www.w3.org/TR/css-transitions-1/",target:"_blank",rel:"noopener noreferrer"}},[s._v("S transitions specification"),n("OutboundLink")],1),s._v(" 和 "),n("a",{attrs:{href:"https://w3c.github.io/web-animations/#scaling-using-a-cubic-bezier-curve",target:"_blank",rel:"noopener noreferrer"}},[s._v("Web Animations specification"),n("OutboundLink")],1),s._v(" 中查找更多关于贝塞尔曲线的内容。")]),s._v(" "),n("h2",{attrs:{id:"贝塞尔曲线-bezier-curves"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#贝塞尔曲线-bezier-curves"}},[s._v("#")]),s._v(" 贝塞尔曲线 (Bézier curves)")]),s._v(" "),n("p",[s._v("Bézier curve(贝塞尔曲线)是应用于二维图形应用程序的数学曲线。 曲线定义：起始点、终止点（也称锚点）、控制点。通过调整控制点，贝塞尔曲线的形状会发生变化。 1962年，法国数学家Pierre Bézier第一个研究了这种矢量绘制曲线的方法，并给出了详细的计算公式，因此按照这样的公式绘制出来的曲线就用他的姓氏来命名，称为"),n("strong",[s._v("贝塞尔曲线")]),s._v("。")]),s._v(" "),n("p",[n("a",{attrs:{href:"http://www.w3school.com.cn/cssref/pr_transition-timing-function.asp",target:"_blank",rel:"noopener noreferrer"}},[s._v("CSS3 transition-timing-function"),n("OutboundLink")],1),s._v(" 属性，其语法如下：")]),s._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[s._v("transition-timing-function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" linear|ease|ease-in|ease-out|ease-in-out|"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cubic-bezier")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("总而言之可以用cubic-bezier(n,n,n,n)的形式来表示全部的属性值，这里就涉及到贝塞尔曲线（Bézier curve）。")]),s._v(" "),n("p",[s._v("让我们看看贝塞尔曲线的工作原理。 贝塞尔曲线需要四个值，或者更准确地说它需要"),n("strong",[s._v("两对数字")]),s._v("。 每对描述立方贝塞尔曲线控制点的 "),n("code",[s._v("X")]),s._v(" 和 "),n("code",[s._v("Y")]),s._v(" 坐标。贝塞尔曲线的起点有一个坐标 "),n("code",[s._v("(0, 0)")]),s._v(" ，结束坐标是 "),n("code",[s._v("(1, 1)")]),s._v("。 你可以设置两个对号，两个控制点的 "),n("code",[s._v("X")]),s._v(" 值必须在 "),n("code",[s._v("[0,1]")]),s._v(" 范围内，并且每个控制点的 "),n("code",[s._v("Y")]),s._v(" 值可以超过 [0,1] 限制，尽管规定不清楚多少。")]),s._v(" "),n("p",[s._v("即使每个控制点的 "),n("code",[s._v("X")]),s._v(" 和 "),n("code",[s._v("Y")]),s._v(" 值稍有变化，也会得到完全不同的曲线。让我们看两张贝塞尔曲线的图，两张图相近但坐标的控制结点却不同。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(448),alt:"图片描述"}})]),s._v(" "),n("p",[s._v("和")]),s._v(" "),n("p",[n("img",{attrs:{src:a(449),alt:"图片描述"}})]),s._v(" "),n("p",[s._v("如您所见，两张图有很大的不同， 第一个控制点矢量差为 "),n("code",[s._v("(0.045,0.183)")]),s._v(" 矢量差，而第二控制点矢量差为 "),n("code",[s._v("(-0.427, -0.054)")]),s._v(" 。")]),s._v(" "),n("p",[s._v("第二条曲线的样式为：")]),s._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[s._v("transition")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" transform 500ms "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cubic-bezier")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0.465"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0.183"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0.153"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0.946"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("前两个数字是第一个控制点的 "),n("code",[s._v("X")]),s._v(" 和 "),n("code",[s._v("Y")]),s._v(" 坐标，后两个数字是第二个控制点的 "),n("code",[s._v("X")]),s._v(" 和 "),n("code",[s._v("Y")]),s._v(" 坐标。")]),s._v(" "),n("h2",{attrs:{id:"性能优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#性能优化"}},[s._v("#")]),s._v(" 性能优化")]),s._v(" "),n("p",[s._v("当你在使用动画的时候，你应该维持 60 帧每秒，否则会影响用户体验。")]),s._v(" "),n("p",[s._v("和世界上的其他事物一样，动画也会有性能的开销。一些属性的动画性能开销相比其它属性要小。例如，为元素的 "),n("code",[s._v("width")]),s._v(" 和 "),n("code",[s._v("height")]),s._v(" 做动画会更改其几何结构并且可能会造成页面上的其它元素移动或者大小的改变，这个过程称为布局。我们在之前的"),n("a",{attrs:{href:"https://segmentfault.com/a/1190000017872125#articleHeader0",target:"_blank",rel:"noopener noreferrer"}},[s._v("一篇文章"),n("OutboundLink")],1),s._v(" 中更详细地讨论了布局和渲染。")]),s._v(" "),n("p",[s._v("通常，你应该避免动画触发布局或重绘的属性。 对于大多数现代浏览器，这意味着把动画局限于 "),n("code",[s._v("opacity")]),s._v(" 和 "),n("code",[s._v("transform")]),s._v(" 属性。")]),s._v(" "),n("h2",{attrs:{id:"will-change"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#will-change"}},[s._v("#")]),s._v(" Will-change")]),s._v(" "),n("p",[s._v("你可以使用 "),n("a",{attrs:{href:"https://drafts.csswg.org/css-will-change/",target:"_blank",rel:"noopener noreferrer"}},[s._v("will-change"),n("OutboundLink")],1),s._v(" 知浏览器你打算更改元素的属性，这允许浏览器在进行更改之前进行最适当的优化。但是，不要过度使用 "),n("code",[s._v("will-change")]),s._v("，因为这样做会导致浏览器浪费资源，从而导致更多的性能问题。")]),s._v(" "),n("p",[n("code",[s._v("will-change")]),s._v(" 用法如下：")]),s._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".box")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("will-change")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" transform"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" opacity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("该属性在 Chrome, Firefox，Opera 得到很好的兼容。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(450),alt:"图片描述"}})]),s._v(" "),n("h2",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),n("p",[s._v("如果动画只是简单的状态切换，不需要中间过程控制，在这种情况下，css 动画是优选方案。它可以让你将动画逻辑放在样式文件里面，而不会让你的页面充斥 Javascript 库。然而如果你在设计很复杂的富客户端界面或者在开发一个有着复杂 UI 状态的 APP。那么你应该使用 js 动画，这样你的动画可以保持高效，并且你的工作流也更可控。所以，在实现一些小的交互动效的时候，就多考虑考虑 CSS 动画。对于一些复杂控制的动画，使用 javascript 比较可靠。")]),s._v(" "),n("p",[n("strong",[s._v("原文：")])]),s._v(" "),n("p",[n("a",{attrs:{href:"https://blog.sessionstack.com/how-javascript-works-under-the-hood-of-css-and-js-animations-how-to-optimize-their-performance-db0e79586216",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.sessionstack.com..."),n("OutboundLink")],1)]),s._v(" "),n("h2",{attrs:{id:"相关链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#相关链接"}},[s._v("#")]),s._v(" 相关链接")]),s._v(" "),n("p",[s._v("https://segmentfault.com/a/1190000017927665")])])}),[],!1,null,null,null);t.default=e.exports},443:function(s,t,a){s.exports=a.p+"assets/img/bVbnk3T.3604a90f.png"},444:function(s,t,a){s.exports=a.p+"assets/img/bVbnmlr.4dda0cf2.png"},445:function(s,t,a){s.exports=a.p+"assets/img/bVbnmoE.0bfe81e3.png"},446:function(s,t,a){s.exports=a.p+"assets/img/bVbnmsa.1e9f0d70.png"},447:function(s,t,a){s.exports=a.p+"assets/img/bVbnnwU.c942c988.png"},448:function(s,t,a){s.exports=a.p+"assets/img/bVbnnCj.7881fa9c.png"},449:function(s,t,a){s.exports=a.p+"assets/img/bVbnnCl.f04c79e2.png"},450:function(s,t,a){s.exports=a.p+"assets/img/bVbnnJ3.c3719c34.png"}}]);