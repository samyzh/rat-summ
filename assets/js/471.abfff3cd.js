(window.webpackJsonp=window.webpackJsonp||[]).push([[471],{2197:function(s,a,t){"use strict";t.r(a);var e=t(14),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"常用操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用操作"}},[s._v("#")]),s._v(" 常用操作")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" -m iwdpxxx\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" iwdpxxx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" u+w /etc/sudoers\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sudoers\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# centos下；注意这里不能拷贝复制过去；")]),s._v("\niwdp            "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                NOPASSWD: ALL\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ubuntu下；注意这里不能拷贝复制过去；")]),s._v("\niwdp            "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALL:ALL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                NOPASSWD: ALL\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ftp")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"添加用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加用户"}},[s._v("#")]),s._v(" 添加用户")]),s._v(" "),t("ul",[t("li",[s._v("sudo useradd -m -d /home/workdir/samy samy 在特定目录下建立家目录")]),s._v(" "),t("li",[s._v("sudo useradd -m samy 默认在/home下建立家目录")])]),s._v(" "),t("h2",{attrs:{id:"删除用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除用户"}},[s._v("#")]),s._v(" 删除用户")]),s._v(" "),t("p",[s._v("sudo userdel -r samy 带-r删除相关联的账户文件等")]),s._v(" "),t("h2",{attrs:{id:"添加密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加密码"}},[s._v("#")]),s._v(" 添加密码")]),s._v(" "),t("p",[s._v("sudo passwd samy")]),s._v(" "),t("h2",{attrs:{id:"建或删除用户组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#建或删除用户组"}},[s._v("#")]),s._v(" 建或删除用户组")]),s._v(" "),t("p",[s._v("sudo groupadd developer;")]),s._v(" "),t("p",[s._v("sudo groupdel developer")]),s._v(" "),t("h2",{attrs:{id:"用户设置到用户组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户设置到用户组"}},[s._v("#")]),s._v(" 用户设置到用户组")]),s._v(" "),t("p",[s._v("sudo usermod -a -G developer(sambashare/nogroup) samy;")]),s._v(" "),t("ul",[t("li",[s._v("带-G修改用户所属的附加群组;")]),s._v(" "),t("li",[s._v("-a 有该选项则切换到新群组之后并保持原有组，否则从原有组中删除;")])]),s._v(" "),t("h2",{attrs:{id:"新用户下只显示-的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#新用户下只显示-的问题"}},[s._v("#")]),s._v(" 新用户下只显示$的问题")]),s._v(" "),t("p",[s._v("/etc/passwd中新账户后修改或添加为/bin/bash")]),s._v(" "),t("h2",{attrs:{id:"samb共享设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#samb共享设置"}},[s._v("#")]),s._v(" samb共享设置")]),s._v(" "),t("p",[s._v("sudo vi /etc/samba/smb.conf 建议先备份，再修改\nsudo service smbd restart")]),s._v(" "),t("h2",{attrs:{id:"查看用户所在的组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看用户所在的组"}},[s._v("#")]),s._v(" 查看用户所在的组")]),s._v(" "),t("p",[s._v("groups samy 或者cat /etc/group")]),s._v(" "),t("h2",{attrs:{id:"从组中删除用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#从组中删除用户"}},[s._v("#")]),s._v(" 从组中删除用户")]),s._v(" "),t("p",[s._v("gpasswd -d samy GROUP 或者vim /etc/group编辑删除")]),s._v(" "),t("h2",{attrs:{id:"给用户添加sudo权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#给用户添加sudo权限"}},[s._v("#")]),s._v(" 给用户添加sudo权限")]),s._v(" "),t("p",[s._v("有两种做法可以做到：")]),s._v(" "),t("h3",{attrs:{id:"修改sudoers文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改sudoers文件"}},[s._v("#")]),s._v(" 修改sudoers文件")]),s._v(" "),t("p",[s._v("a. 切换到root用户下 "),t("code",[s._v("su -")]),s._v(" "),t("code",[s._v("exit")])]),s._v(" "),t("p",[s._v("b. 添加sudo文件的写权限,命令是:\nchmod u+w /etc/sudoers")]),s._v(" "),t("p",[s._v("c. 编辑sudoers文件\nvi /etc/sudoers\n找到这行 root ALL=(ALL) ALL,在他下面添加xxx ALL=(ALL) ALL (这里的xxx是你的用户名)")]),s._v(" "),t("p",[s._v("d. ps:这里说下可以sudoers添加下面四行中任意一条")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("    youuser            "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                ALL\n    %youuser           "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                ALL\n    youuser            "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                NOPASSWD: ALL\n    %youuser           "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                NOPASSWD: ALL\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ul",[t("li",[s._v("第一行:允许用户youuser执行sudo命令(需要输入密码).")]),s._v(" "),t("li",[s._v("第二行:允许用户组youuser里面的用户执行sudo命令(需要输入密码).")]),s._v(" "),t("li",[s._v("第三行:允许用户youuser执行sudo命令,并且在执行的时候不输入密码.")]),s._v(" "),t("li",[s._v("第四行:允许用户组youuser里面的用户执行sudo命令,并且在执行的时候不输入密码.")])]),s._v(" "),t("p",[s._v("p s： 在有的环境中，配置为 "),t("code",[s._v("youuser ALL=(ALL) ALL")]),s._v("\n也可以达到sudo无需输入密码的效果，但不能保证所有环境都有效，肯定有效的做法是:\n"),t("code",[s._v("youuser ALL=(ALL) NOPASSWD: ALL")])]),s._v(" "),t("h3",{attrs:{id:"增加用户组文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#增加用户组文件"}},[s._v("#")]),s._v(" 增加用户组文件")]),s._v(" "),t("p",[s._v("在etc/sudoers.d目录下增加以用户组为名的文件，例如:TestGroup，在其中配置如下内容：\n%TestGroup ALL=(ALL) NOPASSWD: ALL")]),s._v(" "),t("h2",{attrs:{id:"如何理解sudo和su命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何理解sudo和su命令"}},[s._v("#")]),s._v(" 如何理解sudo和su命令")]),s._v(" "),t("p",[s._v("sudo命令需要输入当前用户的密码，获取了root权限。对于su命令可以切换登录账户，\nsu root需要输入root用户的密码。")]),s._v(" "),t("blockquote",[t("h4",{attrs:{id:"怎么理解-etc-group-passwd、shadow-文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#怎么理解-etc-group-passwd、shadow-文件"}},[s._v("#")]),s._v(" 怎么理解/etc/group(passwd、shadow)文件")])]),s._v(" "),t("p",[s._v("/etc/group 的内容格式如：group_name:passwd:GID:user_list")]),s._v(" "),t("ul",[t("li",[s._v("passwd 注：用户的配置文件； shadow 注：用户影子口令文件；")]),s._v(" "),t("li",[s._v("group 注：用户组配置文件； gshadow 注：用户组的影子文件；")])]),s._v(" "),t("h2",{attrs:{id:"参考链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[s._v("#")]),s._v(" 参考链接")]),s._v(" "),t("p",[s._v("https://www.runoob.com/linux/linux-user-manage.html")])])}),[],!1,null,null,null);a.default=r.exports}}]);