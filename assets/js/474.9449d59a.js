(window.webpackJsonp=window.webpackJsonp||[]).push([[474],{2200:function(s,a,t){"use strict";t.r(a);var n=t(14),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"使用samba建立共享连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用samba建立共享连接"}},[s._v("#")]),s._v(" 使用samba建立共享连接")]),s._v(" "),t("h4",{attrs:{id:"安装启动samba"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装启动samba"}},[s._v("#")]),s._v(" 安装启动samba")]),s._v(" "),t("p",[t("strong",[s._v("yum安装samba")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查samba是否安装")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" samba\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装samba")]),s._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" samba\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启samba")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" smb restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[t("strong",[s._v("创建smb用户")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建samba用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" samba\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# smbpasswd -a 是添加用户的意思 后面跟的是用户名，此用户名一定要跟linux登录用户名一样")]),s._v("\nsmbpasswd -a root "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输入密码，完成即可")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"配置共享文件夹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置共享文件夹"}},[s._v("#")]),s._v(" 配置共享文件夹")]),s._v(" "),t("p",[t("strong",[s._v("修改/etc/samba/smb.conf，在最后加入想要共享的文件夹")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" smb.conf smb.conf.bak  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##备份")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#"')]),s._v(" smb.conf.bak "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" smb.conf  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##重新创建一个配置文件（除去注释的）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("global"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##全局")]),s._v("\n        workgroup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" SAMBA\n        security "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" user\n\n        passdb backend "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tdbsam\n\n        printing "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cups\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printcap")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cups\n        load printers "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n        cups options "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" raw\n        map to guest "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Bad User   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##添加此项，开启匿名用户访问")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##大G到末行添加下面的配置信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("myshare"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##添加的share文件")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/abc            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##路径")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("public")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yes              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##公共访问")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("browseable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yes          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##能够访问")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("writable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yes             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##写权限")]),s._v("\n        create "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mask")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("0644        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##设置权限")]),s._v("\n        directory "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mask")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("0755\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("p",[s._v("创建myshare路径目录，并给权限")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost samba"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir /opt/abc   ##创建目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost samba"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chmod 777 /opt/abc  ##给全部权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost samba"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl stop firewalld.service  ##关闭防火墙")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost samba"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# setenforce 0  ##关闭增强功能")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost samba"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl start smb.service  ##开启Samba服务")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("我这里配置的MyShare文件夹为ambari源码路径的父路径")]),s._v(" "),t("p",[s._v("源码路径为:/opt/ambari/apache-ambari-2.6.0-src")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("samba home"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /home/samba\n    writeable "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n    guest ok "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" only "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" no\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("MyShare"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /opt/ambari/\n        public "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n        writeable "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n        guest ok "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" only "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" no\n        browseable "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("设置完毕之后需要重启samba")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启samba")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" smb restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"修改文件权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改文件权限"}},[s._v("#")]),s._v(" 修改文件权限")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将[MyShare]配置的path目录归属设置为root")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R root. /opt/ambari \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 赋予所有用户对该目录增删改的权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" -R "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /opt/ambari \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"本地访问共享文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地访问共享文件"}},[s._v("#")]),s._v(" 本地访问共享文件")]),s._v(" "),t("ol",[t("li",[s._v("在windows本地电脑文件浏览器中输入\\ip地址,访问samba目录")]),s._v(" "),t("li",[s._v("本地测试是否有增删改查的权限")]),s._v(" "),t("li",[s._v("右击samba目录,选择映射网络驱动器")]),s._v(" "),t("li",[s._v("在编辑器里打开网络驱动器里的项目进行编辑")])]),s._v(" "),t("h4",{attrs:{id:"ide导入共享文件夹中项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ide导入共享文件夹中项目"}},[s._v("#")]),s._v(" IDE导入共享文件夹中项目")]),s._v(" "),t("ol",[t("li",[s._v("以idea为例File–>Open,选择上一步映射的网络驱动器盘导入")]),s._v(" "),t("li",[s._v("这样就建立了idea–>linux(ambari的映射)")])]),s._v(" "),t("h3",{attrs:{id:"简单设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简单设置"}},[s._v("#")]),s._v(" 简单设置")]),s._v(" "),t("p",[s._v("1）安装samba:可以先检查下是否已经安装：rpm -qa | grep samba,没有的话自己安装下，命令十分简单：yum install samba")]),s._v(" "),t("p",[s._v("2） service smb restart // 重启 SMB")]),s._v(" "),t("p",[s._v("3） useradd samba // 在 Linux 上建立samba用户")]),s._v(" "),t("p",[s._v("4） smbpasswd -a samba // 创建 Smb 用户，此用户必须是 Linux 上已经建立的")]),s._v(" "),t("p",[s._v("输入密码，完成即可。")]),s._v(" "),t("p",[s._v("5） srvice iptables stop // 关闭防火墙")]),s._v(" "),t("p",[s._v("6） setenforce 0 // 确保setlinux关闭")]),s._v(" "),t("p",[s._v("7）修改/etc/samba/smb.conf，这里面的参数就比较多，主要是")]),s._v(" "),t("p",[s._v("vi/etc/samba/smb.conf ，在最后加入想要共享的文件夹：")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("samba home"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                     ；共享名称\n        path = /home/samba ；共享文件夹路径\n        writeable = yes         ；是否可写\n        guest ok = no          ；是否允许GUEST访问\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("8）windows下连接，启动运行，输入\\<samba_ip>,输入smb帐号密码就可以了")])])}),[],!1,null,null,null);a.default=e.exports}}]);