(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{1387:function(v,e,s){v.exports=s.p+"assets/img/16-46-06.d539efff.jpg"},1388:function(v,e,s){v.exports=s.p+"assets/img/16-46-49.2f96ea8c.jpg"},1389:function(v,e,s){v.exports=s.p+"assets/img/16-47-27.d8ced300.jpg"},1390:function(v,e,s){v.exports=s.p+"assets/img/14-33-32.3cc0639c.jpg"},1391:function(v,e){v.exports="data:image/jpeg;base64,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"},2175:function(v,e,s){"use strict";s.r(e);var t=s(14),a=Object(t.a)({},(function(){var v=this,e=v.$createElement,t=v._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h3",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[v._v("#")]),v._v(" 简介")]),v._v(" "),t("blockquote",[t("p",[v._v("作为缓存数据库，肯定要考虑缓存服务稳定性相关的保障机制。")]),v._v(" "),t("p",[v._v("持久化机制就是一种保障方式。持久化机制保证了 Redis 服务器重启的情况下也不会损失（或少量损失）数据，因为持久化会把内存中数据保存到硬盘上，重启会从硬盘上加载数据。")]),v._v(" "),t("p",[v._v("随着 Redis 使用场景越来越多，技术发展越来越完善，在 Redis 整体服务上的容错、扩容、稳定各个方面都需要不断优化。 "),t("code",[v._v("因此在 Redis 的集群模式上也有不同的搭建方式来应对各种需求")]),v._v("。")])]),v._v(" "),t("p",[v._v("总结来说，"),t("strong",[v._v("Redis 集群模式有三种")]),v._v("：")]),v._v(" "),t("ul",[t("li",[v._v("主从模式")]),v._v(" "),t("li",[v._v("哨兵模式")]),v._v(" "),t("li",[v._v("Cluster 集群模式")])]),v._v(" "),t("blockquote",[t("p",[v._v("集群最大节点个数是16384 个")])]),v._v(" "),t("h3",{attrs:{id:"架构模式分类-有1-3种"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#架构模式分类-有1-3种"}},[v._v("#")]),v._v(" 架构模式分类：有1+3种")]),v._v(" "),t("ol",[t("li",[v._v("Redis "),t("code",[v._v("单节点单机")]),v._v("器部署")]),v._v(" "),t("li",[v._v("Redis "),t("code",[v._v("主从节点")]),v._v("部署")]),v._v(" "),t("li",[v._v("Redis Sentinel"),t("code",[v._v("（哨兵）模式")]),v._v("部署")]),v._v(" "),t("li",[v._v("Redis "),t("code",[v._v("集群模式")])])]),v._v(" "),t("h4",{attrs:{id:"主从-replication-模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主从-replication-模式"}},[v._v("#")]),v._v(" 主从(replication )模式")]),v._v(" "),t("p",[v._v("为了 Redis 服务避免单点故障，"),t("code",[v._v("通常的做法是将 Redis 数据复制多个副本以部署在不同的服务器上")]),v._v("。这样即使有一台服务器出现故障，其他服务器依然可以继续提供服务。为此，Redis 提供了"),t("code",[v._v("复制（ replication ）功能")]),v._v("，可以实现当一台数据库中的数据更新后，自动将更新的数据同步到其他数据库上。")]),v._v(" "),t("p",[v._v("Redis 服务器分为两类："),t("code",[v._v("一类是主数据库（Master），另一类是从数据库（Slave）")]),v._v("。")]),v._v(" "),t("p",[v._v("主数据库可以进行读写操作，当写操作导致数据变化时会自动将数据同步给从数据库。")]),v._v(" "),t("p",[t("code",[v._v("从数据库一般是只读的，并接受主数据库同步过来的数据。")]),t("strong",[v._v("一个主数据库可以拥有多个从数据库，而一个从数据库只能拥有一个主数据库。")])]),v._v(" "),t("p",[v._v("如图所示：\n"),t("img",{attrs:{src:s(1387),alt:""}}),v._v(" "),t("strong",[v._v("优点")])]),v._v(" "),t("ol",[t("li",[t("p",[v._v("一个主，可以有多个从，"),t("strong",[v._v("并以非阻塞的方式完成数据同步")]),v._v("；")])]),v._v(" "),t("li",[t("p",[v._v("从服务器提供读服务，分散主服务的压力，实现读写分离；")])]),v._v(" "),t("li",[t("p",[v._v("从服务器之前可以彼此连接和同步请求，减少主服务同步压力。")])])]),v._v(" "),t("p",[t("strong",[v._v("缺点")])]),v._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[t("p",[v._v("不具备容错和恢复功能，主服务存在单点风险；")])]),v._v(" "),t("li",[t("p",[v._v("Redis 的主从复制采用全量复制，需要服务器有足够的空余内存；")])]),v._v(" "),t("li",[t("p",[v._v("主从模式较难支持在线扩容。")])])]),v._v(" "),t("h4",{attrs:{id:"哨兵-sentinel-模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#哨兵-sentinel-模式"}},[v._v("#")]),v._v(" 哨兵(Sentinel)模式")]),v._v(" "),t("p",[v._v("Redis 提供的 "),t("code",[v._v("sentinel（哨兵）机制")]),v._v("，通过 sentinel 模式启动redis后，自动监控 Master/Slave 的运行状态，基本原理是："),t("strong",[v._v("心跳机制 + 投票裁决")]),v._v("。哨兵模式本身是基于主从为基础，所以写并发比较多的情况下，主压力肯定是有的")]),v._v(" "),t("p",[v._v("简单来说，"),t("em",[t("strong",[v._v("哨兵的作用就是监控 Redis 系统的运行状况")])]),v._v("。它的功能包括以下两个：")]),v._v(" "),t("ol",[t("li",[v._v("监控主数据库和从数据库是否正常运行；")]),v._v(" "),t("li",[v._v("主数据库出现故障时自动将从数据库转换为主数据库。")])]),v._v(" "),t("p",[v._v("哨兵模式主要有下面几个内容：")]),v._v(" "),t("ul",[t("li",[t("p",[t("strong",[v._v("监控（ Monitoring ）")]),v._v("：Sentinel 会定期检查主从服务器是否处于正常工作状态。")])]),v._v(" "),t("li",[t("p",[t("strong",[v._v("提醒（ Notification ）")]),v._v("：当被监控的某个 Redis 服务器出现异常时，Sentinel 可以通过 API 向管理员或者其他应用程序发送通知。")])]),v._v(" "),t("li",[t("p",[t("strong",[v._v("自动故障迁移（Automatic failover）")]),v._v("：当一个主服务器不能正常工作时，Sentinel 会开始一次自动故障迁移操作，它会将失效主服务器的其中一个从服务器升级为新的主服务器，并让失效主服务器的其他从服务器改为复制新的主服务器；当客户端试图连接失效的主服务器时，集群也会向客户端返回新主服务器的地址， 使得集群可以使用新主服务器代替失效服务器。")])])]),v._v(" "),t("p",[t("em",[t("strong",[v._v("Redis Sentinel 是一个分布式系统，你可以在一个架构中运行多个 Sentinel 进程（ progress ）。")])])]),v._v(" "),t("p",[v._v("如图所示：")]),v._v(" "),t("p",[t("img",{attrs:{src:s(1388),alt:""}})]),v._v(" "),t("p",[t("strong",[v._v("优点")])]),v._v(" "),t("ol",[t("li",[v._v("哨兵模式"),t("code",[v._v("主从可以切换，具备基本的故障转移能力")]),v._v("；保证高可用; 监控各个节点; 自动故障迁移;")]),v._v(" "),t("li",[v._v("哨兵模式具备主从模式的所有优点。")])]),v._v(" "),t("p",[t("strong",[v._v("缺点")])]),v._v(" "),t("p",[v._v("​    1:  哨兵模式"),t("code",[v._v("也很难支持在线扩容")]),v._v("操作；")]),v._v(" "),t("p",[v._v("​    2: "),t("code",[v._v("集群的配置信息管理比较复杂")]),v._v("。")]),v._v(" "),t("p",[v._v("主从模式，切换需要时间丢数据，没有解决 master 写的压力")]),v._v(" "),t("h4",{attrs:{id:"cluster集群模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cluster集群模式"}},[v._v("#")]),v._v(" Cluster集群模式")]),v._v(" "),t("p",[v._v("Redis Cluster 是一种服务器 Sharding 技术，"),t("code",[v._v("3.0 版本开始正式提供")]),v._v("。"),t("em",[v._v("采用无中心结构，每个节点保存数据和整个集群状态,每个节点都和其他所有节点连接")]),v._v("。")]),v._v(" "),t("p",[v._v("如图所示：\n"),t("img",{attrs:{src:s(1389),alt:""}}),v._v("\nCluster 集群结构特点：")]),v._v(" "),t("ol",[t("li",[v._v("Redis Cluster 所有的物理节点都映射到 [ "),t("code",[v._v("0-16383")]),v._v(" ] slot 上（不一定均匀分布），Cluster 负责维护节点、桶、值之间的关系；")]),v._v(" "),t("li",[v._v("在 Redis 集群中放置一个 key-value 时，"),t("code",[v._v("根据 CRC16(key) mod 16384 的值，从之前划分的 16384 个桶中选择一个；")])]),v._v(" "),t("li",[v._v("所有的 Redis "),t("strong",[v._v("节点彼此互联（PING-PONG 机制）")]),v._v("，"),t("em",[v._v("内部使用二进制协议优化传输效率")]),v._v("；")]),v._v(" "),t("li",[v._v("超过半数的节点检测到某个节点失效时则判定该节点失效；")]),v._v(" "),t("li",[v._v("使用端与 Redis 节点链接,不需要中间 proxy 层，直接可以操作，使用端不需要连接集群所有节点，连接集群中任何一个可用节点即可。")])]),v._v(" "),t("p",[t("strong",[v._v("优点")])]),v._v(" "),t("ol",[t("li",[v._v("无中心架构，节点间数据共享，可动态调整数据分布；")]),v._v(" "),t("li",[v._v("节点可动态添加删除，扩展性比较灵活；")]),v._v(" "),t("li",[v._v("部分节点异常，不影响整体集群的可用性。")])]),v._v(" "),t("p",[t("strong",[v._v("缺点")])]),v._v(" "),t("ol",[t("li",[v._v("集群实现比较复杂；")]),v._v(" "),t("li",[v._v("批量操作指令（ mget、mset 等）支持有限；")]),v._v(" "),t("li",[v._v("事务操作支持有限。")])]),v._v(" "),t("h3",{attrs:{id:"主从模型详解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主从模型详解"}},[v._v("#")]),v._v(" 主从模型详解")]),v._v(" "),t("p",[v._v("Redis 中的主从复制，也就是 Master-Slave 模型，多个 Redis 实例间的数据同步以及 Redis 集群中数据同步会使用主从复制。\n"),t("strong",[v._v("主从复制主要是数据同步")]),v._v("， 数据同步分为"),t("strong",[v._v("全量同步")]),v._v("和"),t("strong",[v._v("增量同步")]),v._v("。\n"),t("strong",[v._v("全量同步：")]),v._v(" "),t("code",[v._v("全量同步一般发生在 Slave 机器初始化阶段")]),v._v("， 这时候 Slave 需要将 Master 上的所有数据都进行同步复制。")]),v._v(" "),t("p",[v._v("大概步骤如下所示：\n"),t("img",{attrs:{src:s(1390),alt:""}})]),v._v(" "),t("ol",[t("li",[v._v("从服务器发送 SYNC 命令，链接主服务器")]),v._v(" "),t("li",[v._v("主服务器收到 SYNC 命令后，"),t("em",[v._v("进行存盘的操作，并继续收集后续的写命令")]),v._v("，存储缓冲区")]),v._v(" "),t("li",[v._v("存盘结束后，将对应的数据文件发送到 Slave 中，完成一次全量同步")]),v._v(" "),t("li",[t("em",[v._v("主服务数据发送完毕后，将进行增量的缓冲区数据同步")])]),v._v(" "),t("li",[v._v("Slave 加载数据文件和缓冲区数据，开始接受命令请求，提供操作")])]),v._v(" "),t("p",[t("strong",[v._v("增量更新：")])]),v._v(" "),t("p",[t("code",[v._v("Slave 节点初始化完成之后，开始正常工作")]),v._v("，Master 节点进行的写操作都会同步到 Slave 节点上面。"),t("code",[v._v("Master 节点每执行一个写命令都会向从服务器发送相同的写命令")]),v._v("，从服务器接收到命令，并执行。")]),v._v(" "),t("h3",{attrs:{id:"模式比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模式比较"}},[v._v("#")]),v._v(" 模式比较")]),v._v(" "),t("h4",{attrs:{id:"redis-的主从复制模式优缺点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis-的主从复制模式优缺点"}},[v._v("#")]),v._v(" Redis 的主从复制模式优缺点")]),v._v(" "),t("ul",[t("li",[v._v("**优点：**可靠性相对于单个节点部署模式有所提高，"),t("code",[v._v("实现读写分离提高读写效率")])]),v._v(" "),t("li",[v._v("**缺点：**写数据依赖于主节点，主节点空间有限，而且主节点存在单点的风险")])]),v._v(" "),t("h4",{attrs:{id:"redis-sentinel-哨兵-模式优缺点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis-sentinel-哨兵-模式优缺点"}},[v._v("#")]),v._v(" Redis sentinel（哨兵）模式优缺点")]),v._v(" "),t("ul",[t("li",[v._v("**优点：**保证高可用，"),t("code",[v._v("各个节点自动故障转移")])]),v._v(" "),t("li",[v._v("**缺点：**主从模式，依旧存在主节点单点风险，主从切换有丢失数据的问题")])]),v._v(" "),t("h3",{attrs:{id:"集群的实现方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#集群的实现方案"}},[v._v("#")]),v._v(" 集群的实现方案")]),v._v(" "),t("p",[t("strong",[v._v("1. Redis Cluster 集群方案（服务端 Sharding 技术）")]),v._v("\nRedis Cluster 是 "),t("code",[v._v("3.0 版本开始正式")]),v._v("提供的服务器 Sharding 技术。引入 slot（槽）的概念，整个集群共有 "),t("code",[v._v("16384 个槽")]),v._v("。根据 key 进行散列（CRC16 后 16384 取模），分配到其中一个槽当中。\n"),t("strong",[v._v("2. Redis Sharding 集群（客户端 Sharding 技术）")]),v._v(" "),t("code",[v._v("Redis Sharding 出现先与 Redis Cluster 方案，他是多 Redis 实例集群方案")]),v._v("。\n客户端 Sharding 方式，该向哪个 Redis 节点操作数据，由客户端来进行控制。服务端 Redis 还是一个个相对独立的 Redis 实例节点，没有做任何变动。节点选择可采用的方法："),t("strong",[v._v("一致性 hash 算法或者虚拟节点算法")]),v._v("。\n"),t("img",{attrs:{src:s(1391),alt:""}}),v._v(" "),t("strong",[v._v("3. Twemproxy 中间件实现")]),v._v("\nTwemproxy 就是一种中间件 Sharding 分片的技术，"),t("code",[v._v("处于客户端和服务器的中间")]),v._v("，将客户端发来的请求，进行一定的处理后（如 Sharding），再转发给后端真正的 Redis 服务器。\n也就是说，"),t("code",[v._v("客户端不直接访问 Redis 服务器，而是通过 Twemproxy 代理中间件间接访问")]),v._v("。")]),v._v(" "),t("p",[t("strong",[v._v("4. Codis 中间件实现")]),v._v("\n目前用的最多的集群方案， 基本和 twemproxy 一致的效果， 但"),t("code",[v._v("它支持在 节点数量改变情况下， 旧节点数据可恢复到新 hash 节点")]),v._v("。")]),v._v(" "),t("h3",{attrs:{id:"redis分区"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis分区"}},[v._v("#")]),v._v(" Redis分区")]),v._v(" "),t("blockquote",[t("p",[v._v("分区可以让 Redis 管理更大的内存， "),t("strong",[v._v("Redis 将可以使用所有机器的内存")]),v._v("。如果没有分区， 你最多只能使用一台机器的内存。分区使 Redis 的计算能力通过简单地增加计算机得到成倍提升,"),t("strong",[v._v("Redis 的网络带宽也会随着计算机和网卡的增加而成倍增长")]),v._v("。")])]),v._v(" "),t("h4",{attrs:{id:"缺点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#缺点"}},[v._v("#")]),v._v(" 缺点")]),v._v(" "),t("p",[t("strong",[v._v("涉及多个 key 的操作通常不会被支持")]),v._v("。例如你不能对两个集合求交集， 因为他们可能被存储到不同的 Redis 实例（实际上这种情况也有办法， 但是不能直接使用交集指令）。")]),v._v(" "),t("p",[v._v("同时操作多个 key,则不能使用 Redis 事务.分区使用的粒度是key，不能使用一个非常长的排序key存储一个数据集;")]),v._v(" "),t("p",[t("strong",[v._v("当使用分区的时候， 数据处理会非常复杂")]),v._v("。 例如为了备份你必须从不同的 Redis 实例和主机同时收集 RDB / AOF 文件。")]),v._v(" "),t("p",[v._v("**分区时动态扩容或缩容可能非常复杂。**Redis 集群在运行时增加或者删除 Redis 节点， 能做到最大程度对用户透明地数据再平衡，但其他一些客户端分区或者代理分区方法则不支持这种特性。然而， "),t("em",[t("strong",[v._v("有一种预分片的技术也可以较好的解决这个问题")])]),v._v("。")]),v._v(" "),t("hr"),v._v(" "),t("h3",{attrs:{id:"慢查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#慢查询"}},[v._v("#")]),v._v(" 慢查询")]),v._v(" "),t("h4",{attrs:{id:"redis-慢查询及配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis-慢查询及配置"}},[v._v("#")]),v._v(" Redis 慢查询及配置")]),v._v(" "),t("p",[v._v("所谓慢查询就是指，系统执行命令之后，计算统计每条指令执行的时间，"),t("code",[v._v("如果执行时间超过设置的阈值，就说明该命令为慢指令。")])]),v._v(" "),t("p",[v._v("Redis 慢查询配置参数为：")]),v._v(" "),t("ol",[t("li",[v._v("**slowlog-log-slower-than：**设置慢查询定义阈值，超过这个阈值就是慢查询。"),t("code",[v._v("单位为微秒，默认为 10000")]),v._v("。")]),v._v(" "),t("li",[t("strong",[v._v("slowlog-max-len：")]),t("code",[v._v("慢查询的日志列表的最大长度")]),v._v("，当慢查询日志列表处于最大长度的时候，最早插入的一个命令将从列表中移除。")])]),v._v(" "),t("h4",{attrs:{id:"慢查询修复经验"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#慢查询修复经验"}},[v._v("#")]),v._v(" 慢查询修复经验")]),v._v(" "),t("ol",[t("li",[v._v("将一些效率比较低或者算法复杂度比较高的命令，"),t("code",[v._v("禁用或者替换为效率较高的指令")]),v._v("。 例如禁用：sort、keys 命令")]),v._v(" "),t("li",[t("code",[v._v("拆分大对象数据")]),v._v("，防止一次命令操作过多的数据")])]),v._v(" "),t("hr"),v._v(" "),t("h3",{attrs:{id:"redis优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis优化"}},[v._v("#")]),v._v(" Redis优化")]),v._v(" "),t("h4",{attrs:{id:"优化-redis-服务的性能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#优化-redis-服务的性能"}},[v._v("#")]),v._v(" 优化 Redis 服务的性能")]),v._v(" "),t("ol",[t("li",[t("code",[v._v("Master 节点禁止持久化工作")])]),v._v(" "),t("li",[v._v("持久化策略要有正确的选择，"),t("code",[v._v("关键数据可以采用 slave 节点 AOF 备份")])]),v._v(" "),t("li",[v._v("主从节点部署"),t("code",[v._v("在同一个局域网内")]),v._v("，保证复制速度与稳定性")]),v._v(" "),t("li",[v._v("设置或者增加从库需要考虑主库现有的压力")]),v._v(" "),t("li",[v._v("主从复制一定要单向结构，避免使用图状结构")])]),v._v(" "),t("h4",{attrs:{id:"内存消耗分类及内存统计命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内存消耗分类及内存统计命令"}},[v._v("#")]),v._v(" 内存消耗分类及内存统计命令")]),v._v(" "),t("p",[v._v("Redis的内存消耗分为：")]),v._v(" "),t("ol",[t("li",[v._v("**对象内存：**这是"),t("code",[v._v("占用最大的一块，存储用户的所有数据")]),v._v("。可以理解为：所有 key 的大小 + 所有 value 的大小")]),v._v(" "),t("li",[v._v("**缓冲内存：**客户端缓冲、复制积压缓冲、AOF 缓冲")]),v._v(" "),t("li",[v._v("**内存碎片：**更新操作、过期数据都可能造成内存碎片")])]),v._v(" "),t("h4",{attrs:{id:"内存管理方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内存管理方式"}},[v._v("#")]),v._v(" 内存管理方式")]),v._v(" "),t("p",[v._v("Redis 内存管理方式主要方向上有两个：")]),v._v(" "),t("ol",[t("li",[t("strong",[v._v("控制内存上限")]),v._v("; Maxmemory 参数"),t("code",[v._v("可以限制最大可用内存")])]),v._v(" "),t("li",[t("strong",[v._v("优化回收策略，进行内存回收")])])]),v._v(" "),t("h4",{attrs:{id:"redis-报内存不足怎么处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis-报内存不足怎么处理"}},[v._v("#")]),v._v(" Redis 报内存不足怎么处理")]),v._v(" "),t("ol",[t("li",[v._v("修改配置文件，"),t("code",[v._v("增加 Redis 的内存空间 maxmemory")])]),v._v(" "),t("li",[t("code",[v._v("设置缓存淘汰策略")]),v._v("， 具体的淘汰策略;")]),v._v(" "),t("li",[v._v("使用 "),t("code",[v._v("Redis 集群模式来存储")])])]),v._v(" "),t("h4",{attrs:{id:"内存优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内存优化"}},[v._v("#")]),v._v(" 内存优化")]),v._v(" "),t("ul",[t("li",[v._v("Redis 的所有数据都进行 "),t("strong",[v._v("redisObject 来封装")])]),v._v(" "),t("li",[v._v("缩减键、值对象的长度，简化键名，提高内存使用效率")]),v._v(" "),t("li",[t("code",[v._v("尽量使用 hash 数据结构，减少 key 的数量")])]),v._v(" "),t("li",[t("code",[v._v("共享对象池，并设置空间极限值")])])]),v._v(" "),t("h4",{attrs:{id:"几个可能导致-redis-阻塞的原因"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#几个可能导致-redis-阻塞的原因"}},[v._v("#")]),v._v(" 几个可能导致 Redis 阻塞的原因")]),v._v(" "),t("p",[t("strong",[v._v("内部原因：")])]),v._v(" "),t("ol",[t("li",[v._v("Redis 的 API 或者指令数据结构使用不合理")]),v._v(" "),t("li",[v._v("Redis 主机 CPU 负载过高，导致系统崩溃")]),v._v(" "),t("li",[v._v("持久化工作资源占用过多")])]),v._v(" "),t("p",[t("strong",[v._v("外部原因：")])]),v._v(" "),t("ol",[t("li",[v._v("CPU 竞争")]),v._v(" "),t("li",[v._v("内存交换")]),v._v(" "),t("li",[v._v("网络问题")])]),v._v(" "),t("h4",{attrs:{id:"怎么去发现-redis-阻塞异常情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#怎么去发现-redis-阻塞异常情况"}},[v._v("#")]),v._v(" 怎么去发现 Redis 阻塞异常情况")]),v._v(" "),t("p",[t("strong",[v._v("1. 通过应用服务监控发现")])]),v._v(" "),t("p",[v._v("当 Redis 阻塞的时候，线上应用服务应该会感知发现。比如说发现 Redis 链接超时等。"),t("code",[v._v("这种就需要应用服务增加对于异常的统计，并针对 Redis 相关的异常，进行报警。")])]),v._v(" "),t("p",[t("strong",[v._v("2. 通过 Redis 自身监控系统")])]),v._v(" "),t("p",[v._v("借助 Redis 监控系统发现阻塞问题，当监控系统发现各个监控指标存在异常的时候，发送报警。 指标有：CPU/内存/磁盘等， 慢查询，命令耗时增加等。")]),v._v(" "),t("hr"),v._v(" "),t("h3",{attrs:{id:"问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[v._v("#")]),v._v(" 问题")]),v._v(" "),t("h4",{attrs:{id:"redis-集群会有写操作丢失吗-为什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis-集群会有写操作丢失吗-为什么"}},[v._v("#")]),v._v(" Redis 集群会有写操作丢失吗？为什么？")]),v._v(" "),t("p",[v._v("Redis 并不能保证数据的强一致性，这意味这"),t("code",[v._v("在实际中集群在特定的条件下可能会丢失写操作")]),v._v("。")]),v._v(" "),t("h4",{attrs:{id:"什么是-bigkey-有什么影响"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是-bigkey-有什么影响"}},[v._v("#")]),v._v(" 什么是 bigkey？ 有什么影响？")]),v._v(" "),t("p",[v._v("bigkey 是指"),t("code",[v._v("存储 value 占用内存空间非常大的 key")]),v._v("。例如一个 String 类型的 value 占用了 100MB 空间。")]),v._v(" "),t("p",[t("strong",[v._v("redis-cli-bigkeys 命令可以统计 bigkey 的分布")]),v._v("。")]),v._v(" "),t("p",[v._v("生产环境下执行 "),t("code",[v._v("debug object key")]),v._v(" 查看 serializedlength 属性，"),t("code",[v._v("表示 key 对应的 value 序列化之后的字节数")]),v._v("。")]),v._v(" "),t("p",[v._v("bigkey 的影响主要体现在：")]),v._v(" "),t("ol",[t("li",[v._v("**造成内存空间不平衡：**如果 bigkey 存储量比较大，同一个 key 在同一个节点或者服务器中存储，造成一定的影响")]),v._v(" "),t("li",[v._v("**超时阻塞：**由于占用空间比较大，那么操作起来效率肯定比较低，也就表示出现阻塞可能性增加")]),v._v(" "),t("li",[v._v("**网络阻塞：**获取 bigkey 的时候，自然传输的数据量比较大，导致宽带的压力。")])]),v._v(" "),t("h4",{attrs:{id:"为什么redis集群有16384个槽"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么redis集群有16384个槽"}},[v._v("#")]),v._v(" 为什么Redis集群有16384个槽?")]),v._v(" "),t("p",[v._v("(1)"),t("strong",[v._v("如果槽位为65536，发送心跳信息的消息头达8k，发送的心跳包过于庞大。")])]),v._v(" "),t("p",[v._v("如上所述，在消息头中，最占空间的是"),t("code",[v._v("myslots[CLUSTER_SLOTS/8]")]),v._v("。当槽位为65536时，这块的大小是: "),t("code",[v._v("65536÷8÷1024=8kb")]),v._v(" 因为每秒钟，redis节点需要发送一定数量的ping消息作为心跳包，如果槽位为65536，这个ping消息的消息头太大了，浪费带宽。")]),v._v(" "),t("p",[v._v("(2)"),t("strong",[v._v("redis的集群主节点数量基本不可能超过1000个")]),v._v("。")]),v._v(" "),t("p",[v._v("如上所述，集群节点越多，心跳包的消息体内携带的数据越多。如果节点过1000个，也会导致网络拥堵。因此redis作者，不建议redis cluster节点数量超过1000个。那么，对于节点数在1000以内的redis cluster集群，16384个槽位够用了。没有必要拓展到65536个。")]),v._v(" "),t("p",[v._v("(3)"),t("strong",[v._v("槽位越小，节点少的情况下，压缩比高")])]),v._v(" "),t("p",[v._v("Redis主节点的配置信息中，它所负责的哈希槽是通过一张bitmap的形式来保存的，在传输过程中，会对bitmap进行压缩，但是如果bitmap的填充率slots / N很高的话(N表示节点数)，bitmap的压缩率就很低。如果节点数很少，而哈希槽数量很多的话，bitmap的压缩率就很低。")])])}),[],!1,null,null,null);e.default=a.exports}}]);