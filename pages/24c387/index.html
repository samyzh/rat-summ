<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>npm常用命令操作 | 写作认知体系</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/rat-summ/img/favicon.ico">
    <link rel="manifest" href="/rat-summ/manifest.json">
    <script charset="utf-8" src="/rat-summ/js/readmore.js"></script>
    <meta name="description" content="- 在 package.json 文件里面提现出来的区别就是，使用 --save-dev 安装的 插件，被写入到 devDependencies 对象里面去，而使用 --save 安装的插件，责被写入到 dependencies 对象里面去。
> - devDependencies  里面的插件只用于开发环境，不用于生产环境，而 dependencies  是需要发布到生产环境的。">
    <meta name="image" content="https://my.samyz.cn/_image/02.npm相关总结/16b96f2cad927582.png">
    <meta name="twitter:title" content="npm常用命令操作">
    <meta name="twitter:description" content="- 在 package.json 文件里面提现出来的区别就是，使用 --save-dev 安装的 插件，被写入到 devDependencies 对象里面去，而使用 --save 安装的插件，责被写入到 dependencies 对象里面去。
> - devDependencies  里面的插件只用于开发环境，不用于生产环境，而 dependencies  是需要发布到生产环境的。">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://my.samyz.cn/_image/02.npm相关总结/16b96f2cad927582.png">
    <meta name="twitter:url" content="https://my.samyz.cn/%E3%80%8A%E6%8A%80%E8%83%BD%E8%AE%B0%E5%BD%95%E3%80%8B/03.node/01.%E5%9F%BA%E7%A1%80/02.npm%E7%9B%B8%E5%85%B3%E6%80%BB%E7%BB%93.html">
    <meta property="og:type" content="article">
    <meta property="og:title" content="npm常用命令操作">
    <meta property="og:description" content="- 在 package.json 文件里面提现出来的区别就是，使用 --save-dev 安装的 插件，被写入到 devDependencies 对象里面去，而使用 --save 安装的插件，责被写入到 dependencies 对象里面去。
> - devDependencies  里面的插件只用于开发环境，不用于生产环境，而 dependencies  是需要发布到生产环境的。">
    <meta property="og:image" content="https://my.samyz.cn/_image/02.npm相关总结/16b96f2cad927582.png">
    <meta property="og:url" content="https://my.samyz.cn/%E3%80%8A%E6%8A%80%E8%83%BD%E8%AE%B0%E5%BD%95%E3%80%8B/03.node/01.%E5%9F%BA%E7%A1%80/02.npm%E7%9B%B8%E5%85%B3%E6%80%BB%E7%BB%93.html">
    <meta property="og:site_name" content="samyzh">
    <meta property="article:published_time" content="2020-08-24T10:03:41.000Z">
    <meta property="article:tag" content="null">
    <meta itemprop="name" content="npm常用命令操作">
    <meta itemprop="description" content="- 在 package.json 文件里面提现出来的区别就是，使用 --save-dev 安装的 插件，被写入到 devDependencies 对象里面去，而使用 --save 安装的插件，责被写入到 dependencies 对象里面去。
> - devDependencies  里面的插件只用于开发环境，不用于生产环境，而 dependencies  是需要发布到生产环境的。">
    <meta itemprop="image" content="https://my.samyz.cn/_image/02.npm相关总结/16b96f2cad927582.png">
    <meta name="keywords" content="vuepress,theme,doc">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/rat-summ/assets/css/0.styles.b7fb6ee3.css" as="style"><link rel="preload" href="/rat-summ/assets/js/app.12c8e251.js" as="script"><link rel="preload" href="/rat-summ/assets/js/3.9ee9750d.js" as="script"><link rel="preload" href="/rat-summ/assets/js/134.fad0beeb.js" as="script"><link rel="preload" href="/rat-summ/assets/js/126.5b6d9993.js" as="script"><link rel="prefetch" href="/rat-summ/assets/js/10.80323458.js"><link rel="prefetch" href="/rat-summ/assets/js/100.63ac2838.js"><link rel="prefetch" href="/rat-summ/assets/js/101.f09c9fa8.js"><link rel="prefetch" href="/rat-summ/assets/js/102.e02db0d7.js"><link rel="prefetch" href="/rat-summ/assets/js/103.51677b36.js"><link rel="prefetch" href="/rat-summ/assets/js/104.61a1cf5b.js"><link rel="prefetch" href="/rat-summ/assets/js/105.70098b35.js"><link rel="prefetch" href="/rat-summ/assets/js/106.6ae75c51.js"><link rel="prefetch" href="/rat-summ/assets/js/107.d489a3d5.js"><link rel="prefetch" href="/rat-summ/assets/js/108.8e8c89ba.js"><link rel="prefetch" href="/rat-summ/assets/js/109.882f5f95.js"><link rel="prefetch" href="/rat-summ/assets/js/11.d181b5e4.js"><link rel="prefetch" href="/rat-summ/assets/js/110.9d564d94.js"><link rel="prefetch" href="/rat-summ/assets/js/111.478420b6.js"><link rel="prefetch" href="/rat-summ/assets/js/112.6c4c063d.js"><link rel="prefetch" href="/rat-summ/assets/js/113.3315b958.js"><link rel="prefetch" href="/rat-summ/assets/js/114.12c71440.js"><link rel="prefetch" href="/rat-summ/assets/js/115.ae4f07da.js"><link rel="prefetch" href="/rat-summ/assets/js/116.43f95817.js"><link rel="prefetch" href="/rat-summ/assets/js/117.ed8bfc6d.js"><link rel="prefetch" href="/rat-summ/assets/js/118.64e4c02c.js"><link rel="prefetch" href="/rat-summ/assets/js/119.b875aab9.js"><link rel="prefetch" href="/rat-summ/assets/js/12.0e10da37.js"><link rel="prefetch" href="/rat-summ/assets/js/120.bd5786bb.js"><link rel="prefetch" href="/rat-summ/assets/js/121.86519d2a.js"><link rel="prefetch" href="/rat-summ/assets/js/122.ceba69a1.js"><link rel="prefetch" href="/rat-summ/assets/js/123.daacf7b1.js"><link rel="prefetch" href="/rat-summ/assets/js/124.343ee32a.js"><link rel="prefetch" href="/rat-summ/assets/js/125.9bcd4dbe.js"><link rel="prefetch" href="/rat-summ/assets/js/127.83f78f6b.js"><link rel="prefetch" href="/rat-summ/assets/js/128.d24cd969.js"><link rel="prefetch" href="/rat-summ/assets/js/129.1f27d5da.js"><link rel="prefetch" href="/rat-summ/assets/js/13.464088c6.js"><link rel="prefetch" href="/rat-summ/assets/js/130.d8eb4273.js"><link rel="prefetch" href="/rat-summ/assets/js/131.8781abf8.js"><link rel="prefetch" href="/rat-summ/assets/js/132.6498f3c3.js"><link rel="prefetch" href="/rat-summ/assets/js/133.57a6dd2f.js"><link rel="prefetch" href="/rat-summ/assets/js/135.77d5837d.js"><link rel="prefetch" href="/rat-summ/assets/js/136.f276fa7c.js"><link rel="prefetch" href="/rat-summ/assets/js/137.26c2d25c.js"><link rel="prefetch" href="/rat-summ/assets/js/138.7e4b3e8b.js"><link rel="prefetch" href="/rat-summ/assets/js/139.5b8ba084.js"><link rel="prefetch" href="/rat-summ/assets/js/14.8dbffc81.js"><link rel="prefetch" href="/rat-summ/assets/js/140.cebddf00.js"><link rel="prefetch" href="/rat-summ/assets/js/141.93995db1.js"><link rel="prefetch" href="/rat-summ/assets/js/142.ae5cbf85.js"><link rel="prefetch" href="/rat-summ/assets/js/143.dac237e2.js"><link rel="prefetch" href="/rat-summ/assets/js/144.fed101d1.js"><link rel="prefetch" href="/rat-summ/assets/js/145.df2f2e49.js"><link rel="prefetch" href="/rat-summ/assets/js/146.5feac5c1.js"><link rel="prefetch" href="/rat-summ/assets/js/147.0389a873.js"><link rel="prefetch" href="/rat-summ/assets/js/148.d3e8a026.js"><link rel="prefetch" href="/rat-summ/assets/js/149.7efffb81.js"><link rel="prefetch" href="/rat-summ/assets/js/15.8ec7b29e.js"><link rel="prefetch" href="/rat-summ/assets/js/150.fd38d672.js"><link rel="prefetch" href="/rat-summ/assets/js/151.afe3a15d.js"><link rel="prefetch" href="/rat-summ/assets/js/152.9412368d.js"><link rel="prefetch" href="/rat-summ/assets/js/153.7d3adbef.js"><link rel="prefetch" href="/rat-summ/assets/js/154.e3448ffd.js"><link rel="prefetch" href="/rat-summ/assets/js/155.0f81c9f4.js"><link rel="prefetch" href="/rat-summ/assets/js/156.c7bd68bf.js"><link rel="prefetch" href="/rat-summ/assets/js/157.d4cf6362.js"><link rel="prefetch" href="/rat-summ/assets/js/158.9d23effb.js"><link rel="prefetch" href="/rat-summ/assets/js/159.03c2fc1f.js"><link rel="prefetch" href="/rat-summ/assets/js/16.d97cc4b2.js"><link rel="prefetch" href="/rat-summ/assets/js/160.a3697128.js"><link rel="prefetch" href="/rat-summ/assets/js/161.ceef51ed.js"><link rel="prefetch" href="/rat-summ/assets/js/162.5a415671.js"><link rel="prefetch" href="/rat-summ/assets/js/163.cb7f48e0.js"><link rel="prefetch" href="/rat-summ/assets/js/164.22d1a032.js"><link rel="prefetch" href="/rat-summ/assets/js/165.d36b06fe.js"><link rel="prefetch" href="/rat-summ/assets/js/166.5562cf71.js"><link rel="prefetch" href="/rat-summ/assets/js/167.f2f53141.js"><link rel="prefetch" href="/rat-summ/assets/js/168.d1764292.js"><link rel="prefetch" href="/rat-summ/assets/js/169.71c1b376.js"><link rel="prefetch" href="/rat-summ/assets/js/17.974c76b3.js"><link rel="prefetch" href="/rat-summ/assets/js/170.a1844c75.js"><link rel="prefetch" href="/rat-summ/assets/js/171.8bd11d6b.js"><link rel="prefetch" href="/rat-summ/assets/js/172.630472f7.js"><link rel="prefetch" href="/rat-summ/assets/js/173.9f780f02.js"><link rel="prefetch" href="/rat-summ/assets/js/174.3903a474.js"><link rel="prefetch" href="/rat-summ/assets/js/175.0b55890f.js"><link rel="prefetch" href="/rat-summ/assets/js/176.ebd9da76.js"><link rel="prefetch" href="/rat-summ/assets/js/177.f866bfcc.js"><link rel="prefetch" href="/rat-summ/assets/js/178.9dab120a.js"><link rel="prefetch" href="/rat-summ/assets/js/179.00f175ae.js"><link rel="prefetch" href="/rat-summ/assets/js/18.f1a4f7b2.js"><link rel="prefetch" href="/rat-summ/assets/js/180.fd45856c.js"><link rel="prefetch" href="/rat-summ/assets/js/181.1f9f05a8.js"><link rel="prefetch" href="/rat-summ/assets/js/182.dec7bce8.js"><link rel="prefetch" href="/rat-summ/assets/js/183.ee99d36c.js"><link rel="prefetch" href="/rat-summ/assets/js/184.873055ff.js"><link rel="prefetch" href="/rat-summ/assets/js/185.836db06c.js"><link rel="prefetch" href="/rat-summ/assets/js/186.ed2b2aa0.js"><link rel="prefetch" href="/rat-summ/assets/js/187.f55e617d.js"><link rel="prefetch" href="/rat-summ/assets/js/188.ffd267f6.js"><link rel="prefetch" href="/rat-summ/assets/js/189.0777dab4.js"><link rel="prefetch" href="/rat-summ/assets/js/19.edc5370a.js"><link rel="prefetch" href="/rat-summ/assets/js/190.37c6eb5c.js"><link rel="prefetch" href="/rat-summ/assets/js/191.e2148011.js"><link rel="prefetch" href="/rat-summ/assets/js/192.74b5350b.js"><link rel="prefetch" href="/rat-summ/assets/js/193.92639440.js"><link rel="prefetch" href="/rat-summ/assets/js/194.07a698d3.js"><link rel="prefetch" href="/rat-summ/assets/js/195.d9d05ac9.js"><link rel="prefetch" href="/rat-summ/assets/js/196.893ea875.js"><link rel="prefetch" href="/rat-summ/assets/js/197.faf002df.js"><link rel="prefetch" href="/rat-summ/assets/js/198.e9af0cc8.js"><link rel="prefetch" href="/rat-summ/assets/js/199.78a32edd.js"><link rel="prefetch" href="/rat-summ/assets/js/2.7c04700d.js"><link rel="prefetch" href="/rat-summ/assets/js/20.33603afe.js"><link rel="prefetch" href="/rat-summ/assets/js/200.d1cec810.js"><link rel="prefetch" href="/rat-summ/assets/js/201.de6d878d.js"><link rel="prefetch" href="/rat-summ/assets/js/202.cdb07eb9.js"><link rel="prefetch" href="/rat-summ/assets/js/203.f82a15e9.js"><link rel="prefetch" href="/rat-summ/assets/js/204.f9c43a60.js"><link rel="prefetch" href="/rat-summ/assets/js/205.ebfd1b03.js"><link rel="prefetch" href="/rat-summ/assets/js/206.9322b908.js"><link rel="prefetch" href="/rat-summ/assets/js/207.b611c8e4.js"><link rel="prefetch" href="/rat-summ/assets/js/208.b56c09a4.js"><link rel="prefetch" href="/rat-summ/assets/js/209.5fa250ae.js"><link rel="prefetch" href="/rat-summ/assets/js/21.e361060e.js"><link rel="prefetch" href="/rat-summ/assets/js/210.afb67c23.js"><link rel="prefetch" href="/rat-summ/assets/js/211.975d8a93.js"><link rel="prefetch" href="/rat-summ/assets/js/212.e6114672.js"><link rel="prefetch" href="/rat-summ/assets/js/213.dcc0418e.js"><link rel="prefetch" href="/rat-summ/assets/js/214.b34c4a78.js"><link rel="prefetch" href="/rat-summ/assets/js/215.46240575.js"><link rel="prefetch" href="/rat-summ/assets/js/216.4fcc46c0.js"><link rel="prefetch" href="/rat-summ/assets/js/217.a2791aae.js"><link rel="prefetch" href="/rat-summ/assets/js/218.4c256ceb.js"><link rel="prefetch" href="/rat-summ/assets/js/219.a943095e.js"><link rel="prefetch" href="/rat-summ/assets/js/22.483a320b.js"><link rel="prefetch" href="/rat-summ/assets/js/220.9fc9ad7e.js"><link rel="prefetch" href="/rat-summ/assets/js/221.cbc0e78d.js"><link rel="prefetch" href="/rat-summ/assets/js/222.191f7e78.js"><link rel="prefetch" href="/rat-summ/assets/js/223.2f2104da.js"><link rel="prefetch" href="/rat-summ/assets/js/224.a96291e3.js"><link rel="prefetch" href="/rat-summ/assets/js/225.5e7d4a2f.js"><link rel="prefetch" href="/rat-summ/assets/js/226.f2c52aeb.js"><link rel="prefetch" href="/rat-summ/assets/js/227.29ce8f1e.js"><link rel="prefetch" href="/rat-summ/assets/js/228.606fc221.js"><link rel="prefetch" href="/rat-summ/assets/js/229.35c0193b.js"><link rel="prefetch" href="/rat-summ/assets/js/23.ea56380f.js"><link rel="prefetch" href="/rat-summ/assets/js/230.c18c39ff.js"><link rel="prefetch" href="/rat-summ/assets/js/231.8ac9de68.js"><link rel="prefetch" href="/rat-summ/assets/js/232.a37a54cf.js"><link rel="prefetch" href="/rat-summ/assets/js/233.2d63ab61.js"><link rel="prefetch" href="/rat-summ/assets/js/234.bb2f44c1.js"><link rel="prefetch" href="/rat-summ/assets/js/235.6b07773d.js"><link rel="prefetch" href="/rat-summ/assets/js/236.d9377791.js"><link rel="prefetch" href="/rat-summ/assets/js/237.9cae90d9.js"><link rel="prefetch" href="/rat-summ/assets/js/238.fc5c2f17.js"><link rel="prefetch" href="/rat-summ/assets/js/239.b69acdbe.js"><link rel="prefetch" href="/rat-summ/assets/js/24.8165c81c.js"><link rel="prefetch" href="/rat-summ/assets/js/240.2998122f.js"><link rel="prefetch" href="/rat-summ/assets/js/241.dfd9d735.js"><link rel="prefetch" href="/rat-summ/assets/js/242.6d57d6b1.js"><link rel="prefetch" href="/rat-summ/assets/js/243.39bb5753.js"><link rel="prefetch" href="/rat-summ/assets/js/244.37f91d9e.js"><link rel="prefetch" href="/rat-summ/assets/js/245.710a3e10.js"><link rel="prefetch" href="/rat-summ/assets/js/246.680ed8ab.js"><link rel="prefetch" href="/rat-summ/assets/js/247.7ea05ed5.js"><link rel="prefetch" href="/rat-summ/assets/js/248.e76a424e.js"><link rel="prefetch" href="/rat-summ/assets/js/249.7c88f5bc.js"><link rel="prefetch" href="/rat-summ/assets/js/25.def02ca5.js"><link rel="prefetch" href="/rat-summ/assets/js/250.4569c567.js"><link rel="prefetch" href="/rat-summ/assets/js/251.878e4926.js"><link rel="prefetch" href="/rat-summ/assets/js/252.67d9ba84.js"><link rel="prefetch" href="/rat-summ/assets/js/253.82ca1732.js"><link rel="prefetch" href="/rat-summ/assets/js/254.27dbadc2.js"><link rel="prefetch" href="/rat-summ/assets/js/255.60f68a5f.js"><link rel="prefetch" href="/rat-summ/assets/js/256.b47e4d3f.js"><link rel="prefetch" href="/rat-summ/assets/js/257.0df59c99.js"><link rel="prefetch" href="/rat-summ/assets/js/258.130b0487.js"><link rel="prefetch" href="/rat-summ/assets/js/259.97887542.js"><link rel="prefetch" href="/rat-summ/assets/js/26.97b1d951.js"><link rel="prefetch" href="/rat-summ/assets/js/260.6dac92fb.js"><link rel="prefetch" href="/rat-summ/assets/js/261.af516821.js"><link rel="prefetch" href="/rat-summ/assets/js/262.ef9f9b6a.js"><link rel="prefetch" href="/rat-summ/assets/js/263.dcc5eb79.js"><link rel="prefetch" href="/rat-summ/assets/js/264.61ce928d.js"><link rel="prefetch" href="/rat-summ/assets/js/265.82cb28d2.js"><link rel="prefetch" href="/rat-summ/assets/js/266.9eb89497.js"><link rel="prefetch" href="/rat-summ/assets/js/267.99284b0c.js"><link rel="prefetch" href="/rat-summ/assets/js/268.82dfc492.js"><link rel="prefetch" href="/rat-summ/assets/js/269.6cac85a2.js"><link rel="prefetch" href="/rat-summ/assets/js/27.c1905c39.js"><link rel="prefetch" href="/rat-summ/assets/js/270.69da763d.js"><link rel="prefetch" href="/rat-summ/assets/js/271.bbbb2115.js"><link rel="prefetch" href="/rat-summ/assets/js/272.ff0f601d.js"><link rel="prefetch" href="/rat-summ/assets/js/273.0f3d1f43.js"><link rel="prefetch" href="/rat-summ/assets/js/274.de951754.js"><link rel="prefetch" href="/rat-summ/assets/js/275.36fcef7b.js"><link rel="prefetch" href="/rat-summ/assets/js/276.0f69e2d6.js"><link rel="prefetch" href="/rat-summ/assets/js/277.6116c28b.js"><link rel="prefetch" href="/rat-summ/assets/js/278.3ec4a543.js"><link rel="prefetch" href="/rat-summ/assets/js/279.79cacba3.js"><link rel="prefetch" href="/rat-summ/assets/js/28.29769ec1.js"><link rel="prefetch" href="/rat-summ/assets/js/280.67eae4c9.js"><link rel="prefetch" href="/rat-summ/assets/js/281.6454a6a5.js"><link rel="prefetch" href="/rat-summ/assets/js/282.de2ce91b.js"><link rel="prefetch" href="/rat-summ/assets/js/283.82e0f4ca.js"><link rel="prefetch" href="/rat-summ/assets/js/284.69abfc0e.js"><link rel="prefetch" href="/rat-summ/assets/js/285.558435fb.js"><link rel="prefetch" href="/rat-summ/assets/js/286.fa4f4e4a.js"><link rel="prefetch" href="/rat-summ/assets/js/287.8f22a85e.js"><link rel="prefetch" href="/rat-summ/assets/js/288.d36804d8.js"><link rel="prefetch" href="/rat-summ/assets/js/289.992bf452.js"><link rel="prefetch" href="/rat-summ/assets/js/29.bc17da71.js"><link rel="prefetch" href="/rat-summ/assets/js/290.d217e3d5.js"><link rel="prefetch" href="/rat-summ/assets/js/291.0108ca07.js"><link rel="prefetch" href="/rat-summ/assets/js/292.c1cf5376.js"><link rel="prefetch" href="/rat-summ/assets/js/293.55852ed3.js"><link rel="prefetch" href="/rat-summ/assets/js/294.709d66f6.js"><link rel="prefetch" href="/rat-summ/assets/js/295.e8eb94ac.js"><link rel="prefetch" href="/rat-summ/assets/js/296.ffbcc931.js"><link rel="prefetch" href="/rat-summ/assets/js/297.7048aea4.js"><link rel="prefetch" href="/rat-summ/assets/js/298.9cd565b1.js"><link rel="prefetch" href="/rat-summ/assets/js/299.8e2896d9.js"><link rel="prefetch" href="/rat-summ/assets/js/30.e0901edb.js"><link rel="prefetch" href="/rat-summ/assets/js/300.1ba977f6.js"><link rel="prefetch" href="/rat-summ/assets/js/301.4bd8028d.js"><link rel="prefetch" href="/rat-summ/assets/js/302.7e3656f6.js"><link rel="prefetch" href="/rat-summ/assets/js/303.5fa30d30.js"><link rel="prefetch" href="/rat-summ/assets/js/304.0bb8668c.js"><link rel="prefetch" href="/rat-summ/assets/js/305.61286ea3.js"><link rel="prefetch" href="/rat-summ/assets/js/306.6e1b897f.js"><link rel="prefetch" href="/rat-summ/assets/js/307.f11f9af6.js"><link rel="prefetch" href="/rat-summ/assets/js/308.83cfb59e.js"><link rel="prefetch" href="/rat-summ/assets/js/309.88606eb8.js"><link rel="prefetch" href="/rat-summ/assets/js/31.727deefc.js"><link rel="prefetch" href="/rat-summ/assets/js/310.ca3c4062.js"><link rel="prefetch" href="/rat-summ/assets/js/311.9c98aab5.js"><link rel="prefetch" href="/rat-summ/assets/js/312.f5d5917b.js"><link rel="prefetch" href="/rat-summ/assets/js/313.6a0d74b5.js"><link rel="prefetch" href="/rat-summ/assets/js/314.351731a0.js"><link rel="prefetch" href="/rat-summ/assets/js/315.1bceaee4.js"><link rel="prefetch" href="/rat-summ/assets/js/316.91d9bb5c.js"><link rel="prefetch" href="/rat-summ/assets/js/317.43a7c8e3.js"><link rel="prefetch" href="/rat-summ/assets/js/318.f91f4e5e.js"><link rel="prefetch" href="/rat-summ/assets/js/319.03048efe.js"><link rel="prefetch" href="/rat-summ/assets/js/32.be33afa2.js"><link rel="prefetch" href="/rat-summ/assets/js/320.6c4d6375.js"><link rel="prefetch" href="/rat-summ/assets/js/321.c0f4c466.js"><link rel="prefetch" href="/rat-summ/assets/js/322.40427a9f.js"><link rel="prefetch" href="/rat-summ/assets/js/323.8ed5a81e.js"><link rel="prefetch" href="/rat-summ/assets/js/324.8af7bf04.js"><link rel="prefetch" href="/rat-summ/assets/js/325.eb380a4f.js"><link rel="prefetch" href="/rat-summ/assets/js/326.6b704e5c.js"><link rel="prefetch" href="/rat-summ/assets/js/327.ee41c7c2.js"><link rel="prefetch" href="/rat-summ/assets/js/328.c50090e6.js"><link rel="prefetch" href="/rat-summ/assets/js/329.b7234454.js"><link rel="prefetch" href="/rat-summ/assets/js/33.a5387702.js"><link rel="prefetch" href="/rat-summ/assets/js/330.0b389f14.js"><link rel="prefetch" href="/rat-summ/assets/js/331.ebc829ce.js"><link rel="prefetch" href="/rat-summ/assets/js/332.3dbd0d43.js"><link rel="prefetch" href="/rat-summ/assets/js/333.2ad93411.js"><link rel="prefetch" href="/rat-summ/assets/js/334.19c4fca0.js"><link rel="prefetch" href="/rat-summ/assets/js/335.618d7f92.js"><link rel="prefetch" href="/rat-summ/assets/js/336.06b12de2.js"><link rel="prefetch" href="/rat-summ/assets/js/337.dfb91030.js"><link rel="prefetch" href="/rat-summ/assets/js/338.fbf6c528.js"><link rel="prefetch" href="/rat-summ/assets/js/339.081585fe.js"><link rel="prefetch" href="/rat-summ/assets/js/34.2aa94fce.js"><link rel="prefetch" href="/rat-summ/assets/js/340.392a0549.js"><link rel="prefetch" href="/rat-summ/assets/js/341.571be598.js"><link rel="prefetch" href="/rat-summ/assets/js/342.0c20e7dc.js"><link rel="prefetch" href="/rat-summ/assets/js/343.f087f4bc.js"><link rel="prefetch" href="/rat-summ/assets/js/344.432ae94b.js"><link rel="prefetch" href="/rat-summ/assets/js/345.5d1f52c2.js"><link rel="prefetch" href="/rat-summ/assets/js/346.29082c3e.js"><link rel="prefetch" href="/rat-summ/assets/js/347.5431d43a.js"><link rel="prefetch" href="/rat-summ/assets/js/348.70a115c6.js"><link rel="prefetch" href="/rat-summ/assets/js/349.110d3aea.js"><link rel="prefetch" href="/rat-summ/assets/js/35.3926e73e.js"><link rel="prefetch" href="/rat-summ/assets/js/350.4dd299b8.js"><link rel="prefetch" href="/rat-summ/assets/js/351.aa1cf3a7.js"><link rel="prefetch" href="/rat-summ/assets/js/352.f2c9aff8.js"><link rel="prefetch" href="/rat-summ/assets/js/353.bb0da04a.js"><link rel="prefetch" href="/rat-summ/assets/js/354.7b1fde0d.js"><link rel="prefetch" href="/rat-summ/assets/js/355.7c67d056.js"><link rel="prefetch" href="/rat-summ/assets/js/356.a2f3c163.js"><link rel="prefetch" href="/rat-summ/assets/js/357.4aa2a57f.js"><link rel="prefetch" href="/rat-summ/assets/js/358.7abdc16b.js"><link rel="prefetch" href="/rat-summ/assets/js/359.0acb9993.js"><link rel="prefetch" href="/rat-summ/assets/js/36.e9252af1.js"><link rel="prefetch" href="/rat-summ/assets/js/360.077f565b.js"><link rel="prefetch" href="/rat-summ/assets/js/361.7d044219.js"><link rel="prefetch" href="/rat-summ/assets/js/362.6d5271d3.js"><link rel="prefetch" href="/rat-summ/assets/js/363.52b56886.js"><link rel="prefetch" href="/rat-summ/assets/js/364.6f2d9945.js"><link rel="prefetch" href="/rat-summ/assets/js/365.25fd0aec.js"><link rel="prefetch" href="/rat-summ/assets/js/366.8697c537.js"><link rel="prefetch" href="/rat-summ/assets/js/367.ade10048.js"><link rel="prefetch" href="/rat-summ/assets/js/368.58690662.js"><link rel="prefetch" href="/rat-summ/assets/js/369.e37f17bc.js"><link rel="prefetch" href="/rat-summ/assets/js/37.40c6e32d.js"><link rel="prefetch" href="/rat-summ/assets/js/370.81c0f5c2.js"><link rel="prefetch" href="/rat-summ/assets/js/371.781d9032.js"><link rel="prefetch" href="/rat-summ/assets/js/372.2f75884d.js"><link rel="prefetch" href="/rat-summ/assets/js/373.83a4e2c0.js"><link rel="prefetch" href="/rat-summ/assets/js/374.c1c69154.js"><link rel="prefetch" href="/rat-summ/assets/js/375.4df7a40c.js"><link rel="prefetch" href="/rat-summ/assets/js/376.0feeb93c.js"><link rel="prefetch" href="/rat-summ/assets/js/377.561ca7da.js"><link rel="prefetch" href="/rat-summ/assets/js/378.3da43834.js"><link rel="prefetch" href="/rat-summ/assets/js/379.75c285a8.js"><link rel="prefetch" href="/rat-summ/assets/js/38.e48735ea.js"><link rel="prefetch" href="/rat-summ/assets/js/380.f94bd4a3.js"><link rel="prefetch" href="/rat-summ/assets/js/381.71953594.js"><link rel="prefetch" href="/rat-summ/assets/js/382.944a71d7.js"><link rel="prefetch" href="/rat-summ/assets/js/383.c6a18246.js"><link rel="prefetch" href="/rat-summ/assets/js/384.e089b47b.js"><link rel="prefetch" href="/rat-summ/assets/js/385.91742919.js"><link rel="prefetch" href="/rat-summ/assets/js/386.48e3b2e2.js"><link rel="prefetch" href="/rat-summ/assets/js/387.e29cd861.js"><link rel="prefetch" href="/rat-summ/assets/js/388.f70a74b4.js"><link rel="prefetch" href="/rat-summ/assets/js/389.104fdecf.js"><link rel="prefetch" href="/rat-summ/assets/js/39.825dffc2.js"><link rel="prefetch" href="/rat-summ/assets/js/390.6275cef1.js"><link rel="prefetch" href="/rat-summ/assets/js/391.8bb66679.js"><link rel="prefetch" href="/rat-summ/assets/js/392.3fe296d9.js"><link rel="prefetch" href="/rat-summ/assets/js/393.a4dc5585.js"><link rel="prefetch" href="/rat-summ/assets/js/394.d659930b.js"><link rel="prefetch" href="/rat-summ/assets/js/395.d2262aea.js"><link rel="prefetch" href="/rat-summ/assets/js/396.25b1e0de.js"><link rel="prefetch" href="/rat-summ/assets/js/397.41c6d90f.js"><link rel="prefetch" href="/rat-summ/assets/js/398.1023659d.js"><link rel="prefetch" href="/rat-summ/assets/js/399.6645efbd.js"><link rel="prefetch" href="/rat-summ/assets/js/4.5b220e8a.js"><link rel="prefetch" href="/rat-summ/assets/js/40.1f51dbcf.js"><link rel="prefetch" href="/rat-summ/assets/js/400.a979839c.js"><link rel="prefetch" href="/rat-summ/assets/js/401.3f1af38a.js"><link rel="prefetch" href="/rat-summ/assets/js/402.17ee8256.js"><link rel="prefetch" href="/rat-summ/assets/js/403.e5dd7606.js"><link rel="prefetch" href="/rat-summ/assets/js/404.b57e2cc6.js"><link rel="prefetch" href="/rat-summ/assets/js/405.2042fa73.js"><link rel="prefetch" href="/rat-summ/assets/js/406.e64bdb23.js"><link rel="prefetch" href="/rat-summ/assets/js/407.9a276c18.js"><link rel="prefetch" href="/rat-summ/assets/js/408.a528edd8.js"><link rel="prefetch" href="/rat-summ/assets/js/409.dba4cf75.js"><link rel="prefetch" href="/rat-summ/assets/js/41.58f3de48.js"><link rel="prefetch" href="/rat-summ/assets/js/410.d0b106c6.js"><link rel="prefetch" href="/rat-summ/assets/js/411.4b9dd0be.js"><link rel="prefetch" href="/rat-summ/assets/js/412.d2b4534c.js"><link rel="prefetch" href="/rat-summ/assets/js/413.13933934.js"><link rel="prefetch" href="/rat-summ/assets/js/414.f3aa79b3.js"><link rel="prefetch" href="/rat-summ/assets/js/415.7fb4f462.js"><link rel="prefetch" href="/rat-summ/assets/js/416.529de55d.js"><link rel="prefetch" href="/rat-summ/assets/js/417.4ca243c1.js"><link rel="prefetch" href="/rat-summ/assets/js/418.3c7e6391.js"><link rel="prefetch" href="/rat-summ/assets/js/419.821db849.js"><link rel="prefetch" href="/rat-summ/assets/js/42.1f57183a.js"><link rel="prefetch" href="/rat-summ/assets/js/420.4153e14c.js"><link rel="prefetch" href="/rat-summ/assets/js/421.94820f33.js"><link rel="prefetch" href="/rat-summ/assets/js/422.b85144cb.js"><link rel="prefetch" href="/rat-summ/assets/js/423.5702fec2.js"><link rel="prefetch" href="/rat-summ/assets/js/424.f3bb53f3.js"><link rel="prefetch" href="/rat-summ/assets/js/425.a09dac6c.js"><link rel="prefetch" href="/rat-summ/assets/js/426.5e7ea56d.js"><link rel="prefetch" href="/rat-summ/assets/js/427.dfe1e1f5.js"><link rel="prefetch" href="/rat-summ/assets/js/428.8829fe2e.js"><link rel="prefetch" href="/rat-summ/assets/js/429.206cbd26.js"><link rel="prefetch" href="/rat-summ/assets/js/43.f4ef7e7a.js"><link rel="prefetch" href="/rat-summ/assets/js/430.2e934b92.js"><link rel="prefetch" href="/rat-summ/assets/js/431.93b96b64.js"><link rel="prefetch" href="/rat-summ/assets/js/432.5742508e.js"><link rel="prefetch" href="/rat-summ/assets/js/433.602400bb.js"><link rel="prefetch" href="/rat-summ/assets/js/434.3c068b74.js"><link rel="prefetch" href="/rat-summ/assets/js/435.bd23ba01.js"><link rel="prefetch" href="/rat-summ/assets/js/436.f276df3f.js"><link rel="prefetch" href="/rat-summ/assets/js/437.e3136874.js"><link rel="prefetch" href="/rat-summ/assets/js/438.365bddbf.js"><link rel="prefetch" href="/rat-summ/assets/js/439.8610d147.js"><link rel="prefetch" href="/rat-summ/assets/js/44.95428610.js"><link rel="prefetch" href="/rat-summ/assets/js/440.d470a96c.js"><link rel="prefetch" href="/rat-summ/assets/js/441.51e68998.js"><link rel="prefetch" href="/rat-summ/assets/js/442.21942f8f.js"><link rel="prefetch" href="/rat-summ/assets/js/443.d78b7124.js"><link rel="prefetch" href="/rat-summ/assets/js/444.7ab2a2ce.js"><link rel="prefetch" href="/rat-summ/assets/js/445.734e537c.js"><link rel="prefetch" href="/rat-summ/assets/js/446.b6a46bba.js"><link rel="prefetch" href="/rat-summ/assets/js/447.0e610df1.js"><link rel="prefetch" href="/rat-summ/assets/js/448.c431addf.js"><link rel="prefetch" href="/rat-summ/assets/js/449.fd3f57c4.js"><link rel="prefetch" href="/rat-summ/assets/js/45.2f49bb0c.js"><link rel="prefetch" href="/rat-summ/assets/js/450.488cf3df.js"><link rel="prefetch" href="/rat-summ/assets/js/451.1812acf0.js"><link rel="prefetch" href="/rat-summ/assets/js/452.b9e98643.js"><link rel="prefetch" href="/rat-summ/assets/js/453.3a90612b.js"><link rel="prefetch" href="/rat-summ/assets/js/454.5aaa7797.js"><link rel="prefetch" href="/rat-summ/assets/js/455.0f8b8d13.js"><link rel="prefetch" href="/rat-summ/assets/js/456.6973979f.js"><link rel="prefetch" href="/rat-summ/assets/js/457.3cb9217b.js"><link rel="prefetch" href="/rat-summ/assets/js/458.79141a21.js"><link rel="prefetch" href="/rat-summ/assets/js/459.abcc974c.js"><link rel="prefetch" href="/rat-summ/assets/js/46.8c8bf5f1.js"><link rel="prefetch" href="/rat-summ/assets/js/460.b38c1ada.js"><link rel="prefetch" href="/rat-summ/assets/js/461.62beb08c.js"><link rel="prefetch" href="/rat-summ/assets/js/462.64f5f4e1.js"><link rel="prefetch" href="/rat-summ/assets/js/463.83081d34.js"><link rel="prefetch" href="/rat-summ/assets/js/464.d610e5ce.js"><link rel="prefetch" href="/rat-summ/assets/js/465.193b3b89.js"><link rel="prefetch" href="/rat-summ/assets/js/466.419fe212.js"><link rel="prefetch" href="/rat-summ/assets/js/467.910dc67d.js"><link rel="prefetch" href="/rat-summ/assets/js/468.b93c4e70.js"><link rel="prefetch" href="/rat-summ/assets/js/469.a4bc872a.js"><link rel="prefetch" href="/rat-summ/assets/js/47.11f3cc99.js"><link rel="prefetch" href="/rat-summ/assets/js/470.477c2897.js"><link rel="prefetch" href="/rat-summ/assets/js/471.abfff3cd.js"><link rel="prefetch" href="/rat-summ/assets/js/472.b8aea607.js"><link rel="prefetch" href="/rat-summ/assets/js/473.f6d4bd02.js"><link rel="prefetch" href="/rat-summ/assets/js/474.9449d59a.js"><link rel="prefetch" href="/rat-summ/assets/js/475.8a4bbfb6.js"><link rel="prefetch" href="/rat-summ/assets/js/476.0269ac30.js"><link rel="prefetch" href="/rat-summ/assets/js/477.3bcc01f0.js"><link rel="prefetch" href="/rat-summ/assets/js/478.c307cee9.js"><link rel="prefetch" href="/rat-summ/assets/js/479.c70c4a8e.js"><link rel="prefetch" href="/rat-summ/assets/js/48.05e97651.js"><link rel="prefetch" href="/rat-summ/assets/js/480.ac7405da.js"><link rel="prefetch" href="/rat-summ/assets/js/481.04261af4.js"><link rel="prefetch" href="/rat-summ/assets/js/482.7db8d1e2.js"><link rel="prefetch" href="/rat-summ/assets/js/483.ba568078.js"><link rel="prefetch" href="/rat-summ/assets/js/484.48a25747.js"><link rel="prefetch" href="/rat-summ/assets/js/485.d26a0a83.js"><link rel="prefetch" href="/rat-summ/assets/js/486.a50b2468.js"><link rel="prefetch" href="/rat-summ/assets/js/487.89c199d5.js"><link rel="prefetch" href="/rat-summ/assets/js/488.11ffda69.js"><link rel="prefetch" href="/rat-summ/assets/js/489.f410761e.js"><link rel="prefetch" href="/rat-summ/assets/js/49.4f8217ba.js"><link rel="prefetch" href="/rat-summ/assets/js/490.1d754006.js"><link rel="prefetch" href="/rat-summ/assets/js/491.80c5139a.js"><link rel="prefetch" href="/rat-summ/assets/js/492.d29884ed.js"><link rel="prefetch" href="/rat-summ/assets/js/493.605b5b69.js"><link rel="prefetch" href="/rat-summ/assets/js/494.cf11b24a.js"><link rel="prefetch" href="/rat-summ/assets/js/495.4fed3a56.js"><link rel="prefetch" href="/rat-summ/assets/js/496.2f9b5653.js"><link rel="prefetch" href="/rat-summ/assets/js/497.bdf700cb.js"><link rel="prefetch" href="/rat-summ/assets/js/498.c37bf4a0.js"><link rel="prefetch" href="/rat-summ/assets/js/499.273512ce.js"><link rel="prefetch" href="/rat-summ/assets/js/5.eb8a0105.js"><link rel="prefetch" href="/rat-summ/assets/js/50.8b43ef9b.js"><link rel="prefetch" href="/rat-summ/assets/js/500.41ab926a.js"><link rel="prefetch" href="/rat-summ/assets/js/501.b7e68b2b.js"><link rel="prefetch" href="/rat-summ/assets/js/502.c21b2ced.js"><link rel="prefetch" href="/rat-summ/assets/js/503.57cfc1cb.js"><link rel="prefetch" href="/rat-summ/assets/js/504.3737dd74.js"><link rel="prefetch" href="/rat-summ/assets/js/505.1a6e2c5c.js"><link rel="prefetch" href="/rat-summ/assets/js/506.bec8c785.js"><link rel="prefetch" href="/rat-summ/assets/js/507.9850a1ea.js"><link rel="prefetch" href="/rat-summ/assets/js/508.345fb54a.js"><link rel="prefetch" href="/rat-summ/assets/js/509.12b14128.js"><link rel="prefetch" href="/rat-summ/assets/js/51.6837cba4.js"><link rel="prefetch" href="/rat-summ/assets/js/510.0595d708.js"><link rel="prefetch" href="/rat-summ/assets/js/511.9ebeed80.js"><link rel="prefetch" href="/rat-summ/assets/js/512.a4b26565.js"><link rel="prefetch" href="/rat-summ/assets/js/513.dae12896.js"><link rel="prefetch" href="/rat-summ/assets/js/514.98452f74.js"><link rel="prefetch" href="/rat-summ/assets/js/515.79ac850c.js"><link rel="prefetch" href="/rat-summ/assets/js/516.2b46c6b5.js"><link rel="prefetch" href="/rat-summ/assets/js/517.21cae069.js"><link rel="prefetch" href="/rat-summ/assets/js/518.618ba011.js"><link rel="prefetch" href="/rat-summ/assets/js/519.d295be6f.js"><link rel="prefetch" href="/rat-summ/assets/js/52.6a3d1870.js"><link rel="prefetch" href="/rat-summ/assets/js/520.77322b7a.js"><link rel="prefetch" href="/rat-summ/assets/js/521.ab51a9d7.js"><link rel="prefetch" href="/rat-summ/assets/js/522.95569e5d.js"><link rel="prefetch" href="/rat-summ/assets/js/523.19e88a87.js"><link rel="prefetch" href="/rat-summ/assets/js/524.a9f13ff4.js"><link rel="prefetch" href="/rat-summ/assets/js/525.55775443.js"><link rel="prefetch" href="/rat-summ/assets/js/526.796f403d.js"><link rel="prefetch" href="/rat-summ/assets/js/527.8777ce49.js"><link rel="prefetch" href="/rat-summ/assets/js/528.fdc61407.js"><link rel="prefetch" href="/rat-summ/assets/js/529.410e276b.js"><link rel="prefetch" href="/rat-summ/assets/js/53.73686482.js"><link rel="prefetch" href="/rat-summ/assets/js/530.f4fc62f0.js"><link rel="prefetch" href="/rat-summ/assets/js/531.58338ca6.js"><link rel="prefetch" href="/rat-summ/assets/js/54.b4f9eb75.js"><link rel="prefetch" href="/rat-summ/assets/js/55.df849147.js"><link rel="prefetch" href="/rat-summ/assets/js/56.96d53eac.js"><link rel="prefetch" href="/rat-summ/assets/js/57.f19e0377.js"><link rel="prefetch" href="/rat-summ/assets/js/58.46887073.js"><link rel="prefetch" href="/rat-summ/assets/js/59.3f235b14.js"><link rel="prefetch" href="/rat-summ/assets/js/6.0306f3a7.js"><link rel="prefetch" href="/rat-summ/assets/js/60.f00dba60.js"><link rel="prefetch" href="/rat-summ/assets/js/61.110e9966.js"><link rel="prefetch" href="/rat-summ/assets/js/62.77adea85.js"><link rel="prefetch" href="/rat-summ/assets/js/63.84621a5a.js"><link rel="prefetch" href="/rat-summ/assets/js/64.c5e5007f.js"><link rel="prefetch" href="/rat-summ/assets/js/65.7932d639.js"><link rel="prefetch" href="/rat-summ/assets/js/66.f7b98c28.js"><link rel="prefetch" href="/rat-summ/assets/js/67.f73aa713.js"><link rel="prefetch" href="/rat-summ/assets/js/68.cd494063.js"><link rel="prefetch" href="/rat-summ/assets/js/69.b044b142.js"><link rel="prefetch" href="/rat-summ/assets/js/7.3eb2e5f4.js"><link rel="prefetch" href="/rat-summ/assets/js/70.fde8898d.js"><link rel="prefetch" href="/rat-summ/assets/js/71.9f0111ee.js"><link rel="prefetch" href="/rat-summ/assets/js/72.a980e88b.js"><link rel="prefetch" href="/rat-summ/assets/js/73.f83a1246.js"><link rel="prefetch" href="/rat-summ/assets/js/74.466aeb6d.js"><link rel="prefetch" href="/rat-summ/assets/js/75.8267a967.js"><link rel="prefetch" href="/rat-summ/assets/js/76.d627aaef.js"><link rel="prefetch" href="/rat-summ/assets/js/77.7f0d7168.js"><link rel="prefetch" href="/rat-summ/assets/js/78.1793ccbe.js"><link rel="prefetch" href="/rat-summ/assets/js/79.482c515e.js"><link rel="prefetch" href="/rat-summ/assets/js/8.79d1c3bb.js"><link rel="prefetch" href="/rat-summ/assets/js/80.3915b314.js"><link rel="prefetch" href="/rat-summ/assets/js/81.b8ec0fa5.js"><link rel="prefetch" href="/rat-summ/assets/js/82.dc9885a7.js"><link rel="prefetch" href="/rat-summ/assets/js/83.2d36b6a8.js"><link rel="prefetch" href="/rat-summ/assets/js/84.0ee5beb0.js"><link rel="prefetch" href="/rat-summ/assets/js/85.adac7d72.js"><link rel="prefetch" href="/rat-summ/assets/js/86.d7ed3e20.js"><link rel="prefetch" href="/rat-summ/assets/js/87.93bc5012.js"><link rel="prefetch" href="/rat-summ/assets/js/88.13a7244f.js"><link rel="prefetch" href="/rat-summ/assets/js/89.5512fba5.js"><link rel="prefetch" href="/rat-summ/assets/js/9.9db0e627.js"><link rel="prefetch" href="/rat-summ/assets/js/90.0d36bb3b.js"><link rel="prefetch" href="/rat-summ/assets/js/91.3b31c7ee.js"><link rel="prefetch" href="/rat-summ/assets/js/92.01af09c3.js"><link rel="prefetch" href="/rat-summ/assets/js/93.c98fe6f4.js"><link rel="prefetch" href="/rat-summ/assets/js/94.23a6678b.js"><link rel="prefetch" href="/rat-summ/assets/js/95.c50f9e7e.js"><link rel="prefetch" href="/rat-summ/assets/js/96.36897011.js"><link rel="prefetch" href="/rat-summ/assets/js/97.dead9357.js"><link rel="prefetch" href="/rat-summ/assets/js/98.e487ff01.js"><link rel="prefetch" href="/rat-summ/assets/js/99.2474b24c.js">
    <link rel="stylesheet" href="/rat-summ/assets/css/0.styles.b7fb6ee3.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/rat-summ/" class="home-link router-link-active"><img src="/rat-summ/img/logo.png" alt="写作认知体系" class="logo"> <span class="site-name can-hide">写作认知体系</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/rat-summ/" class="nav-link">首页</a></div><div class="nav-item"><a href="/rat-summ/writeRead/" class="nav-link">写作阅读</a></div><div class="nav-item"><a href="/rat-summ/promoteOper/" class="nav-link">推广运营</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="💖职场技能" class="dropdown-title"><a href="/rat-summ/workSkill/" class="link-title">💖职场技能</a> <span class="title" style="display:none;">💖职场技能</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/rat-summ/skill-note/" class="nav-link">技能记录</a></li><li class="dropdown-item"><!----> <a href="/rat-summ/skill-inter/" class="nav-link">面试技巧</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🌹快捷入口" class="dropdown-title"><!----> <span class="title" style="display:;">🌹快捷入口</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>快捷链接</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/rat-summ/pages/devLink/" class="nav-link">开发收藏</a></li></ul></li><li class="dropdown-item"><h4>💖体系入口</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://my.samyz.cn/rat-skill" target="_blank" rel="noopener noreferrer" class="nav-link external">
  工作实践体系
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://my.samyz.cn/rat-summ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  写作认知体系
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://my.samyz.cn/rat-invest" target="_blank" rel="noopener noreferrer" class="nav-link external">
  投资理财体系
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/samyzh/rat-summ" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/rat-summ/" class="nav-link">首页</a></div><div class="nav-item"><a href="/rat-summ/writeRead/" class="nav-link">写作阅读</a></div><div class="nav-item"><a href="/rat-summ/promoteOper/" class="nav-link">推广运营</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="💖职场技能" class="dropdown-title"><a href="/rat-summ/workSkill/" class="link-title">💖职场技能</a> <span class="title" style="display:none;">💖职场技能</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/rat-summ/skill-note/" class="nav-link">技能记录</a></li><li class="dropdown-item"><!----> <a href="/rat-summ/skill-inter/" class="nav-link">面试技巧</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🌹快捷入口" class="dropdown-title"><!----> <span class="title" style="display:;">🌹快捷入口</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>快捷链接</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/rat-summ/pages/devLink/" class="nav-link">开发收藏</a></li></ul></li><li class="dropdown-item"><h4>💖体系入口</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://my.samyz.cn/rat-skill" target="_blank" rel="noopener noreferrer" class="nav-link external">
  工作实践体系
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://my.samyz.cn/rat-summ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  写作认知体系
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://my.samyz.cn/rat-invest" target="_blank" rel="noopener noreferrer" class="nav-link external">
  投资理财体系
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/samyzh/rat-summ" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>知识体系</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/d299c4/" class="sidebar-link">知识体系</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>html&amp;css</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/59df57/" class="sidebar-link">html的使用</a></li><li><a href="/rat-summ/pages/bfeb1c/" class="sidebar-link">css的使用</a></li><li><a href="/rat-summ/pages/6f569a/" class="sidebar-link">html居中及常用布局</a></li><li><a href="/rat-summ/pages/75c080/" class="sidebar-link">html移动端适配</a></li><li><a href="/rat-summ/pages/1f3ef7/" class="sidebar-link">CSS和JS动画</a></li><li><a href="/rat-summ/pages/445bb3/" class="sidebar-link">html与js的组合使用</a></li><li><a href="/rat-summ/pages/b50ea5/" class="sidebar-link">前端跨页面通信</a></li><li><a href="/rat-summ/pages/91bfa6/" class="sidebar-link">html跨tab页通信(同源跨域)</a></li><li><a href="/rat-summ/pages/975a2e/" class="sidebar-link">cookie常用操作</a></li><li><a href="/rat-summ/pages/b09bd9/" class="sidebar-link">JS中对URL进行转码与解码</a></li><li><a href="/rat-summ/pages/7f7002/" class="sidebar-link">img标注热点分布</a></li><li><a href="/rat-summ/pages/d3dec5/" class="sidebar-link">html中input输入数字控制</a></li><li><a href="/rat-summ/pages/ac76fc/" class="sidebar-link">textarea的换行与空格问题</a></li><li><a href="/rat-summ/pages/59d1b8/" class="sidebar-link">html屏幕相关</a></li><li><a href="/rat-summ/pages/b0b165/" class="sidebar-link">console实用调试技巧</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>基础框架</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/1db8ae/" class="sidebar-link">jquery及zepto的使用</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>安全</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/2e79cd/" class="sidebar-link">html禁止复制文字</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>pwa</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/702634/" class="sidebar-link">pwa基础</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>WebComponent</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/4f2593/" class="sidebar-link">WebComponent基础</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>浏览器渲染</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/7027dc/" class="sidebar-link">浏览器渲染机制</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>实践</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/c7ba6e/" class="sidebar-link">左侧树折叠效果</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>优化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/80f4c6/" class="sidebar-link">浏览器优化</a></li><li><a href="/rat-summ/pages/01686b/" class="sidebar-link">浏览器渲染原理与性能优化</a></li><li><a href="/rat-summ/pages/a6d3de/" class="sidebar-link">lighthouse实践及分析</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>样式</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/3b6bc5/" class="sidebar-link">第三方ui库样式重写</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/77c195/" class="sidebar-link">js分类、比较及数组</a></li><li><a href="/rat-summ/pages/8a1238/" class="sidebar-link">js函数</a></li><li><a href="/rat-summ/pages/803bc1/" class="sidebar-link">js对象、class、proxy及Symbol</a></li><li><a href="/rat-summ/pages/c85153/" class="sidebar-link">es6之变量,扩展,symbol,set,map,proxy,reflect及class</a></li><li><a href="/rat-summ/pages/db6ce7/" class="sidebar-link">es6之module,iterator,promise及es6+</a></li><li><a href="/rat-summ/pages/5c649d/" class="sidebar-link">es6中的proxy的使用</a></li><li><a href="/rat-summ/pages/b8e539/" class="sidebar-link">js异步</a></li><li><a href="/rat-summ/pages/2fa04b/" class="sidebar-link">js事件循环及优化</a></li><li><a href="/rat-summ/pages/45b059/" class="sidebar-link">js模块规范</a></li><li><a href="/rat-summ/pages/730656/" class="sidebar-link">数组常用方法</a></li><li><a href="/rat-summ/pages/b887a0/" class="sidebar-link">常用正则表达式提高效率</a></li><li><a href="/rat-summ/pages/c5c2b5/" class="sidebar-link">前端异常的捕获与处理</a></li><li><a href="/rat-summ/pages/c7a8f5/" class="sidebar-link">ES6优化实践</a></li><li><a href="/rat-summ/pages/48ae2c/" class="sidebar-link">ES6-ES12的开发技巧</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>进价</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/328e70/" class="sidebar-link">v8内存管理</a></li><li><a href="/rat-summ/pages/71fa00/" class="sidebar-link">js原生方法手写实现</a></li><li><a href="/rat-summ/pages/35e184/" class="sidebar-link">js中手写常用方法</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>网络库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/a34b2c/" class="sidebar-link">ajax&amp;axios&amp;fetch对比</a></li><li><a href="/rat-summ/pages/e1382d/" class="sidebar-link">axios分析及实践</a></li><li><a href="/rat-summ/pages/67de0f/" class="sidebar-link">axios文档使用</a></li><li><a href="/rat-summ/pages/5a2414/" class="sidebar-link">fetch处理超时</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>常用库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/7349f2/" class="sidebar-link">lodashjs中节流及防抖的实现</a></li><li><a href="/rat-summ/pages/d88e3e/" class="sidebar-link">puppeteer实践及分析</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>实践</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/7afb20/" class="sidebar-link">数字取整问题</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>ts</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/3caff3/" class="sidebar-link">typescript语法及实践</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>node</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/c7cd4e/" class="sidebar-link">node版本及源管理</a></li><li><a href="/rat-summ/pages/24c387/" aria-current="page" class="active sidebar-link">npm常用命令操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#npm命令" class="sidebar-link">npm命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#常用命令" class="sidebar-link">常用命令</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#简写" class="sidebar-link">简写</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#安装包" class="sidebar-link">安装包</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#安装源设置" class="sidebar-link">安装源设置</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#npm-i命令" class="sidebar-link">npm i命令</a></li></ul></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#npm-配置" class="sidebar-link">npm 配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#优先级" class="sidebar-link">优先级</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#npm-config-指令【推荐】" class="sidebar-link">npm config 指令【推荐】</a></li></ul></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#npx命令行开发方式" class="sidebar-link">npx命令行开发方式</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#npm-工程管理【推荐】" class="sidebar-link">npm 工程管理【推荐】</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#项目版本号管理" class="sidebar-link">项目版本号管理</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#模块-tag-管理" class="sidebar-link">模块 tag 管理</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#域级包管理" class="sidebar-link">域级包管理</a></li></ul></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#node-modules-目录结构" class="sidebar-link">node_modules 目录结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#npm-2-x-嵌套结构" class="sidebar-link">npm 2.x - 嵌套结构</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#npm-3-x-扁平结构" class="sidebar-link">npm 3.x - 扁平结构</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#npm-5-x-package-lock-json" class="sidebar-link">npm 5.x - package-lock.json</a></li></ul></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#npm-中的依赖包" class="sidebar-link">npm 中的依赖包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#依赖包分类" class="sidebar-link">依赖包分类</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#依赖包版本号" class="sidebar-link">依赖包版本号</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#依赖包版本管理" class="sidebar-link">依赖包版本管理</a></li></ul></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#npm-scripts-脚本" class="sidebar-link">npm scripts 脚本</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#工作原理" class="sidebar-link">工作原理</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#用法指南" class="sidebar-link">用法指南</a></li></ul></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#npm-的几个实用技巧" class="sidebar-link">npm 的几个实用技巧</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#自定义默认的-npm-init" class="sidebar-link">自定义默认的 npm init</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#查看-npm-脚本命令【推荐】" class="sidebar-link">查看 npm 脚本命令【推荐】</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#查看环境变量【推荐】" class="sidebar-link">查看环境变量【推荐】</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#模块管理" class="sidebar-link">模块管理</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#查看模块文档" class="sidebar-link">查看模块文档</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#在不同的目录下运行脚本" class="sidebar-link">在不同的目录下运行脚本</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#本地开发模块调试" class="sidebar-link">本地开发模块调试</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#安全漏洞检查【要点】" class="sidebar-link">安全漏洞检查【要点】</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#依赖锁定【要点】" class="sidebar-link">依赖锁定【要点】</a></li></ul></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#相关问题总括" class="sidebar-link">相关问题总括</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#no-such-file-or-directory-open-node-modules-staging" class="sidebar-link">no such file or directory, open '/node_modules/.staging/</a></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#npm-err-code-eintegrity" class="sidebar-link">npm ERR! code EINTEGRITY</a></li></ul></li><li class="sidebar-sub-header"><a href="/rat-summ/pages/24c387/#相关链接" class="sidebar-link">相关链接</a></li></ul></li><li><a href="/rat-summ/pages/b9d467/" class="sidebar-link">npm发布及私服搭建</a></li><li><a href="/rat-summ/pages/b23049/" class="sidebar-link">yarn相关总结</a></li><li><a href="/rat-summ/pages/90e3bb/" class="sidebar-link">verdaccio详细设置</a></li><li><a href="/rat-summ/pages/53158b/" class="sidebar-link">nexus布署私有npm仓库</a></li><li><a href="/rat-summ/pages/cc3405/" class="sidebar-link">npm包管理机制</a></li><li><a href="/rat-summ/pages/16031f/" class="sidebar-link">pnpm实践及分析</a></li><li><a href="/rat-summ/pages/68c863/" class="sidebar-link">mac下彻底卸载node和npm</a></li><li><a href="/rat-summ/pages/d4e855/" class="sidebar-link">patch-package修改依赖包</a></li><li><a href="/rat-summ/pages/c886c0/" class="sidebar-link">pnm包管理</a></li><li><a href="/rat-summ/pages/bb9351/" class="sidebar-link">bower包管理</a></li><li><a href="/rat-summ/pages/8a2ca0/" class="sidebar-link">npm-git-bower设置代理</a></li><li><a href="/rat-summ/pages/f51081/" class="sidebar-link">docker下安装nodejs环境</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>node</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/f36b82/" class="sidebar-link">index</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>express</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/6c90e5/" class="sidebar-link">express基本配置</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>koa</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/796cbb/" class="sidebar-link">模板引擎ejs</a></li><li><a href="/rat-summ/pages/a340bc/" class="sidebar-link">深入浅出 Koa 的洋葱模型</a></li><li><a href="/rat-summ/pages/41cb0f/" class="sidebar-link">如何更好地理解中间件和洋葱模型</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>egg</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/514ebb/" class="sidebar-link">eggjs中curl请求、HTTP基础及RouteCtrl实战</a></li><li><a href="/rat-summ/pages/39412b/" class="sidebar-link">eggjs中HttpClient网络及Curl的使用</a></li><li><a href="/rat-summ/pages/4738e8/" class="sidebar-link">eggjs中Cookie与Session使用</a></li><li><a href="/rat-summ/pages/47858c/" class="sidebar-link">eggjs中实现RESTfulAPI及Router</a></li><li><a href="/rat-summ/pages/a69e2d/" class="sidebar-link">eggjs中cluster的实现原理</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webpck</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/3793a8/" class="sidebar-link">webpack基础入门</a></li><li><a href="/rat-summ/pages/c741f3/" class="sidebar-link">webpack的自定义实现</a></li><li><a href="/rat-summ/pages/1e9637/" class="sidebar-link">webpack的源码分析</a></li><li><a href="/rat-summ/pages/c9f7c2/" class="sidebar-link">webpack热更新原理</a></li><li><a href="/rat-summ/pages/ac0ea5/" class="sidebar-link">webpack路由懒加载的原理</a></li><li><a href="/rat-summ/pages/d71cdf/" class="sidebar-link">组件按需加载babel-plugin-component分析</a></li><li><a href="/rat-summ/pages/eb92bd/" class="sidebar-link">webpack中require和import的区别</a></li><li><a href="/rat-summ/pages/sourcemap-detail/" class="sidebar-link">webpack中sourcemap详细配置</a></li><li><a href="/rat-summ/pages/1566f7/" class="sidebar-link">webpack的proxy用法</a></li><li><a href="/rat-summ/pages/1df7c0/" class="sidebar-link">http-proxy-middleware</a></li><li><a href="/rat-summ/pages/8c5df0/" class="sidebar-link">webpack-dll配置</a></li><li><a href="/rat-summ/pages/463f64/" class="sidebar-link">vue-config详解及实践</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>优化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/47b067/" class="sidebar-link">webpack优化总括</a></li><li><a href="/rat-summ/pages/ff5832/" class="sidebar-link">webpack的使用及优化</a></li><li><a href="/rat-summ/pages/540308/" class="sidebar-link">webpack打包构建优化</a></li><li><a href="/rat-summ/pages/47832b/" class="sidebar-link">vue-config构建优化</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>实践</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/000507/" class="sidebar-link">webpack的插件实践</a></li><li><a href="/rat-summ/pages/webpack-externals/" class="sidebar-link">webpack中external实践</a></li><li><a href="/rat-summ/pages/624188/" class="sidebar-link">webpack中TreeShaking及压缩的实践</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/a3a764/" class="sidebar-link">vue相关官方文档记录</a></li><li><a href="/rat-summ/pages/vue-use/" class="sidebar-link">vue的实践使用</a></li><li><a href="/rat-summ/pages/vue-my/" class="sidebar-link">vue自定义实现</a></li><li><a href="/rat-summ/pages/vue-src/" class="sidebar-link">vue源码分析</a></li><li><a href="/rat-summ/pages/80f59a/" class="sidebar-link">vue源码分析和对原理的理解</a></li><li><a href="/rat-summ/pages/41c21e/" class="sidebar-link">vue的源码分析</a></li><li><a href="/rat-summ/pages/6ce810/" class="sidebar-link">vue2、vue3及react的三种Diff算法</a></li><li><a href="/rat-summ/pages/00dd2e/" class="sidebar-link">vue与react的对比及个人思考</a></li><li><a href="/rat-summ/pages/vue_comp_tel/" class="sidebar-link">vue组件通信方式及原理分析</a></li><li><a href="/rat-summ/pages/9f3a90/" class="sidebar-link">vue将原生事件绑定到组件</a></li><li><a href="/rat-summ/pages/1431ab/" class="sidebar-link">vue生命周期及原理分析</a></li><li><a href="/rat-summ/pages/2ea231/" class="sidebar-link">vue常用修饰符详解</a></li><li><a href="/rat-summ/pages/892a81/" class="sidebar-link">vue常用的自定义指令</a></li><li><a href="/rat-summ/pages/bc2498/" class="sidebar-link">vue中extend实践及分析</a></li><li><a href="/rat-summ/pages/6bc868/" class="sidebar-link">vue中filter实践及分析</a></li><li><a href="/rat-summ/pages/191c2d/" class="sidebar-link">vue中nextTick实现原理</a></li><li><a href="/rat-summ/pages/vue-pro-pref/" class="sidebar-link">vue项目优化技巧【重点】</a></li><li><a href="/rat-summ/pages/211945/" class="sidebar-link">vue项目权限相关</a></li><li><a href="/rat-summ/pages/83f9be/" class="sidebar-link">vue项目实践</a></li><li><a href="/rat-summ/pages/22bc61/" class="sidebar-link">vue项目刷新当前页面</a></li><li><a href="/rat-summ/pages/398010/" class="sidebar-link">vue中使用jsx</a></li><li><a href="/rat-summ/pages/aeb50e/" class="sidebar-link">vue封装组件技巧</a></li><li><a href="/rat-summ/pages/c59b7d/" class="sidebar-link">vue3相关资料整理</a></li><li><a href="/rat-summ/pages/73a1c0/" class="sidebar-link">vue3新特点</a></li><li><a href="/rat-summ/pages/vue3-use/" class="sidebar-link">vue3实践使用</a></li><li><a href="/rat-summ/pages/vue3-my/" class="sidebar-link">vue3自定义实现</a></li><li><a href="/rat-summ/pages/vue3-src/" class="sidebar-link">vue3源码分析</a></li><li><a href="/rat-summ/pages/c51695/" class="sidebar-link">vue3与vue2组件通信方式及对比</a></li><li><a href="/rat-summ/pages/af09b9/" class="sidebar-link">vue3使用mitt</a></li><li><a href="/rat-summ/pages/78748a/" class="sidebar-link">vue3与react的hook比较</a></li><li><a href="/rat-summ/pages/d16cc3/" class="sidebar-link">vueuse实践及分析</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>vuex</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/vuex-use/" class="sidebar-link">vuex实践使用</a></li><li><a href="/rat-summ/pages/vuex-my/" class="sidebar-link">vuex自定义实现</a></li><li><a href="/rat-summ/pages/vuex-src/" class="sidebar-link">vuex源码分析</a></li><li><a href="/rat-summ/pages/93a55d/" class="sidebar-link">vuex4新特性</a></li><li><a href="/rat-summ/pages/93a599/" class="sidebar-link">vuex4源码分析</a></li><li><a href="/rat-summ/pages/a9aba2/" class="sidebar-link">pinia实践及分析</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>router</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/213b37/" class="sidebar-link">前端路由的原理及自定义</a></li><li><a href="/rat-summ/pages/vue-router-use/" class="sidebar-link">vue-rouer实践使用</a></li><li><a href="/rat-summ/pages/vue-router-my/" class="sidebar-link">vue-router自定义实现</a></li><li><a href="/rat-summ/pages/vue-router-src/" class="sidebar-link">vue-router源码分析</a></li><li><a href="/rat-summ/pages/3f15a5/" class="sidebar-link">vue-router4新特性</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>ssr</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/ff8fd0/" class="sidebar-link">ssr实践</a></li><li><a href="/rat-summ/pages/4bb23f/" class="sidebar-link">vue-ssr自定义实现</a></li><li><a href="/rat-summ/pages/e5d580/" class="sidebar-link">vue-ssr源码分析</a></li><li><a href="/rat-summ/pages/b7ed5f/" class="sidebar-link">nuxt实践使用</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>cli</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/41364d/" class="sidebar-link">vue-cli实践使用</a></li><li><a href="/rat-summ/pages/313db8/" class="sidebar-link">vue-cli自定义实现</a></li><li><a href="/rat-summ/pages/71132c/" class="sidebar-link">vue-cli源码分析</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>vuepress</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/388ab8/" class="sidebar-link">vuepress主题模版及实践</a></li><li><a href="/rat-summ/pages/281e9a/" class="sidebar-link">vuepress搭建文档中心</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>优化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/521b7b/" class="sidebar-link">长列表优化</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>实践</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/0a2802/" class="sidebar-link">vue中pdf下载及预览</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>vite</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/d6cc17/" class="sidebar-link">01.vite实践及分析</a></li><li><a href="/rat-summ/pages/8096e1/" class="sidebar-link">vite自定义实现</a></li><li><a href="/rat-summ/pages/1f61db/" class="sidebar-link">vite源码解析</a></li><li><a href="/rat-summ/pages/6b2a11/" class="sidebar-link">vite自定义实现2</a></li><li><a href="/rat-summ/pages/0413e2/" class="sidebar-link">vue-cli迁移vite2实践小结</a></li><li><a href="/rat-summ/pages/ff4767/" class="sidebar-link">Vite2&amp;React&amp;AntDesign4搭建开发环境</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>第三方库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/eecca3/" class="sidebar-link">antd-vue table设置rowClass</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>组件库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/rat-ui-vue2-my/" class="sidebar-link">基于vue2环境搭建</a></li><li><a href="/rat-summ/pages/rat-ui-vue3-my/" class="sidebar-link">基于vue3环境搭建</a></li><li><a href="/rat-summ/pages/rat-ui-vue3-me/" class="sidebar-link">vue3自定义组件库</a></li><li><a href="/rat-summ/pages/rat-ui-vue-icon-button/" class="sidebar-link">Icon和Button组件</a></li><li><a href="/rat-summ/pages/rat-ui-vue-message/" class="sidebar-link">Message组件</a></li><li><a href="/rat-summ/pages/rat-ui-vue-carousel/" class="sidebar-link">Carousel组件</a></li><li><a href="/rat-summ/pages/rat-ui-vue-tree/" class="sidebar-link">Tree组件</a></li><li><a href="/rat-summ/pages/824a5d/" class="sidebar-link">Tree组件2</a></li><li><a href="/rat-summ/pages/1a7009/" class="sidebar-link">Toast组件</a></li><li><a href="/rat-summ/pages/7b620d/" class="sidebar-link">vue组件化</a></li><li><a href="/rat-summ/pages/843a0b/" class="sidebar-link">相关参考</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>源码分析</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/1c6668/" class="sidebar-link">vue源码解密分析开源项目</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>react</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/f74c57/" class="sidebar-link">react生命周期</a></li><li><a href="/rat-summ/pages/febb52/" class="sidebar-link">react源码解析</a></li><li><a href="/rat-summ/pages/f7cd7b/" class="sidebar-link">react动态添加样式</a></li><li><a href="/rat-summ/pages/a20232/" class="sidebar-link">componentWillReceiveProps代替方案</a></li><li><a href="/rat-summ/pages/894913/" class="sidebar-link">react的通信方式</a></li><li><a href="/rat-summ/pages/725a47/" class="sidebar-link">react组件通信的方式</a></li><li><a href="/rat-summ/pages/29ef52/" class="sidebar-link">react优化性能技巧</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>dva</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/d887b1/" class="sidebar-link">dva使用实践</a></li><li><a href="/rat-summ/pages/203fe8/" class="sidebar-link">dva实现原理及自定义实现</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>router</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/5c9300/" class="sidebar-link">react-router&amp;dom实践使用</a></li><li><a href="/rat-summ/pages/8a9a13/" class="sidebar-link">react-router&amp;dom自定义实现</a></li><li><a href="/rat-summ/pages/ebc64f/" class="sidebar-link">react-router&amp;dom的源码分析</a></li><li><a href="/rat-summ/pages/ebc3a4/" class="sidebar-link">connected-react-router自定义实现</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>hooks</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/f3a825/" class="sidebar-link">hooks实践</a></li><li><a href="/rat-summ/pages/48c2d2/" class="sidebar-link">hooks自定义实现</a></li><li><a href="/rat-summ/pages/54db46/" class="sidebar-link">hooks源码实现</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>组件库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/400fdf/" class="sidebar-link">通过storybook实现组件库</a></li><li><a href="/rat-summ/pages/f45bc7/" class="sidebar-link">组件发布相关</a></li><li><a href="/rat-summ/pages/9311d0/" class="sidebar-link">lerna&amp;dumi组件库及文档</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>优化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/f8eee2/" class="sidebar-link">react性能优化</a></li><li><a href="/rat-summ/pages/1cc554/" class="sidebar-link">umi项目本地构建优化</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>antd</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/b936a9/" class="sidebar-link">antdv3中使用DatePicker控件</a></li><li><a href="/rat-summ/pages/636811/" class="sidebar-link">antd从v3升级到v4</a></li><li><a href="/rat-summ/pages/5a40df/" class="sidebar-link">umi插件</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>兼容性</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>IE</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/9e9433/" class="sidebar-link">解决TextEncoder和TextDecoder在IE下不兼容的问题</a></li><li><a href="/rat-summ/pages/56ba6a/" class="sidebar-link">解决iconfont在IE下不兼容问题</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>常用库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>公共</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/5e3047/" class="sidebar-link">常用后台管理模块库</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>jspdf</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/77850d/" class="sidebar-link">pdf生成处理</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>dnd</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/224401/" class="sidebar-link">react-dnd用法详解</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>协议</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/23fc68/" class="sidebar-link">常用网络协议关系</a></li><li><a href="/rat-summ/pages/a62613/" class="sidebar-link">http协议相关</a></li><li><a href="/rat-summ/pages/65f844/" class="sidebar-link">websocket的使用</a></li><li><a href="/rat-summ/pages/8231a6/" class="sidebar-link">mqtt的使用</a></li><li><a href="/rat-summ/pages/b65f02/" class="sidebar-link">websocket-over-stomp</a></li><li><a href="/rat-summ/pages/http-defense/" class="sidebar-link">http防御</a></li><li><a href="/rat-summ/pages/1d91eb/" class="sidebar-link">从url输入到返回请求的过程</a></li><li><a href="/rat-summ/pages/f5f2bd/" class="sidebar-link">websocket重连优化</a></li><li><a href="/rat-summ/pages/471e57/" class="sidebar-link">iframe中cookie使用</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>api_权限</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/09a716/" class="sidebar-link">接口请求格式详解</a></li><li><a href="/rat-summ/pages/b2d2c4/" class="sidebar-link">apidoc使用实践</a></li><li><a href="/rat-summ/pages/0de4e4/" class="sidebar-link">前端鉴权知识</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>h5移动</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/560843/" class="sidebar-link">文章推荐</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>性能</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>优化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/ee6f51/" class="sidebar-link">前端性能优化建议</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>监控</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/72e73a/" class="sidebar-link">常见监控问题汇总</a></li><li><a href="/rat-summ/pages/f0604f/" class="sidebar-link">sentry实践及性能监控</a></li><li><a href="/rat-summ/pages/90f275/" class="sidebar-link">sentry集成钉钉</a></li><li><a href="/rat-summ/pages/1c3756/" class="sidebar-link">sentry收集错误上报的原理</a></li><li><a href="/rat-summ/pages/24c0e6/" class="sidebar-link">sentry部署及实践</a></li><li><a href="/rat-summ/pages/351a6b/" class="sidebar-link">前端性能监控自己实现</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>辅助工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/a2f35a/" class="sidebar-link">chrome开发者工具的使用</a></li><li><a href="/rat-summ/pages/0ac96f/" class="sidebar-link">sonarqube实践及分析</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>组件化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/d45aed/" class="sidebar-link">React组件库搭建</a></li><li><a href="/rat-summ/pages/834f6e/" class="sidebar-link">Vue组件库搭建</a></li><li><a href="/rat-summ/pages/071606/" class="sidebar-link">Vue移动端组件库</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>模块化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>模板</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/adm-tpl-sys/" class="sidebar-link">管理端adm-tpl-sys模版</a></li><li><a href="/rat-summ/pages/adm-tpl-sub/" class="sidebar-link">管理端adm-tpl-sub模版</a></li><li><a href="/rat-summ/pages/adm-tpl-portal/" class="sidebar-link">管理端adm-tpl-portal模版</a></li><li><a href="/rat-summ/pages/adm-tpl-port/" class="sidebar-link">管理端adm-tpl-part模版</a></li><li><a href="/rat-summ/pages/adm-tpl-react/" class="sidebar-link">管理端adm-tpl-react模版</a></li><li><a href="/rat-summ/pages/adm-tpl-vue/" class="sidebar-link">管理端adm-tpl-vue模版</a></li><li><a href="/rat-summ/pages/h5-tpl-vue/" class="sidebar-link">移动端h5-tpl-vue模版</a></li><li><a href="/rat-summ/pages/doc-tpl-rat/" class="sidebar-link">管理端doc-tpl-rat模版</a></li><li><a href="/rat-summ/pages/doc-tpl-bdp/" class="sidebar-link">管理端doc-tpl-bdp模版</a></li><li><a href="/rat-summ/pages/adm-tpl-vue-multi/" class="sidebar-link">管理端adm-tpl-vue-multi模版</a></li><li><a href="/rat-summ/pages/adm-tpl-egg/" class="sidebar-link">管理端adm-tpl-egg模版</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>微前端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/908314/" class="sidebar-link">微前端概况</a></li><li><a href="/rat-summ/pages/micro-fe-use/" class="sidebar-link">微前端实践使用</a></li><li><a href="/rat-summ/pages/micro-fe-my/" class="sidebar-link">微前端原理实现</a></li><li><a href="/rat-summ/pages/264bc0/" class="sidebar-link">qiankun实践</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>learn</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/monorepo-lerna-yarn-use/" class="sidebar-link">monorepo-lerna-yarn的实践</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>可视化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>bizchart</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/c23b0f/" class="sidebar-link">bizchart基础</a></li><li><a href="/rat-summ/pages/e6701a/" class="sidebar-link">bizchart实践</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>x6</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/bf408c/" class="sidebar-link">x6实践</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>工程化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>介绍</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/c9a984/" class="sidebar-link">介绍借鉴</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>babel</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/561173/" class="sidebar-link">babel实践及配置</a></li><li><a href="/rat-summ/pages/b5a629/" class="sidebar-link">babel原理及AST</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>gulp</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/fb8427/" class="sidebar-link">glup的使用</a></li><li><a href="/rat-summ/pages/013312/" class="sidebar-link">gulp搭建本地服务</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/b12f8c/" class="sidebar-link">webpack</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>代码规范</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/b68d92/" class="sidebar-link">常用的代码规范配置</a></li><li><a href="/rat-summ/pages/e58bf8/" class="sidebar-link">eslint+prettier规范与检测代码</a></li><li><a href="/rat-summ/pages/git-cz-commit/" class="sidebar-link">cz代码提交规范的工作流</a></li><li><a href="/rat-summ/pages/4de8c4/" class="sidebar-link">prettier配置</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>cli</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/da383f/" class="sidebar-link">脚手架cli开发</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>测试</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/24e8fd/" class="sidebar-link">自动化前端测试</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>构建</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/72751e/" class="sidebar-link">前端构建OOM</a></li><li><a href="/rat-summ/pages/a4bce3/" class="sidebar-link">前端内存分析</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>uml</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/77e0c4/" class="sidebar-link">UML工具之EA用法</a></li><li><a href="/rat-summ/pages/bb0cda/" class="sidebar-link">UML基于其的软件设计</a></li><li><a href="/rat-summ/pages/5a0304/" class="sidebar-link">UML基于其的需求分析</a></li><li><a href="/rat-summ/pages/3e0da4/" class="sidebar-link">UML基于其的需求分析之案例分析</a></li><li><a href="/rat-summ/pages/a233a0/" class="sidebar-link">UML用法之基础之基于StarUML</a></li><li><a href="/rat-summ/pages/46009e/" class="sidebar-link">UML用法之进阶之基于EA</a></li><li><a href="/rat-summ/pages/99ad7d/" class="sidebar-link">UML之类图分析</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>devops</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>gitd</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/0e4ee4/" class="sidebar-link">git常用命令及使用</a></li><li><a href="/rat-summ/pages/5f88ca/" class="sidebar-link">git提交规范</a></li><li><a href="/rat-summ/pages/3cf79d/" class="sidebar-link">git补丁patch和diff使用</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>jenkins</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/cf5bb3/" class="sidebar-link">jenkins配置及使用</a></li><li><a href="/rat-summ/pages/db0083/" class="sidebar-link">jenkins前端构建部署</a></li><li><a href="/rat-summ/pages/e9a204/" class="sidebar-link">Jenkins推送设置</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>github</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/github-action/" class="sidebar-link">Github Action自动打包部署</a></li><li><a href="/rat-summ/pages/04ea51/" class="sidebar-link">gitpage设置</a></li><li><a href="/rat-summ/pages/27f7b7/" class="sidebar-link">Github常用自动化及发布设置</a></li><li><a href="/rat-summ/pages/9cd829/" class="sidebar-link">gitlhub&amp;lab几个常用的API</a></li><li><a href="/rat-summ/pages/3a598f/" class="sidebar-link">github墙外</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>gitlab</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/92a5da/" class="sidebar-link">gitlab环境及配置</a></li><li><a href="/rat-summ/pages/2a7fb1/" class="sidebar-link">常用功能</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>bash</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/307097/" class="sidebar-link">前端脚本通过时间生成对应环境</a></li><li><a href="/rat-summ/pages/209a7a/" class="sidebar-link">shell脚本中变量判断</a></li><li><a href="/rat-summ/pages/85b237/" class="sidebar-link">bash判断文件或文件夹是否存在</a></li><li><a href="/rat-summ/pages/39d420/" class="sidebar-link">sed命令替换匹配行</a></li><li><a href="/rat-summ/pages/b8cc91/" class="sidebar-link">shell中find使用</a></li><li><a href="/rat-summ/pages/d16bc3/" class="sidebar-link">shell中mv&amp;rm&amp;cp使用</a></li><li><a href="/rat-summ/pages/3e2bbc/" class="sidebar-link">shell管道及并串行</a></li><li><a href="/rat-summ/pages/5aff55/" class="sidebar-link">shell参数传递与默认值</a></li><li><a href="/rat-summ/pages/da9733/" class="sidebar-link">shell读取配置文件参数</a></li><li><a href="/rat-summ/pages/ee26ee/" class="sidebar-link">shell交互式传参</a></li><li><a href="/rat-summ/pages/79fe8b/" class="sidebar-link">shell中json使用</a></li><li><a href="/rat-summ/pages/b9af92/" class="sidebar-link">shell中catch使用</a></li><li><a href="/rat-summ/pages/23ad45/" class="sidebar-link">shell中后台运行</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>k8s</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/012f5e/" class="sidebar-link">前端实践k8s</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>ansible</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/150b7c/" class="sidebar-link">ansible实践</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>docker</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/a07627/" class="sidebar-link">docker环境及配置</a></li><li><a href="/rat-summ/pages/docker-base/" class="sidebar-link">docker&amp;compose及swarm的使用</a></li><li><a href="/rat-summ/pages/975a75/" class="sidebar-link">docker常用脚本及工具</a></li><li><a href="/rat-summ/pages/3b2696/" class="sidebar-link">前端常用到的docker容器</a></li><li><a href="/rat-summ/pages/71907e/" class="sidebar-link">docker镜像源加速</a></li><li><a href="/rat-summ/pages/8b98ff/" class="sidebar-link">docker搭建私有仓库registry及harbor</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>nginx</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/nginx-base/" class="sidebar-link">nginx环境设置</a></li><li><a href="/rat-summ/pages/nginx-good/" class="sidebar-link">nginx常用设置及实践</a></li><li><a href="/rat-summ/pages/626088/" class="sidebar-link">nginx配置https-http2</a></li><li><a href="/rat-summ/pages/f7b17f/" class="sidebar-link">nginx部署相关</a></li><li><a href="/rat-summ/pages/1fd240/" class="sidebar-link">nginx运维部署相关</a></li><li><a href="/rat-summ/pages/2aabd0/" class="sidebar-link">nginx的重定向问题</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>ci&amp;cd</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/8ceda4/" class="sidebar-link">jenkins构建docker镜像上传至私有镜像库Nexus</a></li><li><a href="/rat-summ/pages/f645ee/" class="sidebar-link">ci&amp;cd通过k8s完整部署</a></li><li><a href="/rat-summ/pages/29c57b/" class="sidebar-link">gitLab搭建cicd</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>deploy</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/a991cc/" class="sidebar-link">pm2常用命令及管理</a></li><li><a href="/rat-summ/pages/7e9083/" class="sidebar-link">pm2一键部署</a></li><li><a href="/rat-summ/pages/e5878d/" class="sidebar-link">pm2的实现原理</a></li><li><a href="/rat-summ/pages/2942f3/" class="sidebar-link">ansible部署</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>db</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>nedb</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/275bf3/" class="sidebar-link">nedb的使用</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>mysql</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/a23297/" class="sidebar-link">mysql环境及配置</a></li><li><a href="/rat-summ/pages/bb5f4c/" class="sidebar-link">mysql语法相关</a></li><li><a href="/rat-summ/pages/c3d40c/" class="sidebar-link">mysql类型、储存引擎</a></li><li><a href="/rat-summ/pages/66840d/" class="sidebar-link">mysql事务</a></li><li><a href="/rat-summ/pages/e09335/" class="sidebar-link">mysql优化</a></li><li><a href="/rat-summ/pages/8b0470/" class="sidebar-link">sequelize事务</a></li><li><a href="/rat-summ/pages/408e49/" class="sidebar-link">mysql在win上bat脚本使用</a></li><li><a href="/rat-summ/pages/5ac000/" class="sidebar-link">sqlite的使用</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>redis</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/bcd737/" class="sidebar-link">redis环境及配置</a></li><li><a href="/rat-summ/pages/098cc4/" class="sidebar-link">redis简介、安装及配置</a></li><li><a href="/rat-summ/pages/7f774f/" class="sidebar-link">redis数据结构、订阅及案例</a></li><li><a href="/rat-summ/pages/7650e0/" class="sidebar-link">redis持久化、缓存及淘汰策略</a></li><li><a href="/rat-summ/pages/b7e7b7/" class="sidebar-link">redis集群、慢查询及内存优化</a></li><li><a href="/rat-summ/pages/0ecb33/" class="sidebar-link">redis事务、锁及分布式</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>业务其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>ambari</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/365af3/" class="sidebar-link">ambari-admin前端二次开发</a></li><li><a href="/rat-summ/pages/365af4/" class="sidebar-link">ambari-web前端二次开发</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>freemarker</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/851ff6/" class="sidebar-link">freemarker基本语法</a></li><li><a href="/rat-summ/pages/2a94be/" class="sidebar-link">freemarker与vue实践</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>ember</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/0597da/" class="sidebar-link">ember语法</a></li><li><a href="/rat-summ/pages/30db45/" class="sidebar-link">ember调试</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>go</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/850c2f/" class="sidebar-link">go环境相关配置</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>系统</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>mac</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/6a7c2d/" class="sidebar-link">mac中zsh配置</a></li><li><a href="/rat-summ/pages/00d9cb/" class="sidebar-link">mac常用软件</a></li><li><a href="/rat-summ/pages/f6ec35/" class="sidebar-link">mac上U盘及硬盘数据</a></li><li><a href="/rat-summ/pages/498a75/" class="sidebar-link">homebrew镜像设置</a></li><li><a href="/rat-summ/pages/6d2739/" class="sidebar-link">mac开发环境配置</a></li><li><a href="/rat-summ/pages/fa9bb9/" class="sidebar-link">mac升级固态重装系统</a></li><li><a href="/rat-summ/pages/b86746/" class="sidebar-link">mac打开scp功能</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>linux</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/f991c3/" class="sidebar-link">linux系统目录结构</a></li><li><a href="/rat-summ/pages/037572/" class="sidebar-link">shell脚本实现取当前时间</a></li><li><a href="/rat-summ/pages/6147ef/" class="sidebar-link">linux下通过端口查看进程</a></li><li><a href="/rat-summ/pages/5157d5/" class="sidebar-link">linux用户及权限配置管理</a></li><li><a href="/rat-summ/pages/bc509e/" class="sidebar-link">linux下使用Shell脚本使用ftp</a></li><li><a href="/rat-summ/pages/c74d05/" class="sidebar-link">linux下用户管理</a></li><li><a href="/rat-summ/pages/7c0099/" class="sidebar-link">linux解压缩命令</a></li><li><a href="/rat-summ/pages/02fc2e/" class="sidebar-link">服务常用命令</a></li><li><a href="/rat-summ/pages/99637c/" class="sidebar-link">linux安装配置sshd</a></li><li><a href="/rat-summ/pages/93d76c/" class="sidebar-link">centos7设置防火墙</a></li><li><a href="/rat-summ/pages/6f084f/" class="sidebar-link">linux写入的使用</a></li><li><a href="/rat-summ/pages/3ba63f/" class="sidebar-link">centos离线安装软件</a></li><li><a href="/rat-summ/pages/54a78b/" class="sidebar-link">linux下jdk环境安装</a></li><li><a href="/rat-summ/pages/d59afc/" class="sidebar-link">linux与win格式</a></li><li><a href="/rat-summ/pages/a85063/" class="sidebar-link">linux磁盘空间管理</a></li><li><a href="/rat-summ/pages/3654be/" class="sidebar-link">使用samba建立共享文件</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>win</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/ceea52/" class="sidebar-link">桌面上图标出现x及感叹号处理</a></li><li><a href="/rat-summ/pages/ac4a51/" class="sidebar-link">Chocolatey的使用</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>pi</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/8f3e17/" class="sidebar-link">安装MATE及配置</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>centos</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/52b482/" class="sidebar-link">centos安装配置注意事项</a></li><li><a href="/rat-summ/pages/3a9aef/" class="sidebar-link">centos常用命令</a></li><li><a href="/rat-summ/pages/d8dad9/" class="sidebar-link">centos修改国内yum源</a></li><li><a href="/rat-summ/pages/a52dbe/" class="sidebar-link">centos利用createrepo制作本地yum源</a></li><li><a href="/rat-summ/pages/e672e6/" class="sidebar-link">centos安装vim及配置</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>ubuntu</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/c21912/" class="sidebar-link">ubuntu上安装Chrome浏览器</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>tool</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>开发工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/fe80ea/" class="sidebar-link">vscode插件开发实践</a></li><li><a href="/rat-summ/pages/42487b/" class="sidebar-link">vscode常用插件及设置</a></li><li><a href="/rat-summ/pages/e7d3cc/" class="sidebar-link">vscode推荐插件分类</a></li><li><a href="/rat-summ/pages/191c13/" class="sidebar-link">谷歌插件推荐</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>命令终端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/13e164/" class="sidebar-link">win终端Cmder配置及美化</a></li><li><a href="/rat-summ/pages/326653/" class="sidebar-link">terminus</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>写作工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/f931af/" class="sidebar-link">Markdown For Typora</a></li><li><a href="/rat-summ/pages/e28d3c/" class="sidebar-link">mdeditor完整示例</a></li><li><a href="/rat-summ/pages/8d4c7d/" class="sidebar-link">markdown语法指南</a></li><li><a href="/rat-summ/pages/790131/" class="sidebar-link">typora配合PicGo图床设置</a></li><li><a href="/rat-summ/pages/27f6e7/" class="sidebar-link">使用md语法编写在线文档</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>系统工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/ccbd1b/" class="sidebar-link">U盘启动盘制作工具</a></li><li><a href="/rat-summ/pages/ee04b1/" class="sidebar-link">mac上创建可启动USB</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>外部墙</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/10414e/" class="sidebar-link">内网穿透</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>design_pattern</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/5a8250/" class="sidebar-link">设计模式js版</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>algorithm</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/bd8a49/" class="sidebar-link">十大经典排序算法js版</a></li><li><a href="/rat-summ/pages/9456b9/" class="sidebar-link">数据结构及常用算法</a></li><li><a href="/rat-summ/pages/ed57ec/" class="sidebar-link">前端算法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>android</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>junior</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/006aef/" class="sidebar-link">Android开发环境搭建和其相关配置</a></li><li><a href="/rat-summ/pages/b7d0d8/" class="sidebar-link">Android开发环境搭建和其相关配之Linux</a></li><li><a href="/rat-summ/pages/7d6f22/" class="sidebar-link">Android代码编程规范</a></li><li><a href="/rat-summ/pages/5e275b/" class="sidebar-link">Android网络基础</a></li><li><a href="/rat-summ/pages/b705d6/" class="sidebar-link">Android应用部署与发布</a></li><li><a href="/rat-summ/pages/1d4106/" class="sidebar-link">Android动画框架概括</a></li><li><a href="/rat-summ/pages/1ab136/" class="sidebar-link">Android动画框架基础</a></li><li><a href="/rat-summ/pages/b5f1e2/" class="sidebar-link">Android动画框架进阶</a></li><li><a href="/rat-summ/pages/38a1c0/" class="sidebar-link">Android应用学习进阶步骤之面试参照</a></li><li><a href="/rat-summ/pages/9bb8d0/" class="sidebar-link">Android应用学习进阶之初级</a></li><li><a href="/rat-summ/pages/5cb39b/" class="sidebar-link">Android应用市场发布流程之运营&amp;推广</a></li><li><a href="/rat-summ/pages/d94fea/" class="sidebar-link">Android开发新规范整理</a></li><li><a href="/rat-summ/pages/7b6ec9/" class="sidebar-link">gradle构建脚本优化</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>intermediate</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/eb6937/" class="sidebar-link">Android应用学习进阶之中级</a></li><li><a href="/rat-summ/pages/2c5f39/" class="sidebar-link">Android通信协议简述</a></li><li><a href="/rat-summ/pages/6ebce7/" class="sidebar-link">Android通讯协议之蓝牙基础</a></li><li><a href="/rat-summ/pages/e6d82e/" class="sidebar-link">Android自定义控件基础之事件分发和绘制</a></li><li><a href="/rat-summ/pages/37e06f/" class="sidebar-link">Android自定义控件基础分类及示例</a></li><li><a href="/rat-summ/pages/d3fdc6/" class="sidebar-link">Android编译脚本比较</a></li><li><a href="/rat-summ/pages/0365a3/" class="sidebar-link">NDK开发实践之基础</a></li><li><a href="/rat-summ/pages/9e9aed/" class="sidebar-link">NDK开发实践之基础之C语言</a></li><li><a href="/rat-summ/pages/383970/" class="sidebar-link">NDK开发实践之案例</a></li><li><a href="/rat-summ/pages/699fca/" class="sidebar-link">NDK开发实践之进阶</a></li><li><a href="/rat-summ/pages/fd869c/" class="sidebar-link">NDK开发环境搭建及初探</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>senior</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/fb359c/" class="sidebar-link">Andriod框架分析</a></li><li><a href="/rat-summ/pages/ced670/" class="sidebar-link">Andriod性能分析之概括</a></li><li><a href="/rat-summ/pages/69bd19/" class="sidebar-link">Andoid内存泄露案例分析</a></li><li><a href="/rat-summ/pages/b49e19/" class="sidebar-link">Andriod性能分析之布局优化</a></li><li><a href="/rat-summ/pages/bb4528/" class="sidebar-link">Andriod性能分析之代码优化</a></li><li><a href="/rat-summ/pages/024edd/" class="sidebar-link">Android插件化开发</a></li><li><a href="/rat-summ/pages/8794d6/" class="sidebar-link">Android内存分析及工具</a></li><li><a href="/rat-summ/pages/cc3b41/" class="sidebar-link">Android热插拔式开发</a></li><li><a href="/rat-summ/pages/e8c6d3/" class="sidebar-link">Dagger2&amp;Retrofit&amp;Mvp&amp;Rxjava使用</a></li><li><a href="/rat-summ/pages/b0b383/" class="sidebar-link">设计模式designpattern之Android</a></li><li><a href="/rat-summ/pages/32c934/" class="sidebar-link">Android应用学习进阶之高级</a></li><li><a href="/rat-summ/pages/d0714d/" class="sidebar-link">Android代码重构杂谈</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>frame_analysis</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/105499/" class="sidebar-link">photoview框架总体类关系类图</a></li><li><a href="/rat-summ/pages/3410a4/" class="sidebar-link">photoview_gestures类图</a></li><li><a href="/rat-summ/pages/d416e3/" class="sidebar-link">photoview_scrollerproxy类图</a></li><li><a href="/rat-summ/pages/caddb2/" class="sidebar-link">photoview时序图</a></li><li><a href="/rat-summ/pages/19455e/" class="sidebar-link">universalimageloader总体分析类图</a></li><li><a href="/rat-summ/pages/a6beae/" class="sidebar-link">universalimageloader图片显示时序图</a></li><li><a href="/rat-summ/pages/192be5/" class="sidebar-link">volley总体分析类图</a></li><li><a href="/rat-summ/pages/67eb09/" class="sidebar-link">volley网络调用时序图</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>source_analysis</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rat-summ/pages/782b10/" class="sidebar-link">Activity的Window创建的过程</a></li><li><a href="/rat-summ/pages/bd7c14/" class="sidebar-link">Android事件分发活动图</a></li><li><a href="/rat-summ/pages/98b15b/" class="sidebar-link">AppWidget相关类关系类图</a></li><li><a href="/rat-summ/pages/6de61b/" class="sidebar-link">AppWidget桌面小部件时序图</a></li><li><a href="/rat-summ/pages/9bcef6/" class="sidebar-link">drawable的层次关系类图</a></li><li><a href="/rat-summ/pages/39cfca/" class="sidebar-link">Toast的Window创建过程</a></li><li><a href="/rat-summ/pages/139a3b/" class="sidebar-link">Window的操作过程时序图</a></li><li><a href="/rat-summ/pages/9d63db/" class="sidebar-link">窗口视图相关类图</a></li><li><a href="/rat-summ/pages/92b566/" class="sidebar-link">视图相关类图</a></li><li><a href="/rat-summ/pages/5408af/" class="sidebar-link">总体视图组的继承结构类图</a></li><li><a href="/rat-summ/pages/cf8bd6/" class="sidebar-link">Notification通知栏时序图</a></li><li><a href="/rat-summ/pages/5da37d/" class="sidebar-link">Notification相关类关系类图</a></li><li><a href="/rat-summ/pages/dfd0ca/" class="sidebar-link">ViewGroup的绘制活动图</a></li><li><a href="/rat-summ/pages/9366f0/" class="sidebar-link">ViewGroup和View总体案例分析活动图</a></li><li><a href="/rat-summ/pages/285c96/" class="sidebar-link">ViewGroup事件分发活动图</a></li><li><a href="/rat-summ/pages/2d5ab3/" class="sidebar-link">View的绘制活动图</a></li><li><a href="/rat-summ/pages/5ed209/" class="sidebar-link">View事件分发活动图</a></li><li><a href="/rat-summ/pages/462233/" class="sidebar-link">View中draw子流程活动图</a></li><li><a href="/rat-summ/pages/33d189/" class="sidebar-link">消息处理机制时序图</a></li><li><a href="/rat-summ/pages/2963bb/" class="sidebar-link">消息处理机制相关类关系类图</a></li></ul></section></li></ul></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-33863c7e><div class="articleInfo" data-v-33863c7e><ul class="breadcrumbs" data-v-33863c7e><li data-v-33863c7e><a href="/rat-summ/" title="首页" class="iconfont icon-home router-link-active" data-v-33863c7e></a></li> <li data-v-33863c7e><span data-v-33863c7e>《技能记录》</span></li> <li data-v-33863c7e><span data-v-33863c7e>node</span></li> <li data-v-33863c7e><span data-v-33863c7e>基础</span></li></ul> <div class="info" data-v-33863c7e><div title="作者" class="author iconfont icon-touxiang" data-v-33863c7e><a href="https://github.com/samyzh" target="_blank" title="作者" class="beLink" data-v-33863c7e>samy</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-33863c7e><a href="javascript:;" data-v-33863c7e>2020-08-24</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">
          npm常用命令操作
        </h1>  <div class="theme-vdoing-content content__default"><h2 id="npm命令"><a href="#npm命令" class="header-anchor">#</a> npm命令</h2> <h3 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h3> <ul><li>npm  install/uninstall/</li> <li>npm list -g --depth 0. 查看全局安装过的包</li></ul> <h3 id="简写"><a href="#简写" class="header-anchor">#</a> 简写</h3> <ul><li>安装     install   i</li> <li>测试     test    t</li> <li>帮助     --help   -h</li> <li>全局     -global   -g</li> <li>保存依赖   --save   -S</li> <li>保存为开发依赖 --save-dev -D</li></ul> <blockquote><ul><li>在 package.json 文件里面提现出来的区别就是，使用 --save-dev 安装的 插件，被写入到 devDependencies 对象里面去，而使用 --save 安装的插件，责被写入到 dependencies 对象里面去。</li> <li>devDependencies  里面的插件只用于开发环境，不用于生产环境，而 dependencies  是需要发布到生产环境的。</li></ul></blockquote> <h4 id="npm-init参数"><a href="#npm-init参数" class="header-anchor">#</a> npm init参数</h4> <ul><li>init --yes   init -y</li> <li>init --force  init -f</li></ul> <h4 id="npm-install-参数"><a href="#npm-install-参数" class="header-anchor">#</a> npm install 参数</h4> <ul><li><p>npm i module_name  -S  = &gt;  npm install module_name --save     dependencies 对象</p></li> <li><p>npm i module_name  -D  =&gt; npm install module_name --save-dev  devDependencies 对象</p></li> <li><p>npm i module_name  -g  全局安装</p></li></ul> <h3 id="安装包"><a href="#安装包" class="header-anchor">#</a> 安装包</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> lodash <span class="token comment"># sinopia发现本地没有 lodash包,就会从 官方镜像下载</span>
<span class="token function">npm</span> --loglevel info <span class="token function">install</span> lodash  <span class="token comment"># 设置loglevel 可查看下载包时的详细请求信息</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="安装源设置"><a href="#安装源设置" class="header-anchor">#</a> 安装源设置</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> --registry https://registry.npm.taobao.org <span class="token function">install</span> lodash <span class="token comment"># 临时使用淘宝源</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org <span class="token comment"># 全局配置切换到淘宝源</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry http://www.npmjs.org <span class="token comment"># 全局配置切换到官方源</span>
<span class="token function">npm</span> info lodash <span class="token comment">#检测是否切换到了淘宝源</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="npm-i命令"><a href="#npm-i命令" class="header-anchor">#</a> npm i命令</h3> <p><strong>查阅资料得知，自npm 5.0版本发布以来，npm i的规则发生了三次变化。</strong></p> <p><strong>1、npm 5.0.x 版本，不管package.json怎么变，npm i 时都会根据lock文件下载</strong></p> <p>package-lock.json file not updated after package.json file is changed · Issue #16866 · npm/npm</p> <p>这个 issue 控诉了这个问题，明明手动改了package.json，为啥不给我升级包！然后就导致了5.1.0的问题...</p> <p><strong>2、5.1.0版本后 npm install 会无视lock文件 去下载最新的npm</strong></p> <p>然后有人提了这个issue why is package-lock being ignored? · Issue #17979 · npm/npm</p> <p>控诉这个问题，最后演变成5.4.2版本后的规则。</p> <p><strong>3、5.4.2版本后 why is package-lock being ignored? · Issue #17979 · npm/npm</strong></p> <p>大致意思是，如果改了package.json，且package.json和lock文件不同，那么执行<code>npm i</code>时npm会根据package中的版本号以及语义含义去下载最新的包，并更新至lock。</p> <p>如果两者是同一状态，那么执行<code>npm i</code>都会根据lock下载，不会理会package实际包的版本是否有新。</p> <h2 id="npm-配置"><a href="#npm-配置" class="header-anchor">#</a> npm 配置</h2> <p><code>npm</code>的配置操作可以帮助我们预先设定好<code>npm</code>对项目的行为动作，也可以让我们预先定义好一些配置项以供项目中使用。所以了解<code>npm</code>的配置机制也是很有必要。</p> <h3 id="优先级"><a href="#优先级" class="header-anchor">#</a> 优先级</h3> <p><code>npm</code>可以从不同的来源获取其配置值，按优先级从高到低的顺序排序：</p> <h4 id="命令行"><a href="#命令行" class="header-anchor">#</a> 命令行</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run serve --params<span class="token operator">=</span><span class="token number">123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>执行上述命令时，会将配置项<code>params</code>的值设为<code>123</code>，通过<code>process.env.npm_config_params</code>可以访问其配置值。这个时候的<code>params</code>配置值将覆盖所有其他来源存在的<code>params</code>配置值。</p> <h4 id="env-环境变量"><a href="#env-环境变量" class="header-anchor">#</a> env 环境变量</h4> <p>如果<code>env</code>环境变量中存在以<code>npm_config_</code>为前缀的环境变量，则会被识别为<code>npm</code>的配置属性。比如在<code>env</code>环境变量中设置<code>npm_config_package_lock</code>变量：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">npm_config_package_lock</span><span class="token operator">=</span>false // 修改的是内存中的变量，只对当前终端有效
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这时候执行<code>npm install</code>，<code>npm</code>会从环境变量中读取到这个配置项，从而不会生成<code>package-lock.json</code>文件。</p> <blockquote><p>查看某个环境变量：<code>echo $NODE_ENV</code>
删除某个环境变量：<code>unset NODE_ENV</code></p></blockquote> <h4 id="npmrc-文件"><a href="#npmrc-文件" class="header-anchor">#</a> npmrc 文件</h4> <p>通过修改 <a href="https://docs.npmjs.com/files/npmrc" target="_blank" rel="noopener noreferrer">npmrc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 文件可以直接修改配置。系统中存在多个<code>npmrc</code>文件，这些<code>npmrc</code>文件被访问的优先级从高到低的顺序为：</p> <ul><li><p>项目级的<code>.npmrc</code>文件</p> <p>只作用在本项目下。在其他项目中，这些配置不生效。通过创建这个<code>.npmrc</code>文件可以统一团队的<code>npm</code>配置规范。</p></li> <li><p>用户级的<code>.npmrc</code>文件</p> <p><code>mac</code>下的地址为<code>~/.npmrc</code>。（<code>npm config get userconfig</code>可以看到存放的路径）</p></li> <li><p>全局级的<code>npmrc</code>文件</p> <p><code>mac</code>下的地址为<code>$PREFIX/etc/npmrc</code>。（<code>npm config get globalconfig</code>可以看到存放的路径）</p></li> <li><p><code>npm</code>内置的<code>npmrc</code>文件</p> <p>这是一个不可更改的内置配置文件，为了维护者以标准和一致的方式覆盖默认配置。<code>mac</code>下的地址为<code>/path/to/npm/npmrc</code>。</p></li></ul> <blockquote><h4 id="npmrc参照-npm-ini-格式编写。"><a href="#npmrc参照-npm-ini-格式编写。" class="header-anchor">#</a> .npmrc参照 npm/ini 格式编写。</h4></blockquote> <h4 id="默认配置"><a href="#默认配置" class="header-anchor">#</a> 默认配置</h4> <p>通过<code>npm config ls -l</code>查看<code>npm</code>内部的默认配置参数。如果命令行、环境变量、所有配置文件都没有配置参数，则使用默认参数值。</p> <h3 id="npm-config-指令【推荐】"><a href="#npm-config-指令【推荐】" class="header-anchor">#</a> npm config 指令【推荐】</h3> <p><code>npm</code>提供了几个 <a href="https://docs.npmjs.com/cli/config" target="_blank" rel="noopener noreferrer">npm config<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 指令来进行用户级和全局级配置：</p> <h4 id="set"><a href="#set" class="header-anchor">#</a> set</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> config <span class="token builtin class-name">set</span> <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span> <span class="token punctuation">[</span>-g<span class="token operator">|</span>--global<span class="token punctuation">]</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry <span class="token operator">&lt;</span>url<span class="token operator">&gt;</span>  <span class="token comment"># 指定下载 npm 包的来源，默认为 https://registry.npmjs.org/ ，可以指定私有源</span>

<span class="token function">npm</span> config <span class="token builtin class-name">set</span> prefix <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>  <span class="token comment"># prefix 参数指定全局安装的根目录</span>
<span class="token comment"># 配置 prefix 参数后，当再对包进行全局安装时，包会被安装到如下位置：</span>
<span class="token comment"># Mac 系统：{prefix}/lib/node_modules</span>
<span class="token comment"># Windows 系统：{prefix}/node_modules</span>
<span class="token comment"># 把可执行文件链接到如下位置：</span>
<span class="token comment"># Mac 系统：{prefix}/bin</span>
<span class="token comment"># Windows 系统：{prefix}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>使用<code>-g|--global</code>标志修改或新增全局级配置，不使用的话修改或者新增用户级配置（相应级别的<code>.npmrc</code>文件会更新）。</p> <p>如果<code>key</code>不存在，则会新增到配置中。如果省略<code>value</code>，则<code>key</code>会被设置成<code>true</code>。</p> <p>还可以覆盖<code>package.json</code>中<code>config</code>字段的值：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#package.json</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;foo&quot;</span>,
  <span class="token string">&quot;config&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span> <span class="token string">&quot;port&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;8080&quot;</span> <span class="token punctuation">}</span>,
  <span class="token string">&quot;scripts&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span> <span class="token string">&quot;start&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;node server.js&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment"># server.js</span>
<span class="token comment">#console.log(process.env.npm_package_config_port)</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> foo:port <span class="token number">8000</span>  <span class="token comment"># 打印8000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="get"><a href="#get" class="header-anchor">#</a> get</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> config get <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span>
<span class="token function">npm</span> config get prefix  <span class="token comment"># 获取 npm 的全局安装路径</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>按照配置优先级，获取指定配置项的值。</p> <h4 id="delete"><a href="#delete" class="header-anchor">#</a> delete</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> config delete <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>npm</code>官网上说可以删除所有配置文件中指定的配置项，但经实验无法删除项目级的<code>.npmrc</code>文件里指定的配置项。</p> <h4 id="list"><a href="#list" class="header-anchor">#</a> list</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> config list <span class="token punctuation">[</span>-l<span class="token punctuation">]</span> <span class="token punctuation">[</span>--json<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>加上<code>-l</code>或者<code>--json</code>查看所有的配置项，包括默认的配置项。不加的话，不能查看默认的配置项。</p> <h4 id="edit"><a href="#edit" class="header-anchor">#</a> edit</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> config edit <span class="token punctuation">[</span>-g<span class="token operator">|</span>--global<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在编辑器中打开配置文件。使用<code>-g|--global</code>标志编辑全局级配置和默认配置，不使用的话编辑用户级配置和默认配置。</p> <blockquote><p>参考 <a href="https://docs.npmjs.com/misc/config" target="_blank" rel="noopener noreferrer">npm config<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 来获取更多的默认配置。</p></blockquote> <h2 id="npx命令行开发方式"><a href="#npx命令行开发方式" class="header-anchor">#</a> npx命令行开发方式</h2> <p>npm 从5.2版开始，增加了 npx 命令，react-native也在0.61版本文档中推荐使用npx来创建项目。</p> <h4 id="作用"><a href="#作用" class="header-anchor">#</a> 作用</h4> <ul><li>运行的时候，会到node_modules/.bin路径和环境变量$PATH里面，检查命令是否存在。</li> <li>npx 还能避免全局安装的模块，npx 将包下载到一个临时目录，使用以后再删除。比如我们想启动一个web服务，只需在根目录下npx http-server。</li> <li>可以指定某个版本的 Node 运行脚本。某些场景下，这个方法用来切换 Node 版本，要比 nvm 那样的版本管理器方便一些。</li> <li>npx 还可以执行 GitHub 上面的模块源码。</li></ul> <h2 id="npm-工程管理【推荐】"><a href="#npm-工程管理【推荐】" class="header-anchor">#</a> npm 工程管理【推荐】</h2> <h3 id="项目版本号管理"><a href="#项目版本号管理" class="header-anchor">#</a> 项目版本号管理</h3> <p><code>package.json</code>中的<code>version</code>字段代表的是该项目的版本号。每当项目发布新版本时，需要将<code>version</code>字段进行相应的更新以便后期维护。虽然可以手动的修改<code>vsersion</code>字段，但是为了整个发布过程的自动化，尽量使用 <a href="https://docs.npmjs.com/cli/version" target="_blank" rel="noopener noreferrer">npm version<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 指令来自动更新<code>version</code>：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> version <span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token number">1.2</span>.3  <span class="token comment"># 显示设置版本号为 1.2.3 </span>
<span class="token function">npm</span> version major  <span class="token comment"># 大版本号加 1，其余版本号归 0</span>
<span class="token function">npm</span> version minor  <span class="token comment"># 小版本号加 1，修订号归 0</span>
<span class="token function">npm</span> version patch  <span class="token comment"># 修订号加 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>显示的设置版本号时，版本号必须符合<code>semver</code>规范，允许在版本号前加上个<code>v</code>标识。</p></blockquote> <p>如果不想让此次更新正式发布，还可以创建预发布版本：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 当前版本号为 1.2.3</span>
<span class="token function">npm</span> version prepatch  <span class="token comment"># 版本号变为 1.2.4-0，也就是 1.2.4 版本的第一个预发布版本</span>
<span class="token function">npm</span> version preminor  <span class="token comment"># 版本号变为 1.3.0-0，也就是 1.3.0 版本的第一个预发布版本</span>
<span class="token function">npm</span> version premajor  <span class="token comment"># 版本号变为 2.0.0-0，也就是 2.0.0 版本的第一个预发布版本</span>
<span class="token function">npm</span> version prerelease  <span class="token comment"># 版本号变为 2.0.0-1，也就是使预发布版本号加一</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>在<code>git</code>环境中，执行<code>npm version</code>修改完版本号以后，还会默认执行<code>git add</code>-&gt;<code>git commit</code>-&gt;<code>git tag</code>操作</strong>：</p> <p><img src="data:image/png;base64,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" alt="img"></p> <p>其中<code>commit message</code>默认是自动修改完的版本号，可以通过添加<code>-m/--message</code>选项来自定义<code>commit message</code>：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> version xxx -m <span class="token string">&quot;upgrade to %s for reasons&quot;</span>  <span class="token comment"># %s 会自动替换为新版本号</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>比如执行<code>npm version minor -m &quot;feat(version): upgrade to %s for reasons&quot;</code>后：</p> <p><img src="data:image/png;base64,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" alt="img"></p> <p>如果<code>git</code>工作区还有未提交的修改，<code>npm version</code>将会执行失败，可以加上<code>-f/--force</code>后缀来强制执行。</p> <p>如果不想让<code>npm version</code>指令影响你的<code>git</code>仓库，可以在指令中使用<code>--no-git-tag-version</code>参数：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> --no-git-tag-version version xxx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果想默认不影响你的<code>git</code>仓库，可以在<code>npm</code>设置中禁止：【要点】</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> config <span class="token builtin class-name">set</span> git-tag-version <span class="token boolean">false</span>  <span class="token comment"># 不自动打 tag</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> commit-hooks <span class="token boolean">false</span>     <span class="token comment"># 不自动 commit</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="模块-tag-管理"><a href="#模块-tag-管理" class="header-anchor">#</a> 模块 tag 管理</h3> <p>不经常发布包的同学可能对模块 <a href="https://docs.npmjs.com/cli/dist-tag" target="_blank" rel="noopener noreferrer">tag<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 概念不是很清楚。以<code>vue</code>为例，首先执行<code>npm dist-tag ls vue</code>查看<code>vue</code>包的<code>tag</code>：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>beta: <span class="token number">2.6</span>.0-beta.3
csp: <span class="token number">1.0</span>.28-csp
latest: <span class="token number">2.6</span>.10
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上面列出的<code>beta</code>、<code>csp</code>、<code>latest</code>就是<code>tag</code>。每个<code>tag</code>对应了一个版本。</p> <p>那<code>tag</code>到底有什么用呢？<strong><code>tag</code>类似于<code>git</code>里面分支的概念，发布者可以在指定的<code>tag</code>上发布版本，而使用者可以选择指定的<code>tag</code>来安装包。不同的标签下的版本之间互不影响，这在发布者发布预发布版本包和使用者尝鲜预发布版本包的同时，不影响到正式版本</strong>。</p> <p>**在发布包的时候执行<code>npm publish</code>默认会打上<code>latest</code>这个<code>tag</code>，实际上是执行了<code>npm publish --tag latest</code>。**而在安装包的时候执行<code>npm install xxx</code>则会默认下载<code>latest</code>这个<code>tag</code>下面的最新版本，实际上是执行了<code>npm install xxx@latest</code>。当然，我们也可以自定义<code>tag</code>：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 当前版本为1.0.1</span>
<span class="token function">npm</span> version prerelease  <span class="token comment"># 1.0.2-0</span>
<span class="token function">npm</span> publish --tag beta
<span class="token function">npm</span> dist-tag <span class="token function">ls</span> xxx  <span class="token comment"># # beta: 1.0.2-0</span>
<span class="token function">npm</span> <span class="token function">install</span> xxx@beta  <span class="token comment"># 下载beta版本 1.0.2-0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>当<code>prerelease</code>版本已经稳定了，可以将<code>prerelease</code>版本设置为稳定版本：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> dist-tag <span class="token function">add</span> xxx@1.0.2-0 latest
<span class="token function">npm</span> dist-tag <span class="token function">ls</span> xxx  <span class="token comment"># latest: 1.0.2-0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="域级包管理"><a href="#域级包管理" class="header-anchor">#</a> 域级包管理</h3> <p>细心的同学会发现，在<code>package.json</code>中的依赖有两种形式：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token string">&quot;devDependencies&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;@commitlint/cli&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^7.2.1&quot;</span>,
  <span class="token string">&quot;commitizen&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^3.0.4&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>其中以<code>@</code>开头的包名，是一个域级包（<a href="https://docs.npmjs.com/misc/scope#publishing-public-scoped-packages-to-the-public-npm-registry" target="_blank" rel="noopener noreferrer">scoped package<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>），这种域级包的作用是<strong>将一些<code>packages</code>集中在一个命名空间下，一方面可以集中管理，一方面可以防止与别的包产生命名冲突。</strong></p> <p>要发布域级包，<strong>首先要在项目的<code>package.json</code>的<code>name</code>属性中添加<code>scope</code>相关的声明，可以通过指令添加：</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> init --scope<span class="token operator">=</span>scopeName -y
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>package.json</code>变为：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;@scopeName/package&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>可以将用户名作为域名，也可以将组织名作为域名。</p></blockquote> <p>由于用<code>@</code>声明了该包，<code>npm</code>会默认将此包认定为私有包，而在<code>npm</code>上托管私有包是需要收费的，所以为了避免发布私有包，可以在发布时添加<code>--accss=public</code>参数告知<code>npm</code>这不是一个私有包：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> publish --access<span class="token operator">=</span>public
<span class="token comment">#  &quot;private&quot;: false,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>域级包不一定就是私有包，但是私有包一定是一个域级包。</p></blockquote> <p>同时，在安装域级包时需要按照域级包全名来安装：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @scopeName/package
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="node-modules-目录结构"><a href="#node-modules-目录结构" class="header-anchor">#</a> node_modules 目录结构</h2> <p>一个项目开发、上线所依赖的插件包都存放在<code>node_modules</code>中。虽然在实际开发中无需关注这个目录里面的文件结构细节，但了解<code>node_modules</code>中的内容可以帮助我们更好的理解<code>npm</code>组织这些文件的机制。</p> <p>假设项目<code>App</code>中有如下三个依赖：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    A<span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
    B<span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
    C<span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>A</code>、<code>B</code>、<code>C</code>三个模块又有如下依赖：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>A@<span class="token number">1.0</span>.<span class="token number">0</span> -&gt; D@<span class="token number">1.0</span>.<span class="token number">0</span>
B@<span class="token number">1.0</span>.<span class="token number">0</span> -&gt; D@<span class="token number">2.0</span>.<span class="token number">0</span>
C@<span class="token number">1.0</span>.<span class="token number">0</span> -&gt; D@<span class="token number">1.0</span>.<span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="npm-2-x-嵌套结构"><a href="#npm-2-x-嵌套结构" class="header-anchor">#</a> npm 2.x - 嵌套结构</h3> <p><code>npm 2.x</code>安装依赖方式比较简单直接，以递归的方式，按照包依赖的树形结构下载填充本地目录结构，也就是说每个包都会将该包的依赖安装到当前包所在的<code>node_modules</code>目录中。</p> <p>执行<code>npm install</code>后，项目<code>App</code>的<code>node_modules</code>会变成如下目录结构：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>├── node_modules
│   ├── A@<span class="token number">1.0</span>.<span class="token number">0</span>
│   │   └── node_modules
│   │   │   └── D@<span class="token number">1.0</span>.<span class="token number">0</span>
│   ├── B@<span class="token number">1.0</span>.<span class="token number">0</span>
│   │   └── node_modules
│   │   │   └── D@<span class="token number">2.0</span>.<span class="token number">0</span>
│   └── C@<span class="token number">1.0</span>.<span class="token number">0</span>
│   │   └── node_modules
│   │   │   └── D@<span class="token number">1.0</span>.<span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>很显然这样的依赖组织结构，有如下优点：</p> <ul><li>层级结构明显</li> <li>简单的实现了多版本兼容</li> <li>保证了对依赖包无论是安装还是删除都会有统一的行为和结构</li></ul> <p>但是缺点也一样很明显：</p> <ul><li>可能造成相同模块大量冗余问题</li> <li>可能造成目录结构嵌套比较深的问题</li></ul> <h3 id="npm-3-x-扁平结构"><a href="#npm-3-x-扁平结构" class="header-anchor">#</a> npm 3.x - 扁平结构</h3> <p><code>npm 3.x</code>则采用了扁平化的结构来安装组织<code>node_modules</code>。也就是在执行<code>npm install</code>的时候，按照<code>package.json</code> 里依赖的顺序依次解析，<strong>遇到新的包就把它安装在第一级目录，后续安装如果遇到一级目录已经存在的包，会先按照约定版本判断版本，如果符合版本约定则忽略，否则会按照<code>npm 2.x</code>的方式依次挂在依赖包目录下</strong>。</p> <p>还以项目<code>App</code>为例，在<code>npm 3.x</code>环境下，执行<code>npm install</code>后，<code>node_modules</code>会变成如下目录结构：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>├── node_modules
│   ├── A@<span class="token number">1.0</span>.<span class="token number">0</span>
│   ├── D@<span class="token number">1.0</span>.<span class="token number">0</span>
│   ├── B@<span class="token number">1.0</span>.<span class="token number">0</span>
│   │   └── node_modules
│   │   │   └── D@<span class="token number">2.0</span>.<span class="token number">0</span>
│   └── C@<span class="token number">1.0</span>.<span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>模块的安装次序决定了<code>node_modules</code>中的目录结构，<code>npm</code>会优先将模块安装在根目录下的<code>node_modules</code>中。</p></blockquote> <p>再在项目中安装模块<code>E@1.0.0</code>（依赖于模块<code>D@2.0.0</code>），目录结构变为：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>├── node_modules
│   ├── A@<span class="token number">1.0</span>.<span class="token number">0</span>
│   ├── D@<span class="token number">1.0</span>.<span class="token number">0</span>
│   ├── B@<span class="token number">1.0</span>.<span class="token number">0</span>
│   │   └── node_modules
│   │   │   └── D@<span class="token number">2.0</span>.<span class="token number">0</span>
│   └── C@<span class="token number">1.0</span>.<span class="token number">0</span>
│   ├── E@<span class="token number">1.0</span>.<span class="token number">0</span>
│   │   └── node_modules
│   │   │   └── D@<span class="token number">2.0</span>.<span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><code>B</code>、<code>E</code>模块下都包含了依赖的模块<code>D@2.0.0</code>，存在代码冗余的情况。</p> <p>再在项目中安装模块<code>F@1.0.0</code>（依赖于模块<code>D@1.0.0</code>）。由于<code>D@1.0.0</code>已经存在于项目根目录下的<code>node_modules</code> 下，所以在安装<code>F</code>模块的时候，无需再在其依赖包中安装<code>D@1.0.0</code>模块，目录结构变为：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>├── node_modules
│   ├── A@<span class="token number">1.0</span>.<span class="token number">0</span>
│   ├── D@<span class="token number">1.0</span>.<span class="token number">0</span>
│   ├── B@<span class="token number">1.0</span>.<span class="token number">0</span>
│   │   └── node_modules
│   │   │   └── D@<span class="token number">2.0</span>.<span class="token number">0</span>
│   └── C@<span class="token number">1.0</span>.<span class="token number">0</span>
│   ├── E@<span class="token number">1.0</span>.<span class="token number">0</span>
│   │   └── node_modules
│   │   │   └── D@<span class="token number">2.0</span>.<span class="token number">0</span>
│   └── F@<span class="token number">1.0</span>.<span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>从以上结构可以看出，<code>npm 3.x</code>并没有完美的解决<code>npm 2.x</code>中的问题，甚至还会退化到<code>npm 2.x</code>的行为。</p> <p>为了解决目录中存在很多副本的情况，（在<code>A</code>、<code>C</code>模块的依赖模块<code>D</code>升级到<code>2.0.0</code>前提下）<strong>可以通过<code>npm dedupe</code>指令把所有二级的依赖模块<code>D@2.0.0</code>重定向到一级目录下</strong>：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>├── node_modules
│   ├── A@1.0.0
│   ├── D@2.0.0
│   ├── B@1.0.0
│   └── C@1.0.0
│   ├── E@1.0.0
│   └── F@1.0.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>node_modules路径查找机制：<strong>模块再找对应的依赖包时，<code>nodejs</code>会尝试从当前模块所在目录开始，尝试在它的<code>node_modules</code> 文件夹里加载相应模块，如果没有找到，那么就再向上一级目录移动，直到全局安装路径中的<code>node_modules</code>为止。</strong></p></blockquote> <h3 id="npm-5-x-package-lock-json"><a href="#npm-5-x-package-lock-json" class="header-anchor">#</a> npm 5.x - package-lock.json</h3> <p>从<code>npm 5.x</code>开始，<strong>安装组织<code>node_modules</code>和<code>npm 3.x</code>一样采用了扁平化的方式，最大的变化是增加了 <a href="https://docs.npmjs.com/files/package-lock.json" target="_blank" rel="noopener noreferrer">package-lock.json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 文件。</strong></p> <p><code>npm</code>为了让开发者<strong>在安全的前提下使用最新的依赖包</strong>，在<code>package.json</code>中通常做了锁定大版本的操作，这样在每次<code>npm install</code>的时候都会拉取依赖包大版本下的最新的版本。<strong>这种机制最大的一个缺点就是当有依赖包有小版本更新时，可能会出现协同开发者的依赖包不一致的问题。</strong></p> <p><code>package-lock.json</code>文件精确描述了<code>node_modules</code> 目录下所有的包的树状依赖结构，每个包的版本号都是完全精确的。</p> <p>以<code>sass-loader</code>在<code>package-lock.json</code>中为例：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;sass-loader&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7.1.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;resolved&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://registry.npm.taobao.org/sass-loader/download/sass-loader-7.1.0.tgz&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;integrity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sha1-Fv1ROMuLQkv4p1lSihly1yqtBp0=&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;requires&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;clone-deep&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;loader-utils&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lodash.tail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.1.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;neo-async&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.5.0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;pify&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;semver&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.5.0&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;pify&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3.0.0&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;resolved&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://registry.npm.taobao.org/pify/download/pify-3.0.0.tgz&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;integrity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sha1-5aSs0sEB/fPZpNB/DbxNtJ3SgXY=&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><code>package-lock.json</code>的详细描述主要由<code>version</code>、<code>resolved</code>、<code>integrity</code>、<code>dev</code>、<code>requires</code>、<code>dependencies</code>这几个字段构成：</p> <ul><li><code>version</code>：包唯一的版本号</li> <li><code>resolved</code>：安装源</li> <li><code>integrity</code>：表明包完整性的hash值（验证包是否已失效）</li> <li><code>dev</code>：如果为true，则此依赖关系仅是顶级模块的开发依赖关系或者是一个的传递依赖关系</li> <li><code>requires</code>：依赖包所需要的所有依赖项，对应依赖包<code>package.json</code>里<code>dependencies</code>中的依赖项</li> <li><code>dependencies</code>：依赖包<code>node_modules</code>中依赖的包，与顶层的<code>dependencies</code>一样的结构</li></ul> <p>在上面的<code>package-lock.json</code>文件中可以发现，在<code>requires</code>和<code>dependencies</code>中都存在<code>pify</code>依赖项。那我们顺便去<code>node_modules</code>里面探下究竟：</p> <ol><li>打开根目录的<code>node_modules</code>会发现安装了<code>sass-loader</code>所需要的所有依赖包，这些依赖包中除了<code>pify</code>以外，所有依赖包的大版本号都与<code>sass-loader</code>所需要的一致。</li> <li>到根目录的<code>node_modules</code>找到<code>pify</code>依赖包，发现版本为<code>4.0.1</code>。</li> <li>找到<code>sass-loader</code>项目依赖包，打开其<code>node_modules</code>发现其中也存在个<code>pify</code>依赖包，但版本为<code>3.0.0</code>。这个版本的<code>sass-loader</code>真正依赖的是这个版本的<code>pify</code>。</li></ol> <p>通过以上几个步骤，说明<code>package-lock.json</code>文件和<code>node_modules</code>目录结构是一一对应的，即项目目录下存在<code>package-lock.json</code>可以让每次安装生成的依赖目录结构保持相同。</p> <h4 id="package-lock-json版本管理"><a href="#package-lock-json版本管理" class="header-anchor">#</a> <code>package-lock.json</code>版本管理</h4> <p>在开发一个应用时，建议把<code>package-lock.json</code>文件提交到代码版本仓库，从而让你的团队成员、运维部署人员或<code>CI</code>系统可以在执行<code>npm install</code>时安装的依赖版本都是一致的。</p> <p>但是在开发一个库时，则不应把<code>package-lock.json</code>文件发布到仓库中。实际上，<code>npm</code>也默认不会把<code>package-lock.json</code>文件发布出去。之所以这么做，是因为库项目一般是被其他项目依赖的，在不写死的情况下，就可以复用主项目已经加载过的包，而一旦库依赖的是精确的版本号那么可能会造成包的冗余。</p> <h2 id="npm-中的依赖包"><a href="#npm-中的依赖包" class="header-anchor">#</a> npm 中的依赖包</h2> <h3 id="依赖包分类"><a href="#依赖包分类" class="header-anchor">#</a> 依赖包分类</h3> <p>在 <code>node</code> 中其实总共有5种依赖：</p> <ul><li><strong>dependencies - 业务依赖</strong></li> <li><strong>devDependencies - 开发依赖</strong></li> <li><strong>peerDependencies - 同伴依赖</strong></li> <li><strong>bundledDependencies / bundleDependencies - 打包依赖</strong></li> <li><strong>optionalDependencies - 可选依赖</strong></li></ul> <p>作为<code>npm</code>的使用者，我们<strong>常用的依赖是<code>dependencies</code>和<code>devDependencies</code>，剩下三种依赖则是作为包的发布者才会使用到的字段</strong>。</p> <h4 id="配置规则"><a href="#配置规则" class="header-anchor">#</a> 配置规则</h4> <p>在介绍几种依赖配置之前，首先我们来看一下依赖的配置规则，你看到的依赖包配置可能是下面这样的：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code> <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;antd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ant-design/ant-design#4.0.0-alpha.8&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;axios&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.2.0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;test-js&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file:../test&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;test2-js&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://cdn.com/test2-js.tar.gz&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;core-js&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.1.5&quot;</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>依赖配置遵循下面几种配置规则：</p> <ul><li><div class="language- line-numbers-mode"><pre class="language-text"><code>依赖包名称:VERSION
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>VERSION</code>是一个遵循<code>SemVer</code>规范的版本号配置，<code>npm install</code> 时将到npm服务器下载符合指定版本范围的包。</li></ul></li> <li><div class="language- line-numbers-mode"><pre class="language-text"><code>依赖包名称:DWONLOAD_URL
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>DWONLOAD_URL</code> 是一个可下载的<code>tarball</code>压缩包地址，模块安装时会将这个<code>.tar</code>下载并安装到本地。</li></ul></li> <li><div class="language- line-numbers-mode"><pre class="language-text"><code>依赖包名称:LOCAL_PATH
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>LOCAL_PATH</code> 是一个本地的依赖包路径，例如 <code>file:../pacakges/pkgName</code>。适用于你在本地测试一个<code>npm</code>包，不应该将这种方法应用于线上。</li></ul></li> <li><div class="language- line-numbers-mode"><pre class="language-text"><code>依赖包名称:GITHUB_URL
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>GITHUB_URL</code> 即 <code>github</code> 的 <code>username/modulename</code> 的写法，例如：<code>ant-design/ant-design</code>，你还可以在后面指定 <code>tag</code> 和 <code>commit id</code>。</li></ul></li> <li><div class="language- line-numbers-mode"><pre class="language-text"><code>依赖包名称:GIT_URL
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>GIT_URL</code> 即我们平时clone代码库的 <code>git url</code>，其遵循以下形式：</li></ul></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;protocol&gt;://[&lt;user&gt;[:&lt;password&gt;]@]&lt;hostname&gt;[:&lt;port&gt;][:][/]&lt;path&gt;[#&lt;commit-ish&gt; | #semver:&lt;semver&gt;]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其中 <code>protocal</code> 可以是以下几种形式：</p> <ul><li><code>git://github.com/user/project.git#commit-ish</code></li> <li><code>git+ssh://user@hostname:project.git#commit-ish</code></li> <li><code>git+ssh://user@hostname/project.git#commit-ish</code></li> <li><code>git+http://user@hostname/project/blah.git#commit-ish</code></li> <li><code>git+https://user@hostname/project/blah.git#commit-ish</code></li></ul> <p>比如：</p> <p>pkg配置的三种方式</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;bdpcloud&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file:../bdp-cloud-react&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;bdpcloud&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git+ssh://git@gitlab.xxx.com:xx-bdp/bdp-cloud-react.git#V6.5.0&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;bdpcloud&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.0.0-alpha.11&quot;</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>单独安装依赖</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i -S bdpcloud@git+ssh://git+ssh://git@gitlab.xxx.com:xx-bdp/bdp-cloud-react.git<span class="token comment">#V6.5.0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="dependencies"><a href="#dependencies" class="header-anchor">#</a> <strong>dependencies</strong></h4> <p>这种依赖在项目最终上线或者发布<code>npm</code>包时所需要，即其中的依赖项应该属于线上代码的一部分。比如框架<code>vue</code>，第三方的组件库<code>element-ui</code>等，这些依赖包都是必须装在这个选项里供生产环境使用。</p> <p>通过命令<code>npm install/i packageName -S/--save</code>把包装在此依赖项里。如果没有指定版本，直接写一个包的名字，则安装当前npm仓库中这个包的最新版本。如果要指定版本的，可以把版本号写在包名后面，比如<code>npm i vue@3.0.1 -S</code>。</p> <blockquote><p>从<code>npm 5.x</code>开始，<strong>可以不用手动添加<code>-S/--save</code>指令，直接执行<code>npm i packageName</code>把依赖包添加到<code>dependencies</code>中去。</strong></p></blockquote> <h4 id="devdependencies"><a href="#devdependencies" class="header-anchor">#</a> <strong>devDependencies</strong></h4> <p>这种依赖只在项目开发时所需要，即其中的依赖项不应该属于线上代码的一部分。比如构建工具<code>webpack</code>、<code>gulp</code>，预处理器<code>babel-loader</code>、<code>scss-loader</code>，测试工具<code>e2e</code>、<code>chai</code>等，这些都是辅助开发的工具包，无须在生产环境使用。</p> <p>通过命令<code>npm install/i -D/--save-dev</code>把包安装成开发依赖。如果想缩减安装包，可以使用命令<code>npm i --production</code>忽略开发依赖，只安装基本依赖，这通常在线上机器（或者<code>QA</code>环境）上使用。</p> <blockquote><p><strong>千万别以为只有在<code>dependencies</code>中的模块才会被一起打包，而在<code>devDependencies</code>中的不会！模块能否被打包，取决于项目里是否被引入了该模块！</strong></p></blockquote> <p>在业务项目中<code>dependencies</code>和<code>devDependencies</code>没有什么本质区别，只是单纯的一个规范作用，在执行<code>npm i</code>时两个依赖下的模块都会被下载；而在发布<code>npm</code>包的时候，包中的<code>dependencies</code>依赖项在安装该包的时候会被一起下载，<code>devDependencies</code>依赖项则不会。</p> <h4 id="peerdependencies"><a href="#peerdependencies" class="header-anchor">#</a> <strong>peerDependencies</strong></h4> <p>这种依赖的作用是<strong>提示宿主环境去安装插件在<code>peerDependencies</code>中所指定依赖的包，然后插件所依赖的包永远都是宿主环境统一安装的<code>npm</code>包，最终解决插件与所依赖包不一致的问题。</strong></p> <p>这句话听起来可能有点拗口，举个例子来给大家说明下。<code>element-ui@2.6.3</code>只是提供一套基于<code>vue</code>的<code>ui</code>组件库，但它要求宿主环境需要安装指定的<code>vue</code>版本，所以你可以看到<code>element</code>项目中的<code>package.json</code>中具有一项配置：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;peerDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.5.16&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>它要求宿主环境安装<code>3.0.0 &gt; vue@ &gt;= 2.5.16</code>的版本，也就是<code>element-ui</code>的运行依赖宿主环境提供的该版本范围的<code>vue</code>依赖包。</p> <p>在安装插件的时候，<code>peerDependencies</code>在<code>npm 2.x</code>和<code>npm 3.x</code>中表现不一样：</p> <ul><li><p>在<code>npm 2.x</code>中，安装包中<code>peerDependencies</code>所指定的依赖会随着<code>npm install packageName</code>一起被强制安装，并且<code>peerDependencies</code>中指定的依赖会安装在宿主环境中，所以不需要在宿主环境的<code>package.json</code>文件中指定对所安装包中<code>peerDependencies</code>内容的依赖。</p></li> <li><p>在<code>npm 3.x</code>中，不会再要求<code>peerDependencies</code>所指定的依赖包被强制安装，<code>npm 3.x</code>只会在安装结束后检查本次安装是否正确，如果不正确会给用户打印警告提示，比如提示用户有的包必须安装或者有的包版本不对等。</p> <blockquote><p>大白话：如果你安装我，那么你最好也要按照我的要求安装A、B和C。</p></blockquote></li></ul> <h4 id="optionaldependencies"><a href="#optionaldependencies" class="header-anchor">#</a> <strong>optionalDependencies</strong></h4> <p>某些场景下，依赖包可能不是强依赖的，这个依赖包的功能可有可无，当这个依赖包无法被获取到时，你希望 <code>npm install</code> 继续运行，而不会导致失败，你可以将这个依赖放到 <code>optionalDependencies</code> 中，注意 <code>optionalDependencies</code> 中的配置将会覆盖掉 <code>dependencies</code> 所以只需在一个地方进行配置。</p> <p>当然，引用 <code>optionalDependencies</code> 中安装的依赖时，一定要做好异常处理，否则在模块获取不到时会导致报错。</p> <p>这种依赖中的依赖项即使安装失败了，也不影响整个安装的过程。需要注意的是，如果一个依赖同时出现在<code>dependencies</code>和<code>optionalDependencies</code>中，那么<code>optionalDependencies</code>会获得更高的优先级，可能造成一些预期之外的效果，所以尽量要避免这种情况发生。</p> <blockquote><p>在实际项目中，如果某个包已经失效，我们通常会寻找它的替代者，或者换一个实现方案。不确定的依赖会增加代码判断和测试难度，所以这个依赖项还是尽量不要使用。</p></blockquote> <h4 id="bundleddependencies-bundledependencies"><a href="#bundleddependencies-bundledependencies" class="header-anchor">#</a> <strong>bundledDependencies / bundleDependencies</strong></h4> <p>和以上几个不同，<code>bundledDependencies</code> 的值是一个数组，数组里可以指定一些模块，这些模块将在这个包发布时被一起打包。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>  <span class="token property">&quot;bundledDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;package1&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;package2&quot;</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这种依赖跟<code>npm pack</code>打包命令有关。假设<code>package.json</code>中有如下配置：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;font-end&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;fe1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.3.2&quot;</span><span class="token punctuation">,</span>
    ...
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;fe2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bundledDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;fe1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;fe2&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>执行打包命令<code>npm pack</code>，会生成<code>front-end-1.0.0.tgz</code>压缩包，并且该压缩包中包含<code>fe1</code>和<code>fe2</code>两个安装包，这样使用者执行<code>npm install front-end-1.0.0.tgz</code>也会安装这两个依赖。</p> <blockquote><p><strong>在<code>bundledDependencies</code>中指定的依赖包，必须先在<code>dependencies</code>和<code>devDependencies</code>声明过，否则打包会报错。</strong></p></blockquote> <h3 id="依赖包版本号"><a href="#依赖包版本号" class="header-anchor">#</a> 依赖包版本号</h3> <p><code>npm</code>采用了<code>semver</code>规范作为依赖版本管理方案。</p> <p>按照<code>semver</code>的约定，一个<code>npm</code>依赖包的版本格式一般为：<strong>主版本号.次版本号.修订号</strong>（<code>x.y.z</code>），每个号的含义是：</p> <ul><li><p><strong>主版本号</strong>（也叫大版本，<code>major version</code>）</p> <p>大版本的改动很可能是一次颠覆性的改动，也就意味着可能存在与低版本不兼容的<code>API</code>或者用法，（比如 <code>vue 2 -&gt; 3</code>)。</p></li> <li><p><strong>次版本号</strong>（也叫小版本，<code>minor version</code>）</p> <p>小版本的改动应当兼容同一个大版本内的<code>API</code>和用法，因此应该让开发者无感。所以我们通常只说大版本号，很少会精确到小版本号。</p> <blockquote><p>如果大版本号是 0 的话，表示软件处于开发初始阶段，一切都可能随时被改变，可能每个小版本之间也会存在不兼容性。所以在选择依赖时，尽量避开大版本号是 0 的包。</p></blockquote></li> <li><p><strong>修订号</strong>（也叫补丁，<code>patch</code>）</p> <p>一般用于修复<code>bug</code>或者很细微的变更，也需要保持向前兼容。</p></li></ul> <p>常见的几个版本格式如下：</p> <ul><li><p><strong>&quot;1.2.3&quot;</strong></p> <p>表示精确版本号。任何其他版本号都不匹配。<strong>在一些比较重要的线上项目中，建议使用这种方式锁定版本。</strong></p></li> <li><p><strong>&quot;^1.2.3&quot;</strong></p> <p>表示兼容补丁和小版本更新的版本号。官方的定义是“<strong>能够兼容除了最左侧的非 0 版本号之外的其他变化</strong>”(Allows changes that do not modify the left-most non-zero digit in the [major, minor, patch] tuple)。这句话很拗口，举几个例子大家就明白了：</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>&quot;^1.2.3&quot; 等价于 &quot;&gt;= 1.2.3 &lt; 2.0.0&quot;。即只要最左侧的 &quot;1&quot; 不变，其他都可以改变。所以 &quot;1.2.4&quot;, &quot;1.3.0&quot; 都可以兼容。

&quot;^0.2.3&quot; 等价于 &quot;&gt;= 0.2.3 &lt; 0.3.0&quot;。因为最左侧的是 &quot;0&quot;，那么只要第二位 &quot;2&quot; 不变，其他的都兼容，比如 &quot;0.2.4&quot; 和 &quot;0.2.99&quot;。

&quot;^0.0.3&quot; 等价于 &quot;&gt;= 0.0.3 &lt; 0.0.4&quot;。大版本号和小版本号都为 &quot;0&quot; ，所以也就等价于精确的 &quot;0.0.3&quot;。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>从这几个例子可以看出，<code>^</code> 是一个兼具更新和安全的写法，但是对于大版本号为 1 和 0 的版本还是会有不同的处理机制的。</p></li> <li><p><strong>&quot;~1.2.3&quot;</strong></p> <p>表示只兼容补丁更新的版本号。关于 <code>~</code> 的定义分为两部分：<strong>如果列出了小版本号（第二位），则只兼容补丁（第三位）的修改；如果没有列出小版本号，则兼容第二和第三位的修改</strong>。我们分两种情况理解一下这个定义：</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>&quot;~1.2.3&quot; 列出了小版本号 &quot;2&quot;，因此只兼容第三位的修改，等价于 &quot;&gt;= 1.2.3 &lt; 1.3.0&quot;。

&quot;~1.2&quot; 也列出了小版本号 &quot;2&quot;，因此和上面一样兼容第三位的修改，等价于 &quot;&gt;= 1.2.0 &lt; 1.3.0&quot;。

&quot;~1&quot; 没有列出小版本号，可以兼容第二第三位的修改，因此等价于 &quot;&gt;= 1.0.0 &lt; 2.0.0&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>从这几个例子可以看出，<strong><code>~</code> 是一个比<code>^</code>更加谨慎安全的写法，而且<code>~</code>并不对大版本号 0 或者 1 区别对待</strong>，所以 &quot;~0.2.3&quot; 与 &quot;~1.2.3&quot; 是相同的算法。当首位是 0 并且列出了第二位的时候，两者是等价的，例如 &quot;~0.2.3&quot; 和 &quot;^0.2.3&quot;。</p></li> <li><p><strong>&quot;1.x&quot; 、&quot;1.X&quot;、1.*&quot;、&quot;1&quot;、&quot;*&quot;</strong></p> <p>表示使用通配符的版本号。x、X、* 和 （空） 的含义相同，都表示可以匹配任何内容。具体来说：</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>&quot;*&quot; 、&quot;x&quot; 或者 （空） 表示可以匹配任何版本。

&quot;1.x&quot;, &quot;1.*&quot; 和 &quot;1&quot; 表示匹配主版本号为 &quot;1&quot; 的所有版本，因此等价于 &quot;&gt;= 1.0.0 &lt; 2.0.0&quot;。

&quot;1.2.x&quot;, &quot;1.2.*&quot; 和 &quot;1.2&quot; 表示匹配版本号以 &quot;1.2&quot; 开头的所有版本，因此等价于 &quot;&gt;= 1.2.0 &lt; 1.3.0&quot;。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p><strong>&quot;1.2.3-alpha.1&quot;、&quot;1.2.3-beta.1&quot;、&quot;1.2.3-rc.1&quot;</strong></p> <p>带预发布关键词的版本号。先说说几个预发布关键词的定义：</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>alpha(α)：预览版，或者叫内部测试版；一般不向外部发布，会有很多bug；一般只有测试人员使用。

beta(β)：测试版，或者叫公开测试版；这个阶段的版本会一直加入新的功能；在alpha版之后推出。

rc(release candidate)：最终测试版本；可能成为最终产品的候选版本，如果未出现问题则可发布成为正式版本。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>以包开发者的角度来考虑这个问题：假设当前线上版本是 &quot;1.2.3&quot;，如果我作了一些改动需要发布版本 &quot;1.2.4&quot;，但我不想直接上线（因为使用 &quot;~1.2.3&quot; 或者 &quot;^1.2.3&quot; 的用户都会直接静默更新），这就需要使用预发布功能。因此我可能会发布 &quot;1.2.4-alpha.1&quot; 或者 &quot;1.2.4-beta.1&quot; 等等。</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>&quot;&gt;1.2.4-alpha.1&quot;表示接受 &quot;1.2.4-alpha&quot; 版本下所有大于 1 的预发布版本。因此 &quot;1.2.4-alpha.7&quot; 是符合要求的，但 &quot;1.2.4-beta.1&quot; 和 &quot;1.2.5-alpha.2&quot; 都不符合。此外如果是正式版本（不带预发布关键词），只要版本号符合要求即可，不检查预发布版本号，例如 &quot;1.2.5&quot;, &quot;1.3.0&quot; 都是认可的。

&quot;~1.2.4-alpha.1&quot; 表示 &quot;&gt;=1.2.4-alpha.1 &lt; 1.3.0&quot;。这样 &quot;1.2.5&quot;, &quot;1.2.4-alpha.2&quot; 都符合条件，而 &quot;1.2.5-alpha.1&quot;, &quot;1.3.0&quot; 不符合。

&quot;^1.2.4-alpha.1&quot; 表示 &quot;&gt;=1.2.4-alpha.1 &lt; 2.0.0&quot;。这样 &quot;1.2.5&quot;, &quot;1.2.4-alpha.2&quot;, &quot;1.3.0&quot; 都符合条件，而 &quot;1.2.5-alpha.1&quot;, &quot;2.0.0&quot; 不符合。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul> <p>版本号还有更多的写法，例如范围（<code>a - b</code>），大于等于号（<code>&gt;=</code>），小于等于号（<code>&lt;=</code>），或（<code>||</code>）等等，因为用的不多，这里不再展开。详细的文档可以参见<a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noopener noreferrer">语义化版本(semver)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。它同时也是一个 <code>npm</code> 包，可以用来比较两个版本号的大小，以及是否符合要求等。</p> <h3 id="依赖包版本管理"><a href="#依赖包版本管理" class="header-anchor">#</a> 依赖包版本管理</h3> <p><code>npm 2.x/3.x</code>已成为过去式，在<code>npm 5.x</code>以上环境下（版本最好在<code>5.6</code>以上，因为在<code>5.0 ~ 5.6</code>中间对<code>package-lock.json</code>的处理逻辑更新过几个版本，<strong><code>5.6</code>以上才开始稳定</strong>），管理项目中的依赖包版本你应该知道（以<code>^</code>版本为例，其他类型版本参照即可）：</p> <ol><li>在大版本相同的前提下，如果一个模块在<code>package.json</code>中的小版本要<strong>大于</strong><code>package-lock.json</code>中的小版本，则在执行<code>npm install</code>时，会将该模块更新到大版本下的最新的版本，并将版本号更新至<code>package-lock.json</code>。如果<strong>小于</strong>，则被<code>package-lock.json</code>中的版本锁定。</li></ol> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// package-lock.json 中原版本</span>
<span class="token property">&quot;clipboard&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.5.10&quot;</span><span class="token punctuation">,</span> 
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.6.10&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// package.json 中修改版本</span>
<span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;clipboard&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.5.12&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.5.6&quot;</span>
  ...
<span class="token punctuation">}</span>

<span class="token comment">// 执行完 npm install 后，package-lock.json 中</span>
<span class="token property">&quot;clipboard&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.7.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 更新到大版本下的最新版本</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.6.10&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 版本没发生改变</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><ul><li>如果一个模块在<code>package.json</code>和<code>package-lock.json</code>中的<strong>大版本不相同</strong>，则在执行<code>npm install</code>时，都将根据<code>package.json</code>中大版本下的最新版本进行更新，并将版本号更新至<code>package-lock.json</code>。</li></ul> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// package-lock.json 中原版本</span>
<span class="token property">&quot;clipboard&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.4&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// package.json 中修改版本</span>
<span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;clipboard&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.6.1&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// 执行完npm install后，package-lock.json 中</span>
<span class="token comment">// </span>
<span class="token property">&quot;clipboard&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.7.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 更新到大版本下的最新版本</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>如果一个模块在<code>package.json</code>中有记录，而在<code>package-lock.json</code>中无记录，执行<code>npm install</code>后，则会在<code>package-lock.json</code>生成该模块的详细记录。同理，一个模块在<code>package.json</code>中无记录，而在<code>package-lock.json</code>中有记录，执行<code>npm install</code>后，则会在<code>package-lock.json</code>删除该模块的详细记录。</li> <li>如果要更新某个模块大版本下的最新版本（<strong>升级小版本号</strong>），请执行如下命令：</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> update packageName <span class="token comment"># npm update 只更新顶层模块，而不更新依赖的依赖</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>如果要更新到指定版本号（<strong>升级大版本号</strong>），请执行如下命令：</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> packageName@x.x.x
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>卸载某个模块，请执行如下命令：</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> uninstall packageName
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>安装模块的确切版本：</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> packageName -D/S --save-exact  <span class="token comment"># 安装的版本号将会是精准的，版本号前面不会出现^~字符</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过上述的命令来管理依赖包，<code>package.json</code>和<code>package-lock.json</code>中的版本号都将会随之更新。</p> <blockquote><p>我们在升级/卸载依赖包的时候，<strong>尽量通过命令来实现，避免手动修改<code>package.json</code>中的版本号，尤其不要手动修改<code>package-lock.json</code>。</strong></p></blockquote> <h2 id="npm-scripts-脚本"><a href="#npm-scripts-脚本" class="header-anchor">#</a> npm scripts 脚本</h2> <p><code>package.json</code>中的 <a href="https://docs.npmjs.com/misc/scripts" target="_blank" rel="noopener noreferrer">scripts<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 字段可以用来自定义脚本命令，它的每一个属性，对应一段脚本。以<code>vue-cli3</code>为例：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service serve&quot;</span><span class="token punctuation">,</span>
  ...
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这样就可以通过<code>npm run serve</code>脚本代替<code>vue-cli-service serve</code>脚本来启动项目，而无需每次敲一遍这么冗长的脚本。</p> <blockquote><p><code>npm run</code>是<code>npm run-script</code>的缩写，一般都使用前者，但是后者可以更好地反应这个命令的本质。</p></blockquote> <h3 id="工作原理"><a href="#工作原理" class="header-anchor">#</a> 工作原理</h3> <h4 id="package-json-中的-bin-字段"><a href="#package-json-中的-bin-字段" class="header-anchor">#</a> package.json 中的 bin 字段</h4> <p><code>package.json</code>中的字段 <a href="https://docs.npmjs.com/files/package.json.html#bin" target="_blank" rel="noopener noreferrer">bin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 表示的是一个<strong>可执行文件到指定文件源的映射</strong>。通过<code>npm bin</code>指令显示当前项目的<code>bin</code>目录的路径。例如在<code>@vue/cli</code>的<code>package.json</code>中：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bin/vue.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果全局安装<code>@vue/cli</code>的话，<strong><code>@vue/cli</code>源文件会被安装在全局源文件安装目录（<code>/user/local/lib/node_modules</code>）下，而<code>npm</code>会在全局可执行<code>bin</code>文件安装目录（<code>/usr/local/bin</code>）下创建一个指向<code>/usr/local/lib/node_modules/@vue/cli/bin/vue.js</code>文件的名为<code>vue</code>的软链接</strong>，这样就可以直接在终端输入<code>vue</code>来执行相关命令。</p> <h4 id="path-环境变量"><a href="#path-环境变量" class="header-anchor">#</a> PATH 环境变量</h4> <p>在<code>terminal</code>中执行命令时，<strong>命令会在<code>PATH</code>环境变量里包含的路径中去寻找相同名字的可执行文件</strong>。局部安装的包只在<code>./node_modules/.bin</code>中注册了它们的可执行文件，不会被包含在<code>PATH</code>环境变量中，这个时候在<code>terminal</code>中输入命令将会报无法找到的错误。</p> <p>那为什么通过<code>npm run</code>可以执行局部安装的命令行包呢？</p> <p>是因为<strong>每当执行<code>npm run</code>时，会自动新建一个<code>Shell</code>，这个 <code>Shell</code>会将当前项目的<code>node_modules/.bin</code>的绝对路径加入到环境变量<code>PATH</code>中，执行结束后，再将环境变量<code>PATH</code>恢复原样</strong>。</p> <h3 id="用法指南"><a href="#用法指南" class="header-anchor">#</a> 用法指南</h3> <h4 id="传入参数"><a href="#传入参数" class="header-anchor">#</a> 传入参数</h4> <p>关于<code>scripts</code>中的参数，这里要多说几句。网上有很多不是很准确的说法，经过本人的反复试验，<code>node</code>处理<code>scripts</code>参数其实很简单，比如：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service serve&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;serve1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service --serve1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;serve2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service -serve2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;serve3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service serve --mode=dev --mobile -config build/example.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>除了第一个可执行的命令，以空格分割的任何字符串（除了一些shell的语法）都是参数，并且都能通过<code>process.argv</code>属性访问</strong>。</p> <blockquote><p><code>process.argv</code>属性返回一个数组，这个数组包含了启动<code>node</code>进程时的命令行参数。第一个元素为启动<code>node</code> 进程的可执行文件的绝对路径名<a href="http://nodejs.cn/api/process.html#process_process_execpath" target="_blank" rel="noopener noreferrer">process.execPath<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，第二个元素为当前执行的JavaScript文件路径。剩余的元素为其他命令行参数。</p></blockquote> <p>比如执行<code>npm run serve3</code>命令，<code>process.argv</code>的具体内容为：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span> '/usr/local/Cellar/node/<span class="token number">7.7</span>.1_1/bin/node'<span class="token punctuation">,</span>
  '/Users/mac/Vue-projects/hao-cli/node_modules/.bin/vue-cli-service'<span class="token punctuation">,</span>
  'serve'<span class="token punctuation">,</span>
  '--mode=dev'<span class="token punctuation">,</span>
  '--mobile'<span class="token punctuation">,</span>
  '-config'<span class="token punctuation">,</span>
  'build/example.js'<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>我们还可以通过命令行传参的形式来进行参数传递：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run serve --params  <span class="token comment"># 参数params将转化成process.env.npm_config_params = true</span>
<span class="token function">npm</span> run serve --params<span class="token operator">=</span><span class="token number">123</span> <span class="token comment"># 参数params将转化成process.env.npm_config_params = 123</span>
<span class="token function">npm</span> run serve -params  <span class="token comment"># 等同于--params参数</span>

<span class="token function">npm</span> run serve -- --params  <span class="token comment"># 将--params参数添加到process.env.argv数组中</span>
<span class="token function">npm</span> run serve params  <span class="token comment"># 将params参数添加到process.env.argv数组中</span>
<span class="token function">npm</span> run serve -- params  <span class="token comment"># 将params参数添加到process.env.argv数组中</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="多命令运行"><a href="#多命令运行" class="header-anchor">#</a> 多命令运行</h4> <p>有的项目在启动时可能需要同时执行多个任务，多个任务的执行顺序决定了项目的表现。</p> <h5 id="串行执行"><a href="#串行执行" class="header-anchor">#</a> 串行执行</h5> <p>串行执行，要求前一个任务执行成功以后才能执行下一个任务，使用<code>&amp;&amp;</code>符号来连接。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run script1 <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> run script2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>串行命令执行过程中，只要一个命令执行失败，则整个脚本终止。</p></blockquote> <h5 id="并行执行"><a href="#并行执行" class="header-anchor">#</a> 并行执行</h5> <p>并行执行，就是多个命令可以同时的平行执行，使用<code>&amp;</code>符号来连接。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run script1 <span class="token operator">&amp;</span> <span class="token function">npm</span> run script2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这两个符号是<code>Bash</code>的内置功能。此外，还可以使用第三方的任务管理器模块：<a href="https://github.com/paulpflug/script-runner" target="_blank" rel="noopener noreferrer">script-runner<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://github.com/mysticatea/npm-run-all" target="_blank" rel="noopener noreferrer">npm-run-all<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://github.com/mysticatea/npm-run-all" target="_blank" rel="noopener noreferrer">redrun<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h4 id="env-环境变量-2"><a href="#env-环境变量-2" class="header-anchor">#</a> env 环境变量</h4> <p>在执行<code>npm run</code>脚本时，<code>npm</code>会设置一些特殊的<code>env</code>环境变量。其中<code>package.json</code>中的所有字段，都会被设置为以<code>npm_package_</code> 开头的环境变量。比如<code>package.json</code>中有如下字段内容：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sh&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.1.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shenhao&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git+ssh://git@gitlab.com/xxxx/sh.git&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>可以通过<code>process.env.npm_package_name</code> 可以获取到<code>package.json</code>中<code>name</code>字段的值<code>sh</code>，也可以通过<code>process.env.npm_package_repository_type</code>获取到嵌套属性<code>type</code>的值<code>git</code>。</strong></p> <p>同时，<code>npm</code>相关的所有配置也会被设置为以<code>npm_config_</code>开头的环境变量。</p> <p>此外，还会设置一个比较特殊的环境变量<code>npm_lifecycle_event</code>，表示正在运行的脚本名称。比如执行<code>npm run serve</code> 的时候，<code>process.env.npm_lifecycle_event</code>值为<code>serve</code>，通过判断这个变量，可以将一个脚本使用在不同的<code>npm scripts</code>中。</p> <blockquote><p>这些环境变量只能在<code>npm run</code>的脚本执行环境内拿到，正常执行的<code>node</code>脚本是获取不到的。所以，不能直接通过<code>env $npm_package_name</code>的形式访问，但可以在<code>scripts</code>中定义脚本<code>&quot;scripts&quot;: {&quot;bundle&quot;: &quot;echo $npm_package_name&quot;}</code>来访问。</p></blockquote> <h4 id="指令钩子"><a href="#指令钩子" class="header-anchor">#</a> 指令钩子</h4> <p><strong>npm 安装相关钩子</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;preinstall&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;postinstall&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node node_modules/.bin/bower --allow-root install&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>在执行<code>npm scripts</code>命令（无论是自定义还是内置）时，都经历了<code>pre</code>和<code>post</code>两个钩子，在这两个钩子中可以定义某个命令执行前后的命令。</strong></p> <p>比如在执行<code>npm run serve</code>命令时，会依次执行<code>npm run preserve</code>、<code>npm run serve</code>、<code>npm run postserve</code>，所以可以在这两个钩子中自定义一些动作：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;preserve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xxxxx&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service serve&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;postserve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xxxxxx&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>当然，如果没有指定<code>preserve</code>、<code>postserve</code>，会默默的跳过。如果想要指定钩子，必须严格按照<code>pre</code>和<code>post</code>前缀来添加。</p> <p>上面提到过一个环境变量<code>process.env.npm_lifecycle_event</code>可以配合钩子来一起使用：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> event <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>npm_lifecycle_event

<span class="token keyword">if</span> <span class="token punctuation">(</span>event <span class="token operator">===</span> <span class="token string">'preserve'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Running the preserve task!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_event <span class="token operator">===</span> <span class="token string">'serve'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Running the serve task!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="npm-的几个实用技巧"><a href="#npm-的几个实用技巧" class="header-anchor">#</a> npm 的几个实用技巧</h2> <h3 id="自定义默认的-npm-init"><a href="#自定义默认的-npm-init" class="header-anchor">#</a> 自定义默认的 npm init</h3> <p>使用<code>npm init</code>初始化一个新的项目时会提示你去填写一些项目描述信息。如果觉得填写这些信息比较麻烦的话，可以使用<code>-y</code>标记表示接受<code>package.json</code>中的一些默认值：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> init -y
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>也可以设置初始化的默认值：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> config <span class="token builtin class-name">set</span> init-author-name <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> <span class="token comment"># 为npm init设置了默认的作者名，以后执行 npm init 的时候，package.json 的作者姓名字段就会自动写入预设的值。</span>
<span class="token comment"># 这些信息会存放在用户主目录的 ~/.npmrc 文件，使得用户不用每个项目都输入。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="查看-npm-脚本命令【推荐】"><a href="#查看-npm-脚本命令【推荐】" class="header-anchor">#</a> 查看 npm 脚本命令【推荐】</h3> <p>查看当前项目的所有<code>npm</code>脚本命令最直接的办法就是打开项目中的<code>package.json</code>文件并检查<code>scripts</code>字段。我们还可以使用不带任何参数的<code>npm run</code>命令查看：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="查看环境变量【推荐】"><a href="#查看环境变量【推荐】" class="header-anchor">#</a> 查看环境变量【推荐】</h3> <p>通过<code>env</code>查看当前的所有环境变量，而查看运行时的所有环境变量可以执行：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run <span class="token function">env</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-json line-numbers-mode"><pre class="language-json"><code>MONGODB_HOME=E<span class="token operator">:</span>\Program Files\MongoDB\Server\<span class="token number">3.4</span>
NODE=E<span class="token operator">:</span>\Program Files\nodejs\node.exe
NODE_EXE=E<span class="token operator">:</span>\Program Files\nodejs\\node.exe
NODE_PATH=.;E<span class="token operator">:</span>\Program Files\nodejs
NPM_CLI_JS=E<span class="token operator">:</span>\Program Files\nodejs\\node_modules\npm\bin\npm-cli.js
npm_config_access=
npm_config_allow_same_version=
npm_config_also=
npm_config_always_auth=
npm_config_argv=<span class="token punctuation">{</span><span class="token property">&quot;remain&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;cooked&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;run&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;original&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;run&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
npm_config_audit=<span class="token boolean">true</span>
npm_config_audit_level=low
npm_config_auth_type=legacy
npm_config_before=
npm_config_bin_links=<span class="token boolean">true</span>
npm_config_browser=
npm_config_ca=
npm_config_cache=C<span class="token operator">:</span>\Users\samy\AppData\Roaming\npm-cache
npm_config_cache_lock_retries=<span class="token number">10</span>
npm_config_cache_lock_stale=<span class="token number">60000</span>
npm_config_cache_lock_wait=<span class="token number">10000</span>
npm_config_cache_max=Infinity
npm_config_cache_min=<span class="token number">10</span>
npm_config_cafile=
npm_config_cert=
npm_config_cidr=
npm_config_color=<span class="token boolean">true</span>
npm_config_commit_hooks=<span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="模块管理"><a href="#模块管理" class="header-anchor">#</a> 模块管理</h3> <p>检查当前项目依赖的所有模块，包括子模块以及子模块的子模块：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> list/ls
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果还想查看模块的一些描述信息（<code>package.json</code>中的<code>description</code>中的内容）：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> la/ll // 相当于npm <span class="token function">ls</span> --long
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>一个项目依赖的模块往往很多，可以限制输出模块的层级来查看：【实用】</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> list/ls --depth<span class="token operator">=</span><span class="token number">0</span> <span class="token comment"># 只列出父包依赖的模块</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>检查项目中依赖的某个模块的当前版本信息：【实用】</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> list/ls <span class="token operator">&lt;</span>packageName<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看某个模块包的版本信息：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> view/info <span class="token operator">&lt;</span>packageName<span class="token operator">&gt;</span> version // 模块已经发布的最新的版本信息（不包括预发布版本）
<span class="token function">npm</span> view/info <span class="token operator">&lt;</span>packageName<span class="token operator">&gt;</span> versions // 模块所有的历史版本信息（包括预发布版本）
<span class="token function">npm</span> view/info <span class="token operator">&lt;</span>packageName<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>package.json中的key值<span class="token operator">&gt;</span> // 还能查看package.json中字段对应的值
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>查看一个模块到底是因为谁被安装进来的，如果显示为空则表明该模块为内置模块或者不存在：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> ll <span class="token operator">&lt;</span>packageName<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看某个模块的所有信息，包括它的依赖、关键字、更新日期、贡献者、仓库地址和许可证等：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> view/info <span class="token operator">&lt;</span>packageName<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看当前项目中可升级的模块：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> outdated
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>整理项目中无关的模块：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> prune
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="查看模块文档"><a href="#查看模块文档" class="header-anchor">#</a> 查看模块文档</h3> <p>打开模块的主页：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> home <span class="token operator">&lt;</span>packageName<span class="token operator">&gt;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>打开模块的代码仓库：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> repo <span class="token operator">&lt;</span>packageName<span class="token operator">&gt;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>打开模块的文档地址：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> docs <span class="token operator">&lt;</span>packageName<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>打开模块的 issues 地址：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> bugs <span class="token operator">&lt;</span>packageName<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="在不同的目录下运行脚本"><a href="#在不同的目录下运行脚本" class="header-anchor">#</a> 在不同的目录下运行脚本</h3> <p>你的文件夹中肯定存在很多应用程序，而当你想要启动某个应用程序时，肯定是通过<code>cd</code>指令一步步进入到你所想要启动的应用程序目录下，然后再执行启动命令。<code>npm</code>提供了<code>--prefix</code>可以指定启动目录：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run dev --prefix /path/to/your/folder
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="本地开发模块调试"><a href="#本地开发模块调试" class="header-anchor">#</a> 本地开发模块调试</h3> <ul><li>假设你开发的是一个全局命令行模块<code>A</code>，这时候你需要本地调试它，而不希望每次都<code>npm publish</code>模块，然后安装调试。这个时候你可以在模块的目录下执行：</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">link</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上述命令通过链接目录和可执行文件，实现任意位置的<code>npm</code>模块命令的全局可执行。执行完上述命令后，就可以全局调用<code>A</code>命令了。</p> <blockquote><p><code>npm link</code>主要做了两件事：</p> <ol><li>为目标<code>npm</code>模块创建软链接，将其链接到全局<code>node</code>模块安装路径<code>/usr/local/lib/node_modules/</code>。</li> <li>为目标<code>npm</code>模块的可执行<code>bin</code>文件创建软链接，将其链接到全局<code>node</code>命令安装路径<code>/usr/local/bin/</code>。</li></ol></blockquote> <ul><li>假设你开发的是一个功能模块<code>B</code>，然后你在项目<code>C</code>中调试它，当然你可以将该模块的代码拷贝到需要项目<code>C</code>中调试，但这也不是理想的方法，可以在项目<code>C</code>的目录下执行：</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 项目 C 中</span>
<span class="token function">npm</span> <span class="token function">link</span> B
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>上述命令为功能模块<code>B</code>创建软链接，将其链接到项目<code>C</code>模块安装路径<code>./node_modules/</code>，等同于生成了本地模块的符号链接。然后，我们就可以在项目<code>C</code>中加载该模块：</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 项目 C 中</span>
const B <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>所有对模块<code>B</code>的修改，都会直接反映在项目<code>C</code>中，为了避免风险，当你的项目不再需要该模块的时候，执行：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 项目 C 中</span>
<span class="token function">npm</span> unlink B
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="安全漏洞检查【要点】"><a href="#安全漏洞检查【要点】" class="header-anchor">#</a> 安全漏洞检查【要点】</h3> <p><a href="https://docs.npmjs.com/auditing-package-dependencies-for-security-vulnerabilities#update-dependent-packages-if-a-fix-exists" target="_blank" rel="noopener noreferrer">检查项目中是否存在具有安全漏洞的依赖包<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，如果存在，则将生成其漏洞报告显示在控制台中：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm audit [--json]  # 加上--json，以 JSON 格式生成漏洞报告
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p><code>npm</code>升级到<code>6.x</code>版本以后，在项目中更新或者下载新的依赖包以后会自动执行 <a href="https://docs.npmjs.com/cli/audit" target="_blank" rel="noopener noreferrer">npm audit<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 命令，对项目依赖包进行安全检查，如果存在安全漏洞，将生成漏洞报告并在控制台中显示。</p></blockquote> <p>修复存在安全漏洞的依赖包（自动更新到兼容的安全版本）：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> audit fix
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>执行<code>npm audit fix</code>能修复大部分存在安全漏洞的依赖包，对于一些没能自动修复漏洞的依赖包，说明出现了<code>SERVER WARNING</code>之类的警告（主要发生在依赖包更改了不兼容的<code>api</code>或者大版本做了升级的情况下），这意味着推荐的修复版本还可能出现问题，这时可以执行如下命令来修复这些依赖包：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> audit fix --force
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p><code>--force</code>会将依赖包版本号升级到最新的大版本，而不是兼容的安全版本。大版本的升级可能会出现一些不兼容的用法，所以尽量避免使用<code>--force</code>。</p></blockquote> <p>如果执行<code>npm audit fix --force</code>后还是存在有安全漏洞的依赖包，手动执行<code>npm audit</code>打印出还存在安全漏洞的依赖包的具体信息，其中<code>More info</code>对应的链接中可能给出了解决方案。</p> <p>如果想知道<code>audit fix</code>会怎么处理项目中的依赖包，可以预先查看：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> audit fix --dry-run --json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果只想修复生产环境的依赖包（只更新<code>dependencies</code>中的依赖包，不更新<code>devDependencies</code>中的依赖包）：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> audit --only<span class="token operator">=</span>prod
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果不想修复依赖包，只修改<code>package-lock.json</code>文件：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> audit fix --package-lock-only
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果想安装某个包时不进行安全漏洞检查：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> packageName --no-audit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>要想安装所有包时都不进行安全漏洞检查，则可以修改<code>npm</code>配置：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> config <span class="token builtin class-name">set</span> audit <span class="token boolean">false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="依赖锁定【要点】"><a href="#依赖锁定【要点】" class="header-anchor">#</a> 依赖锁定【要点】</h3> <p><code>npm</code>默认安装模块时，会通过脱字符<code>^</code>来限定所安装模块的主版本号。可以配置<code>npm</code>通过波浪符<code>~</code>来限定安装模块版本号：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> config <span class="token builtin class-name">set</span> save-prefix<span class="token operator">=</span><span class="token string">&quot;~&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当然还可以配置<code>npm</code>仅安装精确版本号的模块：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> config <span class="token builtin class-name">set</span> save-exact <span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="相关问题总括"><a href="#相关问题总括" class="header-anchor">#</a> 相关问题总括</h2> <h3 id="no-such-file-or-directory-open-node-modules-staging"><a href="#no-such-file-or-directory-open-node-modules-staging" class="header-anchor">#</a> no such file or directory, open '/node_modules/.staging/</h3> <p>在使用<code>npm</code>过程中连续产生多行报错</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>no such file or directory, open '/node_modules/.staging/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>原因</strong></p> <ul><li>可能是用yarn<code>和</code>npm<code>冲突了，移除对应的</code>.lock`文件；</li> <li><code>npm</code>版本配置不一致导致，可以尝试重新安装<code>npm</code>解决；</li></ul> <p><strong>解决方案</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> cache clean -f <span class="token comment">#或者手动删除npm依赖文件夹 C:\Users\samy\AppData\Roaming\npm-cache</span>
<span class="token function">npm</span> <span class="token function">install</span> -g <span class="token function">npm</span> <span class="token comment">#用nvm修改为其他可以对应的node版本 nvm install 10.18.3</span>
<span class="token comment"># 删除文件 package-lock.json，再重新执行npm i或者npm install npm install几次下载</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>或者换一种方式yarn</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -g yrm
yrm use taobao/xxx
<span class="token function">yarn</span> <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="npm-err-code-eintegrity"><a href="#npm-err-code-eintegrity" class="header-anchor">#</a> npm ERR! code EINTEGRITY</h3> <p>由于这两个错误是使用同个命令然后出现的问题，就一起记录了。
解决方案：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> cache verify
<span class="token comment">#或</span>
<span class="token function">npm</span> cache clean
<span class="token function">npm</span> cache clean --force
<span class="token function">npm</span> <span class="token function">install</span>

<span class="token comment">#npm i -g npm</span>
<span class="token comment">#grep -ir &quot;sha1-xxxxxxxxxxxxxxxx&quot; ~/.npm</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>用第一个命令解决的，第二条是我之前也有遇到类似的问题，然后用这条命令解决的。</p> <h2 id="相关链接"><a href="#相关链接" class="header-anchor">#</a> 相关链接</h2> <p>https://juejin.cn/post/6844904022080667661</p> <p>https://juejin.im/post/6844903870578032647</p> <p>https://juejin.cn/post/6844904159226003463</p></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/04/15, 05:41:27</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/rat-summ/pages/c7cd4e/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">node版本及源管理</div></a> <a href="/rat-summ/pages/b9d467/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">npm发布及私服搭建</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/rat-summ/pages/c7cd4e/" class="prev">node版本及源管理</a></span> <span class="next"><a href="/rat-summ/pages/b9d467/">npm发布及私服搭建</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:yessz@foxmail.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/samyzh" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
    Copyright © 2015-2022
    <span><a href='https://my.samyz.cn' target='_blank'>友一升 | yessz</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">跟随系统</li><li class="iconfont icon-rijianmoshi">浅色模式</li><li class="iconfont icon-yejianmoshi">深色模式</li><li class="iconfont icon-yuedu">阅读模式</li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><i class="close-but">×</i> <div><!-- 固定160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;width:160px;height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/rat-summ/assets/js/app.12c8e251.js" defer></script><script src="/rat-summ/assets/js/3.9ee9750d.js" defer></script><script src="/rat-summ/assets/js/134.fad0beeb.js" defer></script><script src="/rat-summ/assets/js/126.5b6d9993.js" defer></script>
  </body>
</html>